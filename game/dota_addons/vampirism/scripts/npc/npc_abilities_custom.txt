//Notes:
//MODIFIER_PROPERTY_HEALTH_BONUS seems to be #problematic, doesnt want to be added as passive.
//instead, run AddHealthUpgrade in research.lua.

"DOTAAbilities"
{
  "vamp_fountain_heal"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_AOE | DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "BaseClass" "ability_datadriven"
    "AbilityTextureName"  ""
    "OnSpellStart"
    {
      "ApplyModifier"
      {
        "ModifierName"  "health_regen"
        "Target"
        {
          "Center"  "CASTER"
          "Radius"  "%health_radius"
          "Teams" "DOTA_UNIT_TARGET_TEAM_BOTH"
          "Types" "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_CREEP | DOTA_UNIT_TARGET_MECHANICAL | DOTA_UNIT_TARGET_OTHER"
        }

      }

    }

    "Modifiers"
    {
      "fx_heal_aura"
      {
        "Passive" "1"
        "IsHidden"  "1"
        "OnCreated"
        {
          "AttachEffect"
          {
            "Target"  "TARGET"
            "EffectName"  "particles/generic_gameplay/radiant_fountain_regen_mist.vpcf"
            "EffectAttatchType" "follow_origin"
            "ControlPoints"
            {
              "00"  "0 0 0"
              "01"  "%health_radius 0 0"
              "02"  "0 0 -200"
            }
          }
        }
      }

      "aura_health_regen"
      {
        "IsHidden"  "0"
        "Passive" "1"
        "Aura"  "health_regen"
        "Aura_Radius" "%health_radius"
        "Aura_Teams"  "DOTA_UNIT_TARGET_TEAM_BOTH"
        "Aura_Types"  "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_CREEP | DOTA_UNIT_TARGET_MECHANICAL"
        "Aura_ApplyToCaster"  "0"
      }

      "health_regen"
      {
        "Properties"
        {
          "MODIFIER_PROPERTY_HEALTH_REGEN_PERCENTAGE" "%health_regen_amount"
          "MODIFIER_PROPERTY_MANA_REGEN_TOTAL_PERCENTAGE" "%mana_regen_amount"
        }

      }

    }

    "AbilitySpecial"
    {
      "01"
      {
        "var_type"  "FIELD_INTEGER"
        "health_radius" "600"
      }

      "02"
      {
        "var_type"  "FIELD_FLOAT"
        "health_regen_amount" "1"
      }

      "03"
      {
        "var_type"  "FIELD_FLOAT"
        "mana_regen_amount" "1"
      }
    }

  }

  "vamp_farsight"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_AOE"
    "BaseClass" "ability_datadriven"
    "AbilityTextureName"  "reveal"
    "MaxLevel"  "3"
    "AbilityCooldown" "30"
    "OnSpellStart"
    {
      "SpawnUnit"
      {
        "UnitName"  "vision_dummy_passive"
        "Target"  "POINT"
        "Duration"  "30"
        "UnitCount" "1"
      }
    }
  }
  //================================================================================= /
  // Buff: Is a building is applied on building spawn to make the building deniable
  //================================================================================= /
  "is_a_building"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass" "ability_datadriven"

    
    "Modifiers"
    {
      "modifier_building_deniable"
      {
        "Passive" "1"
        "IsHidden" "1"
        "States"
        {
           "MODIFIER_STATE_SPECIALLY_DENIABLE" "MODIFIER_STATE_VALUE_ENABLED"
        }
        "OnAttacked"
        {
          "RunScript"
          {
            "ScriptFile"  "scripts/vscripts/abilities.lua"
            "Function"    "VerifyAttacker"
          }
        }
      }
    }
  }
  //================================================================================= /
  // Builder modifier to signal that builder is processing a queue
  //================================================================================= /
  "has_build_queue"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "BaseClass" "ability_datadriven"

    
    "Modifiers"
    {
      "modifier_has_build_queue"
      {
        "Passive" "1"
        "IsHidden"  "1"
        "OnOrder"
        {
          "RunScript"
          {
            "ScriptFile"  "scripts/vscripts/abilities.lua"
            "Function"    "BuildingQ"
          }
        }
      }
    }
  }
  //================================================================================= /
  // Tombstone modifier to make it invulnerable until the player decides what to do (within 60s)
  //================================================================================= /
  "human_tomb_timer"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass" "ability_datadriven"
    "OnSpellStart"
    {
      "ApplyModifier"
      {
        "Target"  "CASTER"
        "ModifierName"  "modifier_human_tomb"
      }

    }

    "Modifiers"
    {
      "modifier_human_tomb"
      {
        "Passive" "1"
        "Duration"  "60"
        "States"
        {
          "MODIFIER_STATE_INVULNERABLE" "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }
  //================================================================================= /
  // Turns the Tombstone into a gargoyle, if the gargoyle makes it back to the spawn they can become a vamp
  //================================================================================= /
  "become_vampire"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass" "ability_datadriven"
    "AbilityTextureName"  "visage_summon_familiars"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/abilities.lua"
        "Function"    "SpawnGargoyle"
      }
    }
  }
  //================================================================================= /
  // Turns the gargoyle into a vampire, must be cast on blight
  //================================================================================= /
  "vampire_form"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass" "ability_datadriven"
    "AbilityTextureName"    "life_stealer_feast"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/abilities.lua"
        "Function"    "BecomeVampire"
      }
    }
  }



  //Set rally point for workers created by this building
  "set_rally_point"
  {
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_TREE"
    "AbilityTextureName"        "legion_commander_duel"
    "BaseClass" "ability_datadriven"
    "MaxLevel"            "1"
    "AbilityCastPoint"        "0.3"
    "AbilityCooldown"       "0"
    "AbilityCastRange"      "5000"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Target"      "POINT"
        "Function"    "SetRallyPoint"
      }
    }
  }

  //===================================================================
  // Worker Detonate
  //===================================================================
  "worker_det"
  {
    "BaseClass"                 "ability_datadriven"
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_AOE | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityTextureName"        "bloodseeker_rupture"
    "MaxLevel"             "1"
    "AoERadius"           "250"
    "AbilityCastPoint"    "0.3"

    "precache"
    {
      "particle"  "particles/generic_gameplay/generic_hit_blood_flash.vpcf"
    }

    "OnSpellStart"
    {
      "FireEffect"
      {
        "EffectName"          "particles/generic_gameplay/generic_hit_blood_flash.vpcf"
        "EffectAttachType"    "follow_origin"
        "Target"              "CASTER"
        "EffectRadius"        "250"
      }
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/abilities.lua"
        "Target"      "POINT"
        "Function"    "WorkerDet"
      }
    }
  }

  //===================================================================
  // Worker Stack
  //===================================================================
  "worker_stack"
  {
    "BaseClass"                  "ability_datadriven"
    "AbilityBehavior"            "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"

    "Modifiers"
    {
      "modifier_worker_stack"
      {
        "Passive"       "0"
        "IsHidden"      "0"

        "OnTakeDamage"
        // "%attack_damage" is set to the damage value after mitigation
        {
          "RunScript"
          {
            "ScriptFile"  "units/worker.lua"
            "Function"    "StackDamaged"
          }
        }
      }
    }
  }

  "spawn_worker_t1"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass" "ability_datadriven"
    "AbilityTextureName"  "spawn_worker_t1"
    "AbilityModifierSupportValue" "0.5"
    "MaxLevel"  "1"
    "AbilityManaCost" "0"
    "OnSpellStart"
    {
      "ApplyModifier"
      {
        "ModifierName"  "t1_worker_training"
        "Target"    "CASTER"
      }
    }
    "Modifiers"
    {
      "t1_worker_training"
      {
        "IsPurgable"  "false"
        "IsStunDebuff" "false"
        "IsHidden"  "false"
        "Attributes" "MODIFIER_ATTRIBUTE_MULTIPLE"
        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"  "scripts/vscripts/buildings/building.lua"
            "Function"    "TrainUnit"
            "AddToQueue"  "t1_worker_training"
            "SpawnUnit"   "worker_t1"
          }
        }
      }
    }
  }
  
  "t1_worker_training"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass" "ability_datadriven"
    "AbilityCastPoint"  "0"
    "AbilityChannelTime" "1.0"
  }

  //==============================================================
  // T2 Worker Spawning
  //==============================================================
  "spawn_worker_t2"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass" "ability_datadriven"
    "AbilityTextureName"  "spawn_worker_t2"
    "AbilityModifierSupportValue" "0.5"
    "MaxLevel"  "1"
    "AbilityManaCost" "0"
    "GoldCost" "0"
    "OnSpellStart"
    {
      "ApplyModifier"
      {
        "ModifierName"  "t2_worker_training"
        "Target"    "CASTER"
      }
    }

    "Modifiers"
    {
      "t2_worker_training"
      {
        "IsPurgable"  "false"
        "IsStunDebuff" "false"
        "IsHidden"  "false"
        "Attributes" "MODIFIER_ATTRIBUTE_MULTIPLE"
        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"  "scripts/vscripts/buildings/building.lua"
            "Function"    "TrainUnit"
            "AddToQueue"  "t2_worker_training"
            "SpawnUnit"   "worker_t2"
            "GoldCost"    "1"
            "WoodCost"    "1000"
          }
        }
      }
    }
  }
  //======================================================
  // T2 worker channel time
  //======================================================
  "t2_worker_training"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass" "ability_datadriven"
    "AbilityCastPoint"  "0"
    "AbilityChannelTime" "1.0"
  }

  //==============================================================
  // T3 Worker Spawning
  //==============================================================
  "spawn_worker_t3"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass" "ability_datadriven"
    "AbilityTextureName"  "spawn_worker_t3"
    "AbilityModifierSupportValue" "0.5"
    "MaxLevel"  "1"
    "AbilityManaCost" "0"
    "AbilityGoldCost" "0"
    "OnSpellStart"
    {
      "ApplyModifier"
      {
        "ModifierName"  "t3_worker_training"
        "Target"    "CASTER"
      }
    }

    "Modifiers"
    {
      "t3_worker_training"
      {
        "IsPurgable"  "false"
        "IsStunDebuff" "false"
        "IsHidden"  "false"
        "Attributes" "MODIFIER_ATTRIBUTE_MULTIPLE"
        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"  "scripts/vscripts/buildings/building.lua"
            "Function"    "TrainUnit"
            "AddToQueue"  "t3_worker_training"
            "SpawnUnit"   "worker_t3"
            "GoldCost"    "20"
            "WoodCost"    "1000"
          }
        }
      }
    }
  }
  //======================================================
  // T2 worker channel time
  //======================================================
  "t3_worker_training"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass" "ability_datadriven"
    "AbilityCastPoint"  "0"
    "AbilityChannelTime" "1.0"
  }

  "cancel_training"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass" "ability_datadriven"
    "AbilityTextureName"  "build_cancel"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Cancel"
      }
    }
  }

  //==============================================================
  // T4 Worker Spawning
  //==============================================================
  "spawn_worker_t4"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass" "ability_datadriven"
    "AbilityTextureName"  "spawn_worker_t4"
    "AbilityModifierSupportValue" "0.5"
    "MaxLevel"        "1"
    "NeedTech"        "command_center"
    "OnSpellStart"
    {
      "ApplyModifier"
      {
        "ModifierName"  "t4_worker_training"
        "Target"    "CASTER"
      }
    }

    "Modifiers"
    {
      "t4_worker_training"
      {
        "IsPurgable"  "false"
        "IsStunDebuff" "false"
        "IsHidden"  "false"
        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"  "scripts/vscripts/buildings/building.lua"
            "Function"    "TrainUnit"
            "AddToQueue"  "t4_worker_training"
            "SpawnUnit"   "worker_t4"
            "GoldCost"    "70"
            "WoodCost"    "0"
          }
        }
      }
    }
  }
  //======================================================
  // T4 worker channel time
  //======================================================
  "t4_worker_training"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass" "ability_datadriven"
    "AbilityCastPoint"  "0"
    "AbilityChannelTime" "1.0"
  }

  "cancel_training"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass" "ability_datadriven"
    "AbilityTextureName"  "build_cancel"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Cancel"
      }
    }
  }

  //==============================================================
  // T5 Worker Spawning
  //==============================================================
  "spawn_worker_t5"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass" "ability_datadriven"
    "AbilityTextureName"  "spawn_worker_t5"
    "AbilityModifierSupportValue" "0.5"
    "MaxLevel"        "1"
    "NeedTech"        "base_operations"
    "OnSpellStart"
    {
      "ApplyModifier"
      {
        "ModifierName"  "t5_worker_training"
        "Target"    "CASTER"
      }
    }

    "Modifiers"
    {
      "t5_worker_training"
      {
        "IsPurgable"  "false"
        "IsStunDebuff" "false"
        "IsHidden"  "false"
        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"  "scripts/vscripts/buildings/building.lua"
            "Function"    "TrainUnit"
            "AddToQueue"  "t5_worker_training"
            "SpawnUnit"   "worker_t5"
            "GoldCost"    "400"
            "WoodCost"    "0"
          }
        }
      }
    }
  }
  //======================================================
  // T5 worker channel time
  //======================================================
  "t5_worker_training"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass" "ability_datadriven"
    "AbilityCastPoint"  "0"
    "AbilityChannelTime" "1.0"
  }

  "cancel_training"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass" "ability_datadriven"
    "AbilityTextureName"  "build_cancel"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Cancel"
      }
    }
  }



  //==============================================================
  // Simple Tower Builder spawning
  //==============================================================
  "spawn_simple_tower_builder"
  {
    "AbilityBehavior"                     "DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass"                           "ability_datadriven"
    "AbilityTextureName"                  "bounty_hunter_wind_walk"
    "AbilityModifierSupportValue"         "0.5"
    "MaxLevel"                            "1"
    "AbilityManaCost"                     "0"
    "GoldCost"                            "0"
    "OnSpellStart"
    {
      "ApplyModifier"
      {
        "ModifierName"                    "simple_tower_builder_training"
        "Target"                          "CASTER"
      }
    }

    "Modifiers"
    {
      "simple_tower_builder_training"
      {
        "IsPurgable"                      "false"
        "IsStunDebuff"                    "false"
        "IsHidden"                        "false"
        "Attributes"                      "MODIFIER_ATTRIBUTE_MULTIPLE"
        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"                  "scripts/vscripts/buildings/building.lua"
            "Function"                    "TrainUnit"
            "AddToQueue"                  "simple_tower_builder_training"
            "SpawnUnit"                   "simple_tower_builder"
          }
        }
      }
    }
  }

  //======================================================
  // Simple Tower builder channel timer
  //======================================================
  "simple_tower_builder_training"
  {
    "AbilityBehavior"                     "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass"                           "ability_datadriven"
    "AbilityCastPoint"                    "0"
    "AbilityChannelTime"                  "1.0"
    "AbilityTextureName"                  "bounty_hunter_wind_walk"
  }

  //==============================================================
  // Super Tower Builder spawning
  //==============================================================
  "spawn_super_tower_builder"
  {
    "AbilityBehavior"                     "DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass"                           "ability_datadriven"
    "AbilityTextureName"                  "bounty_hunter_wind_walk"
    "AbilityModifierSupportValue"         "0.5"
    "MaxLevel"                            "1"
    "AbilityManaCost"                     "0"
    "GoldCost"                            "4"
    "LumberCost"                          "5000"
    "NeedTech"                            "citadel_of_faith"
    "OnSpellStart"
    {
      "ApplyModifier"
      {
        "ModifierName"                    "super_tower_builder_training"
        "Target"                          "CASTER"
      }
    }

    "Modifiers"
    {
      "super_tower_builder_training"
      {
        "IsPurgable"                      "false"
        "IsStunDebuff"                    "false"
        "IsHidden"                        "false"
        "Attributes"                      "MODIFIER_ATTRIBUTE_MULTIPLE"
        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"                  "scripts/vscripts/buildings/building.lua"
            "Function"                    "TrainUnit"
            "AddToQueue"                  "super_tower_builder_training"
            "SpawnUnit"                   "super_tower_builder"
          }
        }
      }
    }
  }

  //======================================================
  // Super Tower builder channel timer
  //======================================================
  "super_tower_builder_training"
  {
    "AbilityBehavior"                     "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass"                           "ability_datadriven"
    "AbilityCastPoint"                    "0"
    "AbilityChannelTime"                  "1.0"
    "AbilityTextureName"                  "bounty_hunter_wind_walk"
  }

  //==============================================================
  // Goblin Tower Builder spawning
  //==============================================================
  "spawn_goblin_tower_builder"
  {
    "AbilityBehavior"                     "DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass"                           "ability_datadriven"
    "AbilityTextureName"                  "bounty_hunter_wind_walk"
    "AbilityModifierSupportValue"         "0.5"
    "MaxLevel"                            "1"
    "AbilityManaCost"                     "0"
    "GoldCost"                            "150"
    "LumberCost"                          "0"
    "OnSpellStart"
    {
      "ApplyModifier"
      {
        "ModifierName"                    "goblin_tower_builder_training"
        "Target"                          "CASTER"
      }
    }

    "Modifiers"
    {
      "goblin_tower_builder_training"
      {
        "IsPurgable"                      "false"
        "IsStunDebuff"                    "false"
        "IsHidden"                        "false"
        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"                  "scripts/vscripts/buildings/building.lua"
            "Function"                    "TrainUnit"
            "AddToQueue"                  "goblin_tower_builder_training"
            "SpawnUnit"                   "goblin_tower_builder"
          }
        }
      }
    }
  }

  //======================================================
  // Super Tower builder channel timer
  //======================================================
  "goblin_tower_builder_training"
  {
    "AbilityBehavior"                     "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass"                           "ability_datadriven"
    "AbilityCastPoint"                    "0"
    "AbilityChannelTime"                  "1.0"
    "AbilityTextureName"                  "bounty_hunter_wind_walk"
  }


  "harvest_t1"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    "AbilityUnitTargetType" "DOTA_UNIT_TARGET_TREE"
    "BaseClass" "ability_datadriven"
    "MaxLevel"  "1"
    "AbilityManaCost" "0"
    "OnSpellStart"
    {
      "RunScript"
      {
        "Target"  "UNIT"
        "ScriptFile"  "scripts/vscripts/abilities.lua"
        "Function"  "harvest_t1"
      }
    }
  }

  "find_lumber"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_AUTOCAST | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass"             "ability_datadriven"
    "AbilityCastRange"      "128"
    "AbilityCooldown"        "0.5"
    "AbilityTextureName"      "bounty_hunter_track"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/units/worker.lua"
        "Function"    "FindLumber"
      }
    }
  }

  //======================================================
  // Lets player see how close to a house the worker needs to be.
  //======================================================
  "harvest_indicator"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "BaseClass" "ability_datadriven"
    "MaxLevel"  "1"
    "AbilityManaCost" "0"
    "AbilityCastRange" "300"
  }

  //======================================================
  // Harvest Channelling ability
  //======================================================
  "harvest_channel"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    "AbilityUnitTargetType" "DOTA_UNIT_TARGET_TREE"
    "BaseClass" "ability_datadriven"
    "AbilityCastPoint"  "0"
    "AbilityCastRange"        "128"
    "AbilityChannelTime" "0.5"
    "AbilityCastAnimation" "ACT_DOTA_ATTACK"
    "AbilityTextureName"    "beastmaster_wild_axes"
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/units/worker.lua"
        "Function"    "ChoppedLumber"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/units/worker.lua"
        "Function"    "Interrupted"
      }
    }
  }

  "carrying_lumber"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass" "ability_datadriven"
    "AbilityCastPoint"  "0"
    "Modifiers"
    {
      "modifier_carrying_lumber"
      {
        "Passive" "1"
        "Attributes"  "MODIFIER_ATTRIBUTE_MULTIPLE | MODIFIER_ATTRIBUTE_PERMANENT"
      }
    }
  }

  //======================================================
  // Harvest - Drop lumper at house
  //======================================================
  "drop_lumber"
  {
    "BaseClass" "ability_datadriven"
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_BASIC"
    "AbilityTextureName"        "undying_soul_rip"
    "AbilityCastPoint"  "0"
    "AbilityCastRange"        "128"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/units/worker.lua"
        "Function"    "DropLumber"
      }
    }
  }

  "bh_dummy_unit"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "BaseClass" "ability_datadriven"
    "AbilityTextureName"  "rubick_empty1"
    "MaxLevel"  "1"
    "OnSpellStart"
    {
      "ApplyModifier"
      {
        "Target"  "CASTER"
        "ModifierName"  "bh_dummy"
      }
    }

    "Modifiers"
    {
      "bh_dummy"
      {
        "Passive" "1"
        "IsHidden"  "1"
        "States"
        {
          "MODIFIER_STATE_UNSELECTABLE" "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NO_HEALTH_BAR"  "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_INVULNERABLE" "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NOT_ON_MINIMAP" "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }

  //======================================================
  // Call BuildUI
  //======================================================
  "call_buildui"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_DONT_RESUME_ATTACK | DOTA_ABILITY_BEHAVIOR_IGNORE_CHANNEL" 
    "BaseClass" "ability_datadriven"
    "AbilityTextureName"  "call_build"
    "MaxLevel"  "1"
    "AbilityCooldown"       "0"

    "OnSpellStart"
    {
      "RunScript"
      {
        "Target"  "CASTER"
        "ScriptFile"  "scripts/vscripts/buildui.lua"
        "Function"  "CallMenu"
      }
    }
  }

  //======================================================
  // Human Blink
  //======================================================
  "human_blink"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_POINT"
    "BaseClass" "ability_datadriven"
    "AbilityTextureName"  "antimage_blink"
    "MaxLevel"  "2"
    "AbilityCastRange"  "1000000"
    "AbilityCastPoint"  "0.33"
    "AbilityCastAnimation"  "ACT_DOTA_CAST_ABILITY_1"
    "AbilityManaCost" "1"

    "precache"
    {
      "particle"  "particles/human/antimage_blink_start.vpcf"
      "particle"  "particles/human/antimage_blink_end.vpcf"
      "soundfile" "soundevents/game_sounds_heroes/game_sounds_antimage.vsndevts"
    }

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/abilities.lua"
        "Target"      "POINT"
        "Function"    "HumanBlink"
      }

      "FireSound"
      {
        "EffectName"  "Hero_Antimage.Blink_out"
        "Target"    "CASTER"
      }
  
      "AttachEffect"
      {
        "EffectName"  "particles/human/antimage_blink_start.vpcf"
        "Target"    "CASTER"
        "EffectAttachType"  "attach_hitloc"
      }
  
      "FireSound"
      {
        "EffectName"  "Hero_Antimage.Blink_in"
        "Target"    "CASTER"
      }
  
      "AttachEffect"
      {
        "EffectName"  "particles/human/antimage_blink_end.vpcf"
        "Target"    "CASTER"
        "EffectAttachType"  "follow_origin"
      }
    }
  }

  "human_manaburn"
  {
    "BaseClass" "satyr_soulstealer_mana_burn"
    "MaxLevel"  "1"
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    "Modelscale"  ".85"
    "AbilityUnitDamageType" "DAMAGE_TYPE_MAGICAL"
    "AbilityUnitTargetTeam" "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType" "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityCastRange"  "450"
    "AbilityCastPoint"  "0.5"
    "AbilityCooldown" "30"
    "AbilityManaCost" "9"
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"  "FIELD_INTEGER"
        "burn_amount" "500"
      }
    }
  }


  //================================================================================= /
  // Summon Slayer
  //================================================================================= /
  "summon_slayer_m"
  {
    "BaseClass"           "ability_datadriven"
    "MaxLevel"            "1"
    "AbilityTextureName"      "summon_slayer_m"
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "AbilityChannelTime"  "60"
    "LumberCost" "400"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/abilities/slayer.lua"
        "Function"    "SummonSlayer"
        "TARGET"  "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/abilities/slayer.lua"
        "Function"    "Refund"
        "TARGET"  "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/abilities/slayer.lua"
        "Function"    "SpawnSlayer"
        "Gender"        "male"
        "TARGET"  "CASTER"
      }
    }
  }

  "slayer_attribute_bonus"
  {
    "BaseClass" "ability_datadriven"
    "MaxLevel"  "20"
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "LevelsBetweenUpgrades" "1"
    "OnUpgrade"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/abilities.lua"
        "Function"  "slayer_attribute_bonus"
        "Target"  "CASTER"
      }

    }
  }

  //================================================================================= /
  // Slayer blink
  //================================================================================= /
  "slayer_blink"
  {
    "BaseClass"               "ability_datadriven"
    "AbilityTextureName"      "antimage_blink"
    "AbilityBehavior"         "DOTA_ABILITY_BEHAVIOR_POINT"
    "MaxLevel"                "1"
    "AbilityManaCost"         "500"
    "AbilityCooldown"         "5"
    "AbilityCastRange"        "150000"
    "AbilityCastPoint"        "0.3"
    "AbilityCastAnimation"      "ACT_DOTA_CAST_ABILITY_6"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/abilities/slayer.lua"
        "Target"      "POINT"
        "Function"    "SlayerBlink"
      }
      "FireSound"
      {
        "EffectName"  "Hero_Antimage.Blink_out"
        "Target"    "CASTER"
      }
  
      "AttachEffect"
      {
        "EffectName"  "particles/human/antimage_blink_start.vpcf"
        "Target"    "CASTER"
        "EffectAttachType"  "attach_hitloc"
      }
  
      "FireSound"
      {
        "EffectName"  "Hero_Antimage.Blink_in"
        "Target"    "CASTER"
      }
  
      "AttachEffect"
      {
        "EffectName"  "particles/human/antimage_blink_end.vpcf"
        "Target"    "CASTER"
        "EffectAttachType"  "follow_origin"
      }
    }
  }

  //================================================================================= /
  // Super blink
  //================================================================================= /
  "super_blink"
  {
    "BaseClass"               "ability_datadriven"
    "AbilityTextureName"      "antimage_blink"
    "AbilityBehavior"         "DOTA_ABILITY_BEHAVIOR_POINT"
    "MaxLevel"                "1"
    "AbilityCooldown"         "5"
    "AbilityCastRange"        "150000"
    "AbilityCastPoint"        "0.3"
    "AbilityCastAnimation"      "ACT_DOTA_CAST_ABILITY_6"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/abilities/slayer.lua"
        "Target"      "POINT"
        "Function"    "SlayerBlink"
      }

      "FireSound"
      {
        "EffectName"  "Hero_Antimage.Blink_out"
        "Target"    "CASTER"
      }
  
      "AttachEffect"
      {
        "EffectName"  "particles/human/antimage_blink_start.vpcf"
        "Target"    "CASTER"
        "EffectAttachType"  "attach_hitloc"
      }
  
      "FireSound"
      {
        "EffectName"  "Hero_Antimage.Blink_in"
        "Target"    "CASTER"
      }
  
      "AttachEffect"
      {
        "EffectName"  "particles/human/antimage_blink_end.vpcf"
        "Target"    "CASTER"
        "EffectAttachType"  "follow_origin"
      }
    }
  }

  //================================================================================= /
  // Slayer Summon Tracker
  //================================================================================= /
  "slayer_summon_tracker"
  {
    "BaseClass"               "ability_datadriven"
    "AbilityTextureName"      "/rubick/harlequin_icons/rubick_null_field"
    "AbilityBehavior"         "DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                "1"
    "RequiredLevel"           "5"
    "AbilityManaCost"         "500"
    "AbilityCastPoint"        "0.3"
    "AbilityCooldown"        "180"
    "AbilityCastAnimation"    "ACT_DOTA_CAST_ABILITY_6"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/abilities/slayer.lua"
        "Target"  "POINT"
        "Function"  "SlayerSummonTracker"
      }
    }
  }

  //================================================================================= /
  // Slayer Tracker True Sight
  //================================================================================= /
  "slayer_tracker_truesight"
  {
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"      "rubick_empty1"
    "MaxLevel"            "1"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_AURA"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL"
    
    "precache"
    {
      "particle"  "particles/items_fx/necronomicon_true_sight.vpcf"
    }

    "Modifiers"
    {
      "modifier_tracker_truesight"
      {
        "Passive"     "1"
        "IsHidden"      "0"
        "IsDebuff"      "0"

        "EffectName"    "particles/items_fx/necronomicon_true_sight.vpcf"
        "EffectAttachType"  "attach_head" 

        "Aura"            "modifier_tracker_aura"
        "Aura_Radius"     "800"
        "Aura_Teams"      "DOTA_UNIT_TARGET_TEAM_ENEMY"
        "Aura_Types"      "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
        "Aura_Flags"      "DOTA_UNIT_TARGET_FLAG_NONE"
        "Aura_ApplyToCaster" "0"
      }

      "modifier_tracker_aura"
      {
        "OnCreated"
        {
          "ApplyModifier"
          {
            "ModifierName"  "modifier_truesight"
            "Target"    "TARGET"
          }
        }

        "OnDestroy"
        {
          "RemoveModifier"
          {
            "ModifierName"  "modifier_truesight"
            "Target"    "TARGET"
          }
        }
      }
    }
  }

  //================================================================================= /
  // Slayer Tracker Summon Time
  //================================================================================= /
  "slayer_tracker_debuffs"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass" "ability_datadriven"
    
    "Modifiers"
    {
      "modifier_duration"
      {
        "Passive" "1"
        "Duration"  "120"
        "OnDestroy"
        {
          "RunScript"
          {
            "ScriptFile"  "scripts/vscripts/abilities/slayer.lua"
            "Function"    "SlayerRemoveTracker"
          }
        }
      }
    }
  }

  //================================================================================= /
  // Slayer Building Protection
  //================================================================================= /
  "slayer_building_protection"
  {
    "BaseClass"                  "ability_datadriven"
    "MaxLevel"                   "2"
    "AbilityBehavior"            "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_CHANNELLED"
    "AbilityUnitTargetTeam"      "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "AbilityUnitTargetType"      "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitDamageType"      "DAMAGE_TYPE_MAGICAL"
    "RequiredLevel"              "10"
    "AbilityTextureName"         "omniknight_guardian_angel"

    
    "AbilityManaCost"            "1000"
    "AbilityCooldown"            "5"
    "AbilityChannelTime"         "4.0 20.0"
    
    
    "precache"
    {
      "particle"  "particles/items_fx/black_king_bar_avatar.vpcf"
    }

    "AbilitySpecial"
    {
      "01"
      {
        "var_type"      "FIELD_INTEGER"
        "area"      "400 1000" 
      }
      "02"
      {
        "var_type"      "FIELD_FLOAT"
        "duration"    "4.0 20.0"
      }
    }

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"    "scripts/vscripts/abilities/slayer.lua"
        "Function"      "SlayerBuildingProtection"
        "InvulRadius"          "%area"
      }
    }

    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"    "scripts/vscripts/abilities/slayer.lua"
        "Function"      "SlayerBuildingProtectionEnd"
        "InvulRadius"          "%area"
      }
    }

    "Modifiers"
    {
      "modifier_building_invulnerable"
      {
        "Passive"      "0"
        "IsHidden"      "0"
        "IsDebuff"      "0"
        "Duration"      "%duration"
    
        "EffectName"    "particles/items_fx/black_king_bar_avatar.vpcf"
        "EffectAttachType"  "follow_origin"

        "States"
        {
          "MODIFIER_STATE_INVULNERABLE"    "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }

  //================================================================================= /
  // Slayer Avatar
  //================================================================================= /
  "slayer_avatar"
  {
    "BaseClass"                  "ability_datadriven"
    "MaxLevel"                   "1"
    "AbilityBehavior"            "DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "AbilityUnitTargetTeam"      "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "AbilityUnitTargetType"      "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitDamageType"      "DAMAGE_TYPE_MAGICAL"
    "RequiredLevel"               "10"
    "AbilityTextureName"          "invoker_ghost_walk"

    
    "AbilityManaCost"            "1000"
    "AbilityCooldown"            "5"    
    
    "precache"
    {
      "particle"  "particles/items_fx/black_king_bar_avatar.vpcf"
    }

    "AbilitySpecial"
    {
      "01"
      {
        "var_type"      "FIELD_FLOAT"
        "bonus_hp"    "500" 
      }
      "02"
      {
        "var_type"      "FIELD_FLOAT"
        "duration"    "20"
      }
      "03"
      {
        "var_type"      "FIELD_FLOAT"     
        "modelscale"    "25"
      }
      "04"
      {
        "var_type"      "FIELD_INTEGER"
        "bonus_damage"      "20"
      }
    }

    "OnSpellStart"
    {
        "ApplyModifier"
        {
          "Target"          "CASTER"
          "ModifierName"    "modifier_slayer_avatar"
        }
        "RunScript"
        {
          "ScriptFile"  "scripts/vscripts/abilities/slayer.lua"
          "Function"    "SlayerAvatarStart"
          "Modelscale"  "%modelscale"
        }
    }

    "Modifiers"
    {
      "modifier_slayer_avatar"
      {
        "Passive"       "0"
        "IsHidden"      "0"
        "IsDebuff"      "0"
        "Duration"      "%duration"
    
        "EffectName"    "particles/items_fx/black_king_bar_avatar.vpcf"
        "EffectAttachType"  "follow_origin"

        "States"
        {
          "MODIFIER_STATE_MAGIC_IMMUNE"    "MODIFIER_STATE_VALUE_ENABLED"
        }
        "Properties"
        {
          "MODIFIER_PROPERTY_BASEATTACK_BONUSDAMAGE"    "%bonus_damage"
          "MODIFIER_PROPERTY_HEALTH_BONUS"              "%bonus_hp"
        }

        "OnDestroy"
        {
          "RunScript"
          {
          "ScriptFile"  "scripts/vscripts/abilities.lua"
          "Function"    "SlayerAvatarEnd"
          "Modelscale"  "%modelscale"
          }
        }
      }
    }
  }


  //================================================================================= /
  // Slayer Esnare
  //================================================================================= /
  "slayer_ensnare"
  {
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"      "naga_siren_ensnare"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO"
    "MaxLevel"                  "1"
    "AbilityManaCost"           "1000"
    "AbilityCooldown"        "120"
    "AbilityCastRange"        "500"
    "AbilityCastPoint"        "0.3"
    "AbilityCastAnimation"      "ACT_DOTA_CAST_ABILITY_1"
    "RequiredLevel"             "15"

    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_naga_siren.vsndevts"
      "particle"          "particles/units/heroes/hero_siren/siren_net.vpcf"
      "particle"          "particles/units/heroes/hero_siren/siren_net_projectile.vpcf"
    }

    "OnSpellStart"
    {
      "TrackingProjectile"
      {
        "Target"        "TARGET"
        "EffectName"      "particles/units/heroes/hero_siren/siren_net_projectile.vpcf"
        "Dodgeable"       "1"
        "ProvidesVision"    "1"
        "VisionRadius"      "0"
        "MoveSpeed"       "1500"
        "SourceAttachment"    "DOTA_PROJECTILE_ATTACHMENT_ATTACK_1"
      }
  
      "FireSound"
      {
        "EffectName"      "Hero_NagaSiren.Ensnare.Cast"
        "Target"        "CASTER"
      }
    }
  
    "OnProjectileHitUnit"
    {
      "DeleteOnHit" "1"
  
      "FireSound"
      {
        "EffectName"      "Hero_NagaSiren.Ensnare.Target"
        "Target"        "TARGET"
      }
  
      "ApplyModifier"
      {
        "Target"        "TARGET"
        "ModifierName"      "modifier_ensnare_datadriven"
      }
    }
  
    "Modifiers"
    {
      "modifier_ensnare_datadriven"
      {
        "IsHidden"    "0"
        "IsDebuff"    "1"
        "IsPurgable"  "0"
  
        "Duration"    "3.0"
  
        "States"
        {
          "MODIFIER_STATE_ROOTED"   "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_INVISIBLE"  "MODIFIER_STATE_VALUE_DISABLED"
        }
  
        "EffectName"      "particles/units/heroes/hero_siren/siren_net.vpcf"
        "EffectAttachType"    "follow_origin"
      }
  
      "modifier_ensnare_fake_datadriven"
      {
        "IsHidden"      "1"
        "OverrideAnimation" "ACT_DOTA_CAST_ABILITY_1"
      }
    }
  }

  //================================================================================= /
  // Slayer Revive
  //================================================================================= /
  "slayer_respawn"
  {
    "BaseClass"                  "ability_datadriven"
    "MaxLevel"                   "200"
    "AbilityBehavior"            "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_CHANNELLED"
    "AbilityTextureName"         "skeleton_king_reincarnation"

    // I really wish it didn't have to be this way... #thanksgabe
    "AbilityChannelTime"         "60.0  70.0  80.0  90.0  100.0 110.0 120.0 130.0 140.0 150.0 160.0 170.0 180.0 190.0 200.0 210.0 220.0 230.0 240.0 250.0 260.0 270.0 280.0 290.0 300.0 310.0 320.0 330.0 340.0 350.0 360.0 370.0 380.0 390.0 400.0 410.0 420.0 430.0 440.0 450.0 460.0 470.0 480.0 490.0 500.0 510.0 520.0 530.0 540.0 550.0 560.0 570.0 580.0 590.0 600.0 610.0 620.0 630.0 640.0 650.0 660.0 670.0 680.0 690.0 700.0 710.0 720.0 730.0 740.0 750.0 760.0 770.0 780.0 790.0 800.0 810.0 820.0 830.0 840.0 850.0 860.0 870.0 880.0 890.0 900.0 910.0 920.0 930.0 940.0 950.0 960.0 970.0 980.0 990.0 1000.0  1010.0  1020.0  1030.0  1040.0  1050.0  1060.0  1070.0  1080.0  1090.0  1100.0  1110.0  1120.0  1130.0  1140.0  1150.0  1160.0  1170.0  1180.0  1190.0  1200.0  1210.0  1220.0  1230.0  1240.0  1250.0  1260.0  1270.0  1280.0  1290.0  1300.0  1310.0  1320.0  1330.0  1340.0  1350.0  1360.0  1370.0  1380.0  1390.0  1400.0  1410.0  1420.0  1430.0  1440.0  1450.0  1460.0  1470.0  1480.0  1490.0  1500.0  1510.0  1520.0  1530.0  1540.0  1550.0  1560.0  1570.0  1580.0  1590.0  1600.0  1610.0  1620.0  1630.0  1640.0  1650.0  1660.0  1670.0  1680.0  1690.0  1700.0  1710.0  1720.0  1730.0  1740.0  1750.0  1760.0  1770.0  1780.0  1790.0  1800.0  1810.0  1820.0  1830.0  1840.0  1850.0  1860.0  1870.0  1880.0  1890.0  1900.0  1910.0  1920.0  1930.0  1940.0  1950.0  1960.0  1970.0  1980.0  1990.0  2000.0  2010.0  2020.0  2030.0  2040.0  2050.0"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"    "scripts/vscripts/abilities/slayer.lua"
        "Function"      "SlayerRespawnStart"
      }
    }

    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"    "scripts/vscripts/abilities/slayer.lua"
        "Function"      "SlayerRespawnInterrupted"
      }
    }

    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"    "scripts/vscripts/abilities/slayer.lua"
        "Function"      "SlayerRespawn"
      }
    }
  }

  //================================================================================= /
  // Research: Improved Lumber Havesting (1)
  //================================================================================= /
  "research_improved_lumber_harvesting"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"  
    "AbilityChannelTime"  "35"
    "LumberCost"   "250"
    "BaseClass" "ability_datadriven"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "ImproveLumber"
        "Level"       "1"
        "TARGET"  "CASTER"
      }
    }
  }

  //================================================================================= /
  // Research: Advanced Lumber Havesting (2)
  //================================================================================= /
  "research_advanced_lumber_harvesting"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"  
    "AbilityChannelTime"  "35"
    "LumberCost" "500"
    "BaseClass" "ability_datadriven"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"  "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "ImproveLumber"
        "Level"       "2"
        "TARGET"  "CASTER"
      }
    }
  }

  //================================================================================= /
  // Research: Insane Lumber Havesting (3)
  //================================================================================= /
  "research_insane_lumber_harvesting"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"  
    "AbilityChannelTime"  "35"
    "LumberCost" "750"
    "BaseClass" "ability_datadriven"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"  "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "ImproveLumber"
        "Level"       "3"
        "TARGET"  "CASTER"
      }
    }
  }

  //================================================================================= /
  // Research: Sharpened Hatchets
  //================================================================================= /
  "research_sharpened_hatchets"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"  
    "AbilityChannelTime"  "40"
    "LumberCost" "1000"
    "BaseClass" "ability_datadriven"

    "NeedTech"  "research_insane_lumber_harvesting"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"  "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "SharpenedHatchets"
        "TARGET"  "CASTER"
      }
    }
  }

  //================================================================================= /
  // Research: Rifles
  //================================================================================= /
  "research_rifles"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"  
    "AbilityChannelTime"  "30"
    "LumberCost" "1000"
    "BaseClass" "ability_datadriven"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"  "CASTER"
      }
    }

    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Rifles"
        "TARGET"  "CASTER"
      }
    }
    "Modifiers"
    {
      "rifle_attack_range"
      {
        "Properties"
        {
          "MODIFIER_PROPERTY_ATTACK_RANGE_BONUS" "300"
        }
        
      }
    }
  }

  //================================================================================= /
  // Research: Improved Worker Motivation
  //================================================================================= /
  "research_improved_worker_motivation"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"  
    "AbilityChannelTime"  "60"
    "LumberCost" "2000"
    "BaseClass" "ability_datadriven"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"  "CASTER"
      }
    }

    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "ImprovedWorkerMotivation"
        "TARGET"  "CASTER"
      }
    }
  }

  //================================================================================= /
  // Research: Improved Gem Quality
  //================================================================================= /
  "research_improved_gem_quality"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"  
    "AbilityChannelTime"  "40"
    "LumberCost" "2000"
    "BaseClass" "ability_datadriven"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"  "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "GemQuality"
        "TARGET"      "CASTER"
        "Level"       "1"
      }
    }
  }

  //================================================================================= /
  // Research: Advanced Gem Quality
  //================================================================================= /
  "research_advanced_gem_quality"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"  
    "AbilityChannelTime"  "40"
    "LumberCost" "2000"
    "BaseClass" "ability_datadriven"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"  "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "GemQuality"
        "TARGET"  "CASTER"
        "Level" "2"
      }
    }
  }

  //================================================================================= /
  // Research: Unbeatable Gem Quality
  //================================================================================= /
  "research_unbeatable_gem_quality"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"  
    "AbilityChannelTime"  "40"
    "LumberCost" "2000"
    "BaseClass" "ability_datadriven"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"  "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "GemQuality"
        "TARGET"  "CASTER"
        "Level" "3"
      }
    }
  }

  //================================================================================= /
  // Research: Upgrade Healing Tower
  //================================================================================= /
  "research_upgrade_healing_tower"
  {
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "AbilityChannelTime"  "30"
    "LumberCost" "1000"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"  "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "HealingTower"
        "TARGET"  "CASTER"
      }
    }
  }

  //================================================================================= /
  // Upgrade Human Damage (1)
  //================================================================================= /
  "upgrade_human_damage_1"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"  
    "AbilityChannelTime"  "15"
    "LumberCost" "1000"
    "BaseClass"         "ability_datadriven"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"  "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "HumanDamage"
        "TARGET"  "CASTER"
        "Level" "1"
      }
    }
  }

  //================================================================================= /
  // Upgrade Human Damage (2)
  //================================================================================= /
  "upgrade_human_damage_2"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"  
    "AbilityChannelTime"  "15"
    "LumberCost"   "6000"
    "GoldCost"     "5"
    "BaseClass"         "ability_datadriven"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"  "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "HumanDamage"
        "TARGET"  "CASTER"
        "Level" "2"
      }
    }
  }

  //================================================================================= /
  // Upgrade Human Damage (3)
  //================================================================================= /
  "upgrade_human_damage_3"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"  
    "AbilityChannelTime"  "15"
    "LumberCost"   "11000"
    "GoldCost"     "10"
    "BaseClass"         "ability_datadriven"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"  "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "HumanDamage"
        "TARGET"  "CASTER"
        "Level" "3"
      }
    }
  }

  //================================================================================= /
  // Upgrade Human Damage (4)
  //================================================================================= /
  "upgrade_human_damage_4"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"  
    "AbilityChannelTime"  "15"
    "LumberCost"   "16000"
    "GoldCost"     "15"
    "BaseClass"         "ability_datadriven"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"  "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "HumanDamage"
        "TARGET"  "CASTER"
        "Level" "4"
      }
    }
  }

  //================================================================================= /
  // Upgrade Human Damage (5)
  //================================================================================= /
  "upgrade_human_damage_5"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"  
    "AbilityChannelTime"  "15"
    "LumberCost"   "21000"
    "GoldCost"     "20"
    "BaseClass"         "ability_datadriven"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"  "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "HumanDamage"
        "TARGET"  "CASTER"
        "Level" "5"
      }
    }
  }

  //================================================================================= /
  // Upgrade Human Damage (6)
  //================================================================================= /
  "upgrade_human_damage_6"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"  
    "AbilityChannelTime"  "15"
    "LumberCost"   "26000"
    "GoldCost"     "25"
    "BaseClass"         "ability_datadriven"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"  "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "HumanDamage"
        "TARGET"  "CASTER"
        "Level" "6"
      }
    }
  }
  //================================================================================= /
  // Upgrade Human Damage (7)
  //================================================================================= /
  "upgrade_human_damage_7"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"  
    "AbilityChannelTime"  "15"
    "LumberCost"   "31000"
    "GoldCost"     "30"
    "BaseClass"         "ability_datadriven"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"  "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "HumanDamage"
        "TARGET"  "CASTER"
        "Level" "7"
      }
    }
  }
  //================================================================================= /
  // Upgrade Human Damage (8)
  //================================================================================= /
  "upgrade_human_damage_8"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"  
    "AbilityChannelTime"  "15"
    "LumberCost"   "36000"
    "GoldCost"     "35"
    "BaseClass"         "ability_datadriven"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"  "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "HumanDamage"
        "TARGET"  "CASTER"
        "Level" "8"
      }
    }
  }
  //================================================================================= /
  // Upgrade Human Damage (9)
  //================================================================================= /
  "upgrade_human_damage_9"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"  
    "AbilityChannelTime"  "15"
    "LumberCost"   "41000"
    "GoldCost"     "40"
    "BaseClass"         "ability_datadriven"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"  "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "HumanDamage"
        "TARGET"  "CASTER"
        "Level" "9"
      }
    }
  }
  //================================================================================= /
  // Upgrade Human Damage (10)
  //================================================================================= /
  "upgrade_human_damage_10"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"  
    "AbilityChannelTime"  "15"
    "LumberCost"   "46000"
    "GoldCost"     "45"
    "BaseClass"         "ability_datadriven"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"  "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "HumanDamage"
        "TARGET"  "CASTER"
        "Level" "10"
      }
    }
  }
  //=================================================================================/
  // Reseach Slayer Godlike Training
  //=================================================================================/
  "research_slayer_godlike"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"  
    "AbilityChannelTime"  "15"
    "LumberCost"   "46000"
    "GoldCost"     "45"
    "BaseClass"         "ability_datadriven"

    "NeedTech"  "command_center"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"  "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "SlayerGodlike"
        "TARGET"  "CASTER"
        "Level" "10"
      }
    }
  }

  //================================================================================= /
  // Research Healing Vitality
  //================================================================================= /
  "research_healing_vitality"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"  
    "AbilityChannelTime"  "15"
    "LumberCost"   "46000"
    "GoldCost"     "45"
    "BaseClass"         "ability_datadriven"
    //when this completes, this is the modifier(ability) we need to add.
    "GiveModifier"      "tech_healing_vitality"

    "NeedTech"  "command_center"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"        "scripts/vscripts/buildings/research.lua"
        "Function"          "TechUpgrade" //potentially a generic function that will handle all future techs.
        "TARGET"            "CASTER"
        "Level"             "10"
      }
    }
  }

  //================================================================================= /
  // Healing Vitality passive (what gets applied to newly spawned buildings)
  //================================================================================= /
  "tech_healing_vitality"
  {
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "BaseClass"                 "ability_datadriven"
    "MaxLevel"                  "1"

    "OnUpgrade"
    {
      "ApplyModifier"
      {
        "ModifierName"  "modifier_healing_vitality"
        "Target"        "CASTER"
      }
    }

    "Modifiers"
    {
      "modifier_healing_vitality"
      {
        "Passive"       "1"
        "IsHidden"      "1"

        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"        "scripts/vscripts/buildings/research.lua"
            "Function"          "AddHealthUpgrade" //adds a flat health bonus.
            "TARGET"            "CASTER"
            "Amount"            "1500"
          }
        }
      }
    }
  }

  //================================================================================= /
  // Blink Extension
  //================================================================================= /
  "research_blink_extension"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"  
    "AbilityChannelTime"  "60"
    "LumberCost"          "50000"
    "GoldCost"            "10"
    "BaseClass"           "ability_datadriven"
    //when this completes, this is the modifier(ability) we need to add.
    "GiveModifier"        "tech_blink_extension"

    "NeedTech"  "command_center"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"        "scripts/vscripts/buildings/research.lua"
        "Function"          "TechUpgrade" //potentially a generic function that will handle all future techs.
        "TARGET"            "CASTER"
      }
    }
  }

  //================================================================================= /
  // Blink Extension tech
  //================================================================================= /
  "tech_blink_extension"
  {
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "BaseClass"                 "ability_datadriven"
    "MaxLevel"                  "1"

    "OnUpgrade"
    {
      "ApplyModifier"
      {
        "ModifierName"  "modifier_blink_extension"
        "Target"        "CASTER"
      }
    }

    "Modifiers"
    {
      "modifier_blink_extension"
      {
        "Passive"       "1"
        "IsHidden"      "1"

        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"        "scripts/vscripts/buildings/research.lua"
            "Function"          "AddBlinkExtension" //adds a flat health bonus.
            "TARGET"            "CASTER"
          }
        }
      }
    }
  }

  //================================================================================= /
  // Research Spire Quality 1
  //================================================================================= /
  "research_spire_quality_1"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"  
    "AbilityChannelTime"  "20"
    "AbilityTextureName"    "buildings/research_spire_quality_1"
    "LumberCost"   "1000"
    "GoldCost"     "1"
    "BaseClass"         "ability_datadriven"
    //when this completes, this is the modifier(ability) we need to add.
    "GiveModifier"      "tech_spire_quality_1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"        "scripts/vscripts/buildings/research.lua"
        "Function"          "TechUpgrade" //potentially a generic function that will handle all future techs.
        "TARGET"            "CASTER"
        "NextLevel"       "1" //Tells buildui to replace the ability. Remember that it is level - 1.
        "BaseAbility"     "research_spire_quality_1" //The base ability that it was upgraded from.
      }
    }
  }

  //================================================================================= /
  // Spire Quality 1 modifier
  //================================================================================= /
  "tech_spire_quality_1"
  {
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "BaseClass"                 "ability_datadriven"
    "MaxLevel"                  "1"

    "OnUpgrade"
    {
      "ApplyModifier"
      {
        "ModifierName"  "modifier_spire_quality_1"
        "Target"        "CASTER"
      }
    }

    "Modifiers"
    {
      "modifier_spire_quality_1"
      {
        "Passive"       "1"
        "IsHidden"      "1"

        "Properties"
        {
          "MODIFIER_PROPERTY_BASEATTACK_BONUSDAMAGE" "20"
        }
      }
    }
  }

  //================================================================================= /
  // Research Spire Quality 2
  //================================================================================= /
  "research_spire_quality_2"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"  
    "AbilityChannelTime"  "25"
    "AbilityTextureName"    "buildings/research_spire_quality_2"
    "LumberCost"          "1500"
    "GoldCost"            "2"
    "BaseClass"         "ability_datadriven"
    //when this completes, this is the modifier(ability) we need to add.
    "GiveModifier"      "tech_spire_quality_2"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"        "scripts/vscripts/buildings/research.lua"
        "Function"          "TechUpgrade" //potentially a generic function that will handle all future techs.
        "TARGET"            "CASTER"
        "NextLevel"       "2" //Tells buildui to replace the ability. Remember that it is level - 1.
        "BaseAbility"     "research_spire_quality_1" //The base ability that it was upgraded from.
      }
    }
  }

  //================================================================================= /
  // Spire Quality 2 modifier
  //================================================================================= /
  "tech_spire_quality_2"
  {
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "BaseClass"                 "ability_datadriven"
    "MaxLevel"                  "1"

    "OnUpgrade"
    {
      "ApplyModifier"
      {
        "ModifierName"  "modifier_spire_quality_2"
        "Target"        "CASTER"
      }
    }

    "Modifiers"
    {
      "modifier_spire_quality_2"
      {
        "Passive"       "1"
        "IsHidden"      "1"

        "Properties"
        {
          "MODIFIER_PROPERTY_BASEATTACK_BONUSDAMAGE" "20"
        }
      }
    }
  }

  //================================================================================= /
  // Research Spire Quality 3
  //================================================================================= /
  "research_spire_quality_3"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"  
    "AbilityChannelTime"  "30"
    "AbilityTextureName"    "buildings/research_spire_quality_3"
    "LumberCost"          "2000"
    "GoldCost"            "3"
    "BaseClass"         "ability_datadriven"
    //when this completes, this is the modifier(ability) we need to add.
    "GiveModifier"      "tech_spire_quality_3"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"        "scripts/vscripts/buildings/research.lua"
        "Function"          "TechUpgrade" //potentially a generic function that will handle all future techs.
        "TARGET"            "CASTER"
        "NextLevel"         "3" //Tells buildui to replace the ability. Remember that it is level - 1.
        "BaseAbility"       "research_spire_quality_1" //The base ability that it was upgraded from.
      }
    }
  }

  //================================================================================= /
  // Spire Quality 3 modifier
  //================================================================================= /
  "tech_spire_quality_3"
  {
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "BaseClass"                 "ability_datadriven"
    "MaxLevel"                  "1"

    "OnUpgrade"
    {
      "ApplyModifier"
      {
        "ModifierName"  "modifier_spire_quality_3"
        "Target"        "CASTER"
      }
    }

    "Modifiers"
    {
      "modifier_spire_quality_3"
      {
        "Passive"       "1"
        "IsHidden"      "1"

        "Properties"
        {
          "MODIFIER_PROPERTY_BASEATTACK_BONUSDAMAGE" "20"
        }
      }
    }
  }

  //================================================================================= /
  // Research Spire Quality 4
  //================================================================================= /
  "research_spire_quality_4"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"  
    "AbilityChannelTime"  "35"
    "AbilityTextureName"    "buildings/research_spire_quality_4"
    "LumberCost"          "2500"
    "GoldCost"            "4"
    "BaseClass"         "ability_datadriven"
    //when this completes, this is the modifier(ability) we need to add.
    "GiveModifier"      "tech_spire_quality_4"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"        "scripts/vscripts/buildings/research.lua"
        "Function"          "TechUpgrade" //potentially a generic function that will handle all future techs.
        "TARGET"            "CASTER"
      }
    }
  }

  //================================================================================= /
  // Spire Quality 4 modifier
  //================================================================================= /
  "tech_spire_quality_4"
  {
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "BaseClass"                 "ability_datadriven"
    "MaxLevel"                  "1"

    "OnUpgrade"
    {
      "ApplyModifier"
      {
        "ModifierName"  "modifier_spire_quality_4"
        "Target"        "CASTER"
      }
    }

    "Modifiers"
    {
      "modifier_spire_quality_4"
      {
        "Passive"       "1"
        "IsHidden"      "1"

        "Properties"
        {
          "MODIFIER_PROPERTY_BASEATTACK_BONUSDAMAGE" "20"
        }
      }
    }
  }

  //================================================================================= /
  // Research Spire Quality 5
  //================================================================================= /
  "research_spire_quality_5"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"  
    "AbilityChannelTime"  "40"
    "LumberCost"          "3000"
    "GoldCost"            "5"
    "BaseClass"         "ability_datadriven"
    //when this completes, this is the modifier(ability) we need to add.
    "GiveModifier"      "tech_spire_quality_5"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"        "scripts/vscripts/buildings/research.lua"
        "Function"          "TechUpgrade" //potentially a generic function that will handle all future techs.
        "TARGET"            "CASTER"
      }
    }
  }

  //================================================================================= /
  // Spire Quality 5 modifier
  //================================================================================= /
  "tech_spire_quality_5"
  {
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "BaseClass"                 "ability_datadriven"
    "MaxLevel"                  "1"

    "OnUpgrade"
    {
      "ApplyModifier"
      {
        "ModifierName"  "modifier_spire_quality_5"
        "Target"        "CASTER"
      }
    }

    "Modifiers"
    {
      "modifier_spire_quality_5"
      {
        "Passive"       "1"
        "IsHidden"      "1"

        "Properties"
        {
          "MODIFIER_PROPERTY_BASEATTACK_BONUSDAMAGE" "20"
        }
      }
    }
  }

  //================================================================================= /
  // Research Basic Human Survival
  //================================================================================= /
  "research_basic_human_survival"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"  
    "AbilityChannelTime"  "20"
    "AbilityTextureName"    "buildings/research_basic_human_survival"
    "LumberCost"   "2500"
    "GoldCost"     "5"
    "BaseClass"         "ability_datadriven"
    //when this completes, this is the modifier(ability) we need to add.

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"        "scripts/vscripts/buildings/research.lua"
        "Function"          "HumanSurvival"
        "TARGET"            "CASTER"
        "Amount"            "400"
      }
    }
  }

  //================================================================================= /
  // Research Master Human Survival
  //================================================================================= /
  "research_master_human_survival"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"  
    "AbilityChannelTime"  "20"
    "AbilityTextureName"    "buildings/research_basic_human_survival"
    "LumberCost"   "2500"
    "GoldCost"     "5"
    "BaseClass"         "ability_datadriven"
    //when this completes, this is the modifier(ability) we need to add.

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"        "scripts/vscripts/buildings/research.lua"
        "Function"          "HumanSurvival" //potentially a generic function that will handle all future techs.
        "TARGET"            "CASTER"
        "Amount"            "300"
      }
    }
  }

  //================================================================================= /
  // Research Holy Essence
  //================================================================================= /
  "research_holy_essence"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"  
    "AbilityChannelTime"  "20"
    "LumberCost"   "10000"
    "GoldCost"     "5"
    "BaseClass"         "ability_datadriven"
    //when this completes, this is the modifier(ability) we need to add.
    "GiveModifier"      "tech_holy_essence"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"        "scripts/vscripts/buildings/research.lua"
        "Function"          "TechUpgrade" //potentially a generic function that will handle all future techs.
        "TARGET"            "CASTER"
      }
    }
  }

  //================================================================================= /
  // Holy Essence modifier
  //================================================================================= /
  "tech_holy_essence"
  {
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "BaseClass"                 "ability_datadriven"
    "MaxLevel"                  "1"

    "OnUpgrade"
    {
      "ApplyModifier"
      {
        "ModifierName"  "modifier_holy_essence"
        "Target"        "CASTER"
      }
    }

    "Modifiers"
    {
      "modifier_holy_essence"
      {
        "Passive"       "1"
        "IsHidden"      "1"

        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"  "scripts/vscripts/buildings/research.lua"
            "Function"    "AddEssence"
          }
          "ApplyModifier"
          {
            "ModifierName"  "modifier_holy_essence_attack"
            "Target"     "CASTER"
            "Duration"    "0.65"
          }
        }
      }
      "modifier_holy_essence_attack"
      {
        "Passive"       "0"
        "IsHidden"      "0"
        "IsDebuff"      "0"
            
        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"  "abilities.lua"
            "Function"    "HolyAttack"
          }
        }
        "OnDestroy"
        {
          "ApplyModifier"
          {
            "ModifierName"  "modifier_holy_essence_attack"
            "Target"     "CASTER"
            "Duration"    "0.65"
          }
        }
      }
    }
  }

  //================================================================================= /
  // Research Iron Plating
  //================================================================================= /
  "research_wall_plating_1"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"  
    "AbilityChannelTime"  "20"
    "AbilityTextureName"    "buildings/research_wall_plating_1"
    "LumberCost"   "20000"
    "GoldCost"     "5"
    "BaseClass"         "ability_datadriven"
    //when this completes, this is the modifier(ability) we need to add.
    "GiveModifier"      "tech_wall_plating_1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"        "scripts/vscripts/buildings/research.lua"
        "Function"          "TechUpgrade" //potentially a generic function that will handle all future techs.
        "TARGET"            "CASTER"
        "NextLevel"         "1" 
        "BaseAbility"       "research_wall_plating_1"
      }
    }
  }

  //================================================================================= /
  // Iron Plating modifier
  //================================================================================= /
  "tech_wall_plating_1"
  {
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "BaseClass"                 "ability_datadriven"
    "MaxLevel"                  "8"

    "AbilitySpecial"
    {
      "01"
      {
        "var_type"      "FIELD_INTEGER"
        "armor_bonus"      "5 10 15 20 25 30 35 45"
      }
    }

    "Modifiers"
    {
      "modifier_wall_plating_1"
      {
        "Passive"      "1"
        "IsHidden"      "1"
        "IsDebuff"      "0"

        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"  "buildings/research.lua"
            "Function"    "TechPlating"
            "Target"      "CASTER"
          }
        }

        "Properties"
        {
          "MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS" "%armor_bonus"
        }
      }
    }
  }

  //================================================================================= /
  // Research Steel Plating
  //================================================================================= /
  "research_wall_plating_2"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"  
    "AbilityChannelTime"  "40"
    "AbilityTextureName"    "buildings/research_wall_plating_2"
    "LumberCost"   "60000"
    "GoldCost"     "15"
    "BaseClass"         "ability_datadriven"
    //when this completes, this is the modifier(ability) we need to add.
    "GiveModifier"      "tech_wall_plating_2"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"        "scripts/vscripts/buildings/research.lua"
        "Function"          "TechUpgrade" //potentially a generic function that will handle all future techs.
        "TARGET"            "CASTER"
        "NextLevel"         "2" 
        "BaseAbility"       "research_wall_plating_1"
      }
    }
  }

  //================================================================================= /
  // Steel Plating modifier
  //================================================================================= /
  "tech_wall_plating_2"
  {
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "BaseClass"                 "ability_datadriven"
    "MaxLevel"                  "8"

    "AbilitySpecial"
    {
      "01"
      {
        "var_type"      "FIELD_INTEGER"
        "armor_bonus"      "5 10 15 20 25 30 35 45"
      }
    }

    "Modifiers"
    {
      "modifier_wall_plating_2"
      {
        "Passive"      "1"
        "IsHidden"      "1"
        "IsDebuff"      "0"

        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"  "buildings/research.lua"
            "Function"    "TechPlating"
            "Target"      "CASTER"
          }
        }

        "Properties"
        {
          "MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS" "%armor_bonus"
        }
      }
    }

  }

  //================================================================================= /
  // Research Mithril Plating
  //================================================================================= /
  "research_wall_plating_3"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"  
    "AbilityChannelTime"  "60"
    "AbilityTextureName"    "buildings/research_wall_plating_3"
    "LumberCost"   "100000"
    "GoldCost"     "25"
    "BaseClass"         "ability_datadriven"
    //when this completes, this is the modifier(ability) we need to add.
    "GiveModifier"      "tech_wall_plating_3"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"        "scripts/vscripts/buildings/research.lua"
        "Function"          "TechUpgrade" //potentially a generic function that will handle all future techs.
        "TARGET"            "CASTER"
        "NextLevel"         "3" 
        "BaseAbility"       "research_wall_plating_1"
      }
    }
  }

  //================================================================================= /
  // Mithril Plating modifier
  //================================================================================= /
  "tech_wall_plating_3"
  {
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "BaseClass"                 "ability_datadriven"
    "MaxLevel"                  "8"

    "AbilitySpecial"
    {
      "01"
      {
        "var_type"      "FIELD_INTEGER"
        "armor_bonus"      "5 10 15 20 25 30 35 45"
      }
    }

    "Modifiers"
    {
      "modifier_wall_plating_3"
      {
        "Passive"      "1"
        "IsHidden"      "1"
        "IsDebuff"      "0"

        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"  "buildings/research.lua"
            "Function"    "TechPlating"
            "Target"      "CASTER"
          }
        }

        "Properties"
        {
          "MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS" "%armor_bonus"
        }
      }
    }

  }

  //================================================================================= /
  // Research Magic Plating
  //================================================================================= /
  "research_wall_plating_4"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"  
    "AbilityChannelTime"  "80"
    "AbilityTextureName"    "buildings/research_wall_plating_4"
    "LumberCost"   "140000"
    "GoldCost"     "35"
    "BaseClass"         "ability_datadriven"
    //when this completes, this is the modifier(ability) we need to add.
    "GiveModifier"      "tech_wall_plating_4"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"        "scripts/vscripts/buildings/research.lua"
        "Function"          "TechUpgrade" //potentially a generic function that will handle all future techs.
        "TARGET"            "CASTER"
      }
    }
  }

  //================================================================================= /
  // Magic Plating modifier
  //================================================================================= /
  "tech_wall_plating_4"
  {
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "BaseClass"                 "ability_datadriven"
    "MaxLevel"                  "8"

    "AbilitySpecial"
    {
      "01"
      {
        "var_type"      "FIELD_INTEGER"
        "armor_bonus"      "5 10 15 20 25 30 35 45"
      }
    }

    "Modifiers"
    {
      "modifier_wall_plating_4"
      {
        "Passive"      "1"
        "IsHidden"      "1"
        "IsDebuff"      "0"

        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"  "buildings/research.lua"
            "Function"    "TechPlating"
            "Target"      "CASTER"
          }
        }

        "Properties"
        {
          "MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS" "%armor_bonus"
        }
      }
    }

  }

  //================================================================================= /
  // Research Human Teleport
  //================================================================================= /
  "research_human_teleport"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"  
    "AbilityChannelTime"  "20"
    "AbilityTextureName"    "buildings/research_human_teleport"
    "LumberCost"   "1000"
    "GoldCost"     "1"
    "BaseClass"         "ability_datadriven"
    //when this completes, this is the modifier(ability) we need to add.
    "GiveModifier"      "tech_human_teleport"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"        "scripts/vscripts/buildings/research.lua"
        "Function"          "AddTeleport" 
        "TARGET"            "CASTER"
      }
    }
  }

  //================================================================================= /
  // Research Tower Defenses
  //================================================================================= /
  "research_tower_defenses"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"  
    "AbilityChannelTime"  "120"
    "AbilityTextureName"    "buildings/research_tower_defenses"
    "LumberCost"        "75000"
    "GoldCost"          "20"
    "BaseClass"         "ability_datadriven"
    //when this completes, this is the modifier(ability) we need to add.
    "GiveModifier"      "tech_tower_defenses"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"        "scripts/vscripts/buildings/research.lua"
        "Function"          "TechUpgrade" //potentially a generic function that will handle all future techs.
        "TARGET"            "CASTER"
      }
    }
  }

  //================================================================================= /
  // Tower Defenses modifier
  //================================================================================= /
  "tech_tower_defenses"
  {
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "BaseClass"                 "ability_datadriven"
    "MaxLevel"                  "1"

    "OnUpgrade"
    {
      "ApplyModifier"
      {
        "ModifierName"  "modifier_tower_defenses"
        "Target"        "CASTER"
      }
    }

    "Modifiers"
    {
      "modifier_tower_defenses"
      {
        "Passive"       "1"
        "IsHidden"      "1"

        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"        "scripts/vscripts/buildings/research.lua"
            "Function"          "AddHealthUpgrade" //adds a flat health bonus.
            "TARGET"            "CASTER"
            "Amount"            "1500"
          }
        }
      }
    }
  }

  //================================================================================= /
  // Research Engineer Vitality
  //================================================================================= /
  "research_engineer_vitality"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"  
    "AbilityChannelTime"  "60"
    "AbilityTextureName"    "buildings/research_engineer_vitality"
    "LumberCost"          "20000"
    "GoldCost"            "10"
    "BaseClass"         "ability_datadriven"
    //when this completes, this is the modifier(ability) we need to add.
    "GiveModifier"      "tech_engineer_vitality"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"        "scripts/vscripts/buildings/research.lua"
        "Function"          "TechUpgrade" //potentially a generic function that will handle all future techs.
        "TARGET"            "CASTER"
      }
    }
  }

  //================================================================================= /
  // Engineer Vitality modifier
  //================================================================================= /
  "tech_engineer_vitality"
  {
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "BaseClass"                 "ability_datadriven"
    "MaxLevel"                  "1"

    "OnUpgrade"
    {
      "ApplyModifier"
      {
        "ModifierName"  "modifier_engineer_vitality"
        "Target"        "CASTER"
      }
    }

    "Modifiers"
    {
      "modifier_engineer_vitality"
      {
        "Passive"       "1"
        "IsHidden"      "1"

        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"        "scripts/vscripts/buildings/research.lua"
            "Function"          "AddHealthUpgrade" //adds a flat health bonus.
            "TARGET"            "CASTER"
            "Amount"            "1000"
          }
        }
      }
    }
  }

  //================================================================================= /
  // Human Teleport
  //================================================================================= /
  "human_teleport"
  {
    "BaseClass"                 "ability_datadriven"
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_CHANNELLED"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_BASIC"
    "AbilityChannelTime"        "3.0"
    "AbilityCooldown"           "60"
    "AbilityTextureName"        "buildings/research_human_teleport"
    "MaxLevel"                  "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities.lua"
        "Function"    "HumanTeleport"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities.lua"
        "Function"    "TeleportFinish"
      }
    }
  }
  
  //================================================================================= /
  // Upgrade to Citadel of Faith
  //================================================================================= /
  "upgrade_to_citadel_of_faith"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass" "ability_datadriven"
    "AbilityChannelTime"  "2"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"      "CASTER"
        "TargetUnit"  "citadel_of_faith"
        "LumberCost"  "125000"
        "GoldCost"    "20"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Cancel"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "citadel_of_faith"
        "Scale"       "1"
      }
    }
  }

  //================================================================================= /
  // Upgrade to Lantern tower T2
  //================================================================================= /
  "upgrade_to_tower_lantern_t2"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass" "ability_datadriven"
    "AbilityChannelTime"  "5"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"      "CASTER"
        "TargetUnit"  "tower_lantern_2"
        "LumberCost"  "3500"
        "GoldCost"    "0"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Cancel"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "tower_lantern_2"
        "Scale"       "1"
      }
    }
  }

  //================================================================================= /
  // Upgrade to Meteor Tower
  //================================================================================= /
  "upgrade_to_tower_cripple_t2"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass" "ability_datadriven"
    "AbilityChannelTime"  "45"

    "NeedTech"                  "command_center"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"      "CASTER"
        "TargetUnit"  "tower_cripple_t2"
        "LumberCost"  "150000"
        "GoldCost"    "350"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Cancel"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "tower_cripple_t2"
        "Scale"       "1"
      }
    }
  }

  //================================================================================= /
  // Upgrade to Armageddon Tower
  //================================================================================= /
  "upgrade_to_tower_cripple_t3"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass" "ability_datadriven"
    "AbilityChannelTime"  "45"

    "NeedTech"                  "base_operations"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"      "CASTER"
        "TargetUnit"  "tower_cripple_t3"
        "LumberCost"  "200000"
        "GoldCost"    "1000"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Cancel"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "tower_cripple_t3"
        "Scale"       "1"
      }
    }
  }

  //================================================================================= /
  // Debugging: Draw building boxes
  //================================================================================= /
  "debug_draw_building_boxes"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"  
    "AbilityChannelTime"  "20"
    "BaseClass" "ability_datadriven"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/buildinghelper.lua"
        "Function"    "DrawDebugLines"
        "TARGET"  "CASTER"
      }
    }
  }


  //================================================================================= /
  // Human: Building Repair
  //================================================================================= /
  "human_repair"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_AUTOCAST | DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_DONT_RESUME_ATTACK"  
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL | DOTA_UNIT_TARGET_BUILDING"
    "AbilityCastAnimation"  "ACT_DOTA_ATTACK"
    "AbilityTextureName"  "tinker_rearm"
    "AbilityChannelTime"  "200"
    "AbilityCastRange"  "150"
    "MaxLevel"      "1"
    "BaseClass" "ability_datadriven"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Repair"
        "RepairTimeRatio" "1.5"
      }
      "ApplyModifier"
      {
        "ModifierName"  "modifier_channeling"
        "Target"    "TARGET"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "RepairStop"
      }
      "RemoveModifier"
      {
          "ModifierName" "modifier_channeling"
          "Target" "TARGET"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "RepairStop"
      }
      "RemoveModifier"
      {
          "ModifierName" "modifier_channeling"
          "Target" "TARGET"
      }
    }

    "Modifiers"
    {
      "modifier_autocast_aura"
      {
        "Passive"     "1"
        "IsHidden"      "1"
    
        "Aura"        "modifier_autocast_attacked"
        "Aura_Radius"     "900"
        "Aura_Teams"    "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
        "Aura_Types"    "DOTA_UNIT_TARGET_BASIC"
      }
      "modifier_autocast_attacked"
      {
        "IsHidden"  "1"
        "OnAttacked"
        {
          "RunScript"
          {
            "ScriptFile"  "scripts/vscripts/buildings/building.lua"
            "Function"    "RepairAutocast"
            "RepairTimeRatio" "1.5"
          }
        }
      }
      "modifier_channeling"
      {
        "ThinkInterval" "1.3"
        "IsHidden"  "1"
        "OnIntervalThink"
        {
          "ApplyModifier"
          {
              "ModifierName"  "channelling_animation"
              "Target"        "CASTER"
          }
        }
      }
      "channelling_animation"
      {
        "IsHidden" "1"
        "Duration" "1"
        "OverrideAnimation" "ACT_DOTA_ATTACK"
      }
    }
  }


  "upgrade_to_t2_tent"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass" "ability_datadriven"
    "AbilityChannelTime"  "5.0"
    "AbilityTextureName"      "upgrade_to_t2_tent"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"  "CASTER"
        "TargetUnit"  "tent_t2"
        "LumberCost"  "10"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "tent_t2"
        "Scale"       "1"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Cancel"
      }
    }
  }

  //================================================================================= /
  // Upgrade to T2 House
  //================================================================================= /
  "upgrade_to_t2_house"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass" "ability_datadriven"
    "AbilityChannelTime"  "5.0"
    "AbilityTextureName"  "upgrade_to_t2_house"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"  "CASTER"
        "TargetUnit"  "house_t2"
        "LumberCost"  "3000"
        "GoldCost"    "1"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Cancel"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "house_t2"
        "Scale"       "0.5"
      }
    }
  }

  //================================================================================= /
  // Upgrade to T3 House
  //================================================================================= /
  "upgrade_to_t3_house"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass" "ability_datadriven"
    "AbilityChannelTime"  "5.0"
    "AbilityTextureName"   "upgrade_to_t3_house"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"  "CASTER"
        "TargetUnit"  "house_t3"
        "LumberCost"  "10000"
        "GoldCost"  "1"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Cancel"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "house_t3"
        "Scale"       "1"
      }
    }
  }

  //================================================================================= /
  // Build T3 House
  //================================================================================= /
  "build_house_t3"
  {
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"        "house_t1"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"                  "1"
    "BuildingSize"              "2"
    "BuildTime"                 "5"
    "AbilityCastRange"          "200"
    "UpdateHealth"              "1"
    "Scale"                     "1"
    "MaxScale"                  "1"
    "CasterCanControl"          "1"

    "AbilityCooldown"           "0.05"
    "LumberCost"                "10000"
    "GoldCost"                  "1"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    "UnitName"                  "house_t3"
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"          "0.05"
    "MaxLevel"                  "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"           "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"            "scripts/vscripts/abilities.lua"
        "Function"              "build"
      }
    }
  }


  //================================================================================= /
  // Upgrade unit to Topaz Wall
  //================================================================================= /
  "upgrade_to_wall_t2"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass" "ability_datadriven"
    "AbilityChannelTime"  "5" 
    "AbilityTextureName"      "upgrade_to_wall_t2"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"  "CASTER"
        "TargetUnit"  "wall_t2"
        "LumberCost"  "250"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "wall_t2"
        "Scale"       ".5"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Cancel"
      }
    }
  }

  //================================================================================= /
  // Upgrade unit to Amethyst Wall
  //================================================================================= /
  "upgrade_to_wall_t3"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass" "ability_datadriven"
    "AbilityChannelTime"  "10"
    "AbilityTextureName"      "upgrade_to_wall_t3" 
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"  "CASTER"
        "TargetUnit"  "wall_t3"
        "LumberCost"  "1000"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "wall_t3"
        "Scale"       "0.8"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Cancel"
      }
    }
  }

  //================================================================================= /
  // Upgrade unit to Sapphire Wall
  //================================================================================= /
  "upgrade_to_wall_t4"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass" "ability_datadriven"
    "AbilityChannelTime"  "20"
    "AbilityTextureName"      "upgrade_to_wall_t4"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"      "CASTER"
        "TargetUnit"  "wall_t4"
        "LumberCost"  "5000"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "wall_t4"
        "Scale"       "0.5"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Cancel"
      }
    }
  }

  //================================================================================= /
  // Upgrade unit to Emerald Wall
  //================================================================================= /
  "upgrade_to_wall_t5"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass" "ability_datadriven"
    "AbilityChannelTime"  "30"
    "AbilityTextureName"      "upgrade_to_wall_t5"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"  "CASTER"
        "TargetUnit"  "wall_t5"
        "LumberCost"  "10000"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "wall_t5"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Cancel"
      }
    }
  }
  //================================================================================= /
  // Upgrade unit to Chrysoprase Wall
  //================================================================================= /
  "upgrade_to_wall_t6"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass" "ability_datadriven"
    "AbilityChannelTime"  "40" 
    "AbilityTextureName"      "upgrade_to_wall_t6"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"  "CASTER"
        "TargetUnit"  "wall_t6"
        "LumberCost"  "30000"
        "GoldCost"  "10"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "wall_t6"
        "Scale"       "1"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Cancel"
      }
    }
  }

  //================================================================================= /
  // Upgrade unit to Garnet Wall
  //================================================================================= /
  "upgrade_to_wall_t7"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass" "ability_datadriven"
    "AbilityChannelTime"  "50"
    "AbilityTextureName"      "upgrade_to_wall_t7"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"  "CASTER"
        "TargetUnit"  "wall_t7"
        "LumberCost"  "80000"
        "GoldCost"  "35"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "wall_t7"
        "Scale"       "0.9"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Cancel"
      }
    }
  }

  //================================================================================= /
  // Upgrade unit to Ruby Wall
  //================================================================================= /
  "upgrade_to_wall_t8"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass" "ability_datadriven"
    "AbilityChannelTime"  "60"
    "AbilityTextureName"      "upgrade_to_wall_t8"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"  "CASTER"
        "TargetUnit"  "wall_t8"
        "LumberCost"  "150000"
        "GoldCost"  "100"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "wall_t8"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Cancel"
      }
    }
  }

  //================================================================================= /
  // Upgrade unit to Diamond Wall
  //================================================================================= /
  "upgrade_to_wall_t9"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass" "ability_datadriven"
    "AbilityChannelTime"  "70" // #DEBUG, true value is 
    "AbilityTextureName"      "upgrade_to_wall_t9"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"  "CASTER"
        "TargetUnit"  "wall_t9"
        "LumberCost"  "250000"
        "GoldCost"  "200"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "wall_t9"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Cancel"
      }
    }
  }

  //================================================================================= /
  // Upgrade unit to Onyx Wall
  //================================================================================= /
  "upgrade_to_wall_t10"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass" "ability_datadriven"
    "AbilityChannelTime"  "100" // #DEBUG, true value is 
    "AbilityTextureName"      "upgrade_to_wall_t10"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"  "CASTER"
        "TargetUnit"  "wall_t10"
        "LumberCost"  "450000"
        "GoldCost"  "1200"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "wall_t10"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Cancel"
      }
    }
  }


  //================================================================================= /
  // Upgrade to Opal Tower
  //================================================================================= /
  "upgrade_to_tower_opal"
  {
    "AbilityBehavior"   "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass"       "ability_datadriven"
    "AbilityChannelTime"  "5"
    "AbilityTextureName"    "upgrade_to_tower_opal"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"    "CASTER"
        "TargetUnit"  "tower_opal"
        "LumberCost"  "800"
        "GoldCost"    "0"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "tower_opal"
        "Scale"     "1"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Cancel"
      }
    }
  }

  //=================================================================================/
  // Upgrade to Lesser Mana Energy Tower
  //=================================================================================/
  "upgrade_to_tower_manaburn_t1"
  {
    "AbilityBehavior"   "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass"       "ability_datadriven"
    "AbilityChannelTime"  "5"
    "AbilityTextureName"    "upgrade_to_tower_manaburn_t1"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"    "CASTER"
        "TargetUnit"  "tower_manaburn_t1"
        "LumberCost"  "2000"
        "GoldCost"    "0"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "tower_manaburn_t1"
        "Scale"       "0.7"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Cancel"
      }
    }
  }

  //=================================================================================/
  // Upgrade to Shiny Pearl Tower
  //=================================================================================/
  "upgrade_to_shiny_tower_of_pearls"
  {
    "AbilityBehavior"   "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass"       "ability_datadriven"
    "AbilityChannelTime"  "5"
    "AbilityTextureName"   "upgrade_to_shiny_tower_of_pearls"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"    "CASTER"
        "TargetUnit"  "shiny_tower_pearls"
        "LumberCost"  "150"
        "GoldCost"    "0"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "shiny_tower_pearls"
        "Scale"       "0.7"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Cancel"
      }
    }
  }

  //=================================================================================/
  // Lesser Mana Energy Tower - Feedback
  //=================================================================================/
  // Ability taken from SpellLibrary. - https://github.com/Pizzalol/SpellLibrary
  // Author: Pizzalol
  // Date: 16.12.2014.
  "tower_manaburn_t1_feedback"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_PHYSICAL"    
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "AbilityTextureName"      "antimage_mana_break"
    "MaxLevel"            "1"
  
    // Precache 
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "particle"  "particles/generic_gameplay/generic_manaburn.vpcf"
      "soundfile" "soundevents/game_sounds_heroes/game_sounds_antimage.vsndevts"
    }
  
    // Special  
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_FLOAT"
        "damage_per_burn"   "1"
      }
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "mana_per_hit"      "50"
      }
    }
  
    "Modifiers"
    {
      "modifier_mana_break_orb_datadriven"
      {
        "Passive" "1"
        "IsHidden"  "1"
  
        "OnAttackLanded"
        {
          "RunScript"
          {
            "ScriptFile"  "scripts/vscripts/abilities/towers.lua"
            "Function"    "ManaBreak"
            "Target"    "TARGET"
          }
  
          "FireSound"
          {
            "EffectName"  "Hero_Antimage.ManaBreak"
            "Target"    "TARGET"
          }
  
          "AttachEffect"
          {
            "EffectName"    "particles/generic_gameplay/generic_manaburn.vpcf"
            "EffectAttachType"  "attach_hitloc"
            "Target"      "TARGET"
          }
        }
      }
    }
  }

  //=================================================================================/
  // Upgrade to Tower of Flame
  //=================================================================================/
  "upgrade_to_tower_flame_t1"
  {
    "AbilityBehavior"   "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass"       "ability_datadriven"
    "AbilityChannelTime"  "25"
    "AbilityTextureName"  "upgrade_to_tower_flame_t1"  
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"    "CASTER"
        "TargetUnit"  "tower_flame_t1"
        "LumberCost"  "4000"
        "GoldCost"    "0"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "tower_flame_t1"
        "Scale"     "1"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Cancel"
      }
    }
  }

  //=================================================================================/
  // Upgrade to Super Tower of Flame
  //=================================================================================/
  "upgrade_to_tower_flame_t2"
  {
    "AbilityBehavior"   "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass"       "ability_datadriven"
    "AbilityChannelTime"  "30"
    "AbilityTextureName"  "upgrade_to_tower_flame_t2"  
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"      "CASTER"
        "TargetUnit"  "tower_flame_t2"
        "LumberCost"  "10000"
        "GoldCost"    "0"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "tower_flame_t2"
        "Scale"       "1.4"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Cancel"
      }
    }
  }

  //=================================================================================/
  // Upgrade to Ultimate Tower of Flame
  //=================================================================================/
  "upgrade_to_tower_flame_t3"
  {
    "AbilityBehavior"     "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass"           "ability_datadriven"
    "AbilityChannelTime"  "30"
    "AbilityTextureName"  "upgrade_to_tower_flame_t3"  
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"      "CASTER"
        "TargetUnit"  "tower_flame_t3"
        "LumberCost"  "40000"
        "GoldCost"    "1"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "tower_flame_t3"
        "Scale"       "1.8"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Cancel"
      }
    }
  }

  //=================================================================================/
  // Upgrade to Lantern Tower
  //=================================================================================/
  "upgrade_to_tower_lantern_t1"
  {
    "AbilityBehavior"     "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass"           "ability_datadriven"
    "AbilityChannelTime"  "5"
    "AbilityTextureName"  "upgrade_to_tower_lantern"  
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"      "CASTER"
        "TargetUnit"  "tower_lantern_t1"
        "LumberCost"  "3500"
        "GoldCost"    "0"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "tower_lantern_t1"
        "Scale"       "1"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Cancel"
      }
    }
  }

  //=================================================================================/
  // Upgrade to Tower of Blood
  //=================================================================================/
  "upgrade_to_tower_blood_t1"
  {
    "AbilityBehavior"   "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass"       "ability_datadriven"
    "AbilityChannelTime"  "25"
    "AbilityTextureName"    "upgrade_to_tower_blood_t1"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"    "CASTER"
        "TargetUnit"  "tower_blood_t1"
        "LumberCost"  "15000"
        "GoldCost"    "1"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "tower_blood_t1"
        "Scale"     "2.5"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Cancel"
      }
    }
  }

  //=================================================================================/
  // Upgrade to Tower of Blood
  //=================================================================================/
  "upgrade_to_tower_blood_t2"
  {
    "AbilityBehavior"   "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass"       "ability_datadriven"
    "AbilityChannelTime"  "60"
    "AbilityTextureName"    "upgrade_to_tower_blood_t2"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"    "CASTER"
        "TargetUnit"  "tower_blood_t2"
        "LumberCost"  "1000000"
        "GoldCost"    "2000"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "tower_blood_t2"
        "Scale"       "2.5"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Cancel"
      }
    }
  }


  //================================================================================= 
  // Build Tower of Blod
  //=================================================================================
  "build_tower_blood_t1"
  {
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"        "house_t1"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"                  "1"
    "BuildingSize"              "2"
    "BuildTime"                 "3"
    "AbilityCastRange"          "200"
    "UpdateHealth"              "1"
    "Scale"                     "1"
    "MaxScale"                  "2.5"
    "CasterCanControl"          "1"

    "AbilityCooldown"           "0.05"
    "LumberCost"                "15000"
    "GoldCost"                  "1"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    "UnitName"                  "tower_blood_t1"
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"          "0.05"
    "MaxLevel"                  "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"           "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"            "scripts/vscripts/abilities.lua"
        "Function"              "build"
      }
    }
  }

  //=================================================================================/
  // Tower of Blood - Holy Blood
  //=================================================================================/
  "tower_blood_t1_holy_blood"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL"
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"      "dazzle_weave"
    "MaxLevel"            "1"

    "Modifiers"
    {
      "modifier_holy_blood_debuff"
      {
        "Passive"     "0"
        "IsHidden"      "0"
        "IsDebuff"      "1"
      
        "OnAttackLanded"
        {
          "ApplyModifier"
          {
            "ModifierName"  "modifier_blood_armor_1"
            "Target"    "TARGET"
            "Duration"    "5"
          }

          "RunScript"
          {
            "ScriptFile"  "scripts/vscripts/abilities/towers.lua"
            "Function"    "bloodArmor"
          }
        }     
      }

      "modifier_blood_armor_1"
      {
        "Passive" "1"
        "IsHidden"  "0"
        "IsDebuff"  "1"

        "Properties"
        {
          "MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS" "-1"
        }
      }
    }
  }

  //================================================================================= 
  // Build Tower of Blod
  //=================================================================================
  "build_tower_lantern_t1"
  {
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"        "house_t1"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"                  "1"
    "BuildingSize"              "2"
    "BuildTime"                 "5"
    "AbilityCastRange"          "200"
    "UpdateHealth"              "1"
    "Scale"                     "1"
    "MaxScale"                  "2.5"
    "CasterCanControl"          "1"

    "AbilityCooldown"           "0.05"
    "LumberCost"                "3500"
    "GoldCost"                  "0"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    "UnitName"                  "tower_lantern_t1"
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"          "0.05"
    "MaxLevel"                  "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"           "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"            "scripts/vscripts/abilities.lua"
        "Function"              "build"
      }
    }
  }

  //=================================================================================/
  // Holy Tower of Blood - Holy Blood
  //=================================================================================/
  "tower_blood_t2_holy_blood"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL"
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"      "dazzle_weave"
    "MaxLevel"            "1"

    "Modifiers"
    {
      "modifier_holy_blood_debuff"
      {
        "Passive"     "0"
        "IsHidden"      "0"
        "IsDebuff"      "1"

        "OnCreated"
        {
          "ApplyModifier"
          {
            "ModifierName"  "modifier_neutral_spell_immunity"
            "Target"     "CASTER"
          }
        }
      
        "OnAttackLanded"
        {
          "ApplyModifier"
          {
            "ModifierName"  "modifier_blood_armor_2"
            "Target"    "TARGET"
            "Duration"    "5"
          }

          "RunScript"
          {
            "ScriptFile"  "scripts/vscripts/abilities/towers.lua"
            "Function"    "bloodArmor"
          }
        }     
      }

      "modifier_blood_armor_2"
      {
        "Passive" "1"
        "IsHidden"  "0"
        "IsDebuff"  "1"

        "Properties"
        {
          "MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS" "-1"
        }
      }
    }
  }

  //=================================================================================/
  // Upgrade to Tower of Blood
  //=================================================================================/
  "upgrade_to_tower_calcite_t1"
  {
    "AbilityBehavior"   "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass"       "ability_datadriven"
    "AbilityChannelTime"  "10"
    "AbilityTextureName"    "upgrade_to_tower_calcite_t1"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"    "CASTER"
        "TargetUnit"  "tower_calcite_t1"
        "LumberCost"  "3500"
        "GoldCost"    "0"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "tower_calcite_t1"
        "Scale"     "1"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Cancel"
      }
    }
  }

  //=================================================================================/
  // Calcite T1 Attack speed buff
  //=================================================================================/
  "tower_calcite_t1_attack"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL"
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"      "ogre_magi_bloodlust"
    "MaxLevel"            "1"

    "AbilitySpecial"
    {
      "01"
      {
        "var_type"              "FIELD_INTEGER"
        "tower_calcite_t1_speed_gain"   "20"
      }
      "02"
      {       
        "var_type"              "FIELD_FLOAT"
        "duration"              "5.0"
      }
      "03"
      {
        "var_type"              "FIELD_INTEGER"
        "max_stacks"            "10"
      }
    }

    "Modifiers"
    {
      "modifier_calcite_attack_gain"
      {
        "Passive"   "1"
        "IsHidden"    "0"

        "OnAttackLanded"
        {
          "RunScript"
          {
            "ScriptFile"  "scripts/vscripts/abilities/towers.lua"
            "Function"    "calciteBuff"
          }

          "ApplyModifier"
          {
            "ModifierName"  "modifier_calcite_stack"
            "Target"    "CASTER"
            "Duration"    "%duration"
          }
        }
      }

      "modifier_calcite_stack"
      {
        "Passive" "1"
        "IsHidden"  "0"

        "Properties"
        {
          "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT" "%tower_calcite_t1_speed_gain"
        }
      }
    }
  }

  //=================================================================================/
  // Upgrade to Frost Tower
  //=================================================================================/
  "upgrade_to_tower_frost"
  {
    "AbilityBehavior"   "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass"       "ability_datadriven"
    "AbilityChannelTime"  "30"
    "AbilityTextureName"    "upgrade_to_tower_frost"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"    "CASTER"
        "TargetUnit"  "tower_frost"
        "LumberCost"  "15000"
        "GoldCost"    "0"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "tower_frost"
        "Scale"     "0.7"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Cancel"
      }
    }
  }

  //=================================================================================/
  // Upgrade to Wall of Seeing
  //=================================================================================/
  "upgrade_to_wall_seeing"
  {
    "AbilityBehavior"   "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass"       "ability_datadriven"
    "AbilityChannelTime"  "30"
    "AbilityTextureName"  "upgrade_to_wall_seeing"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"    "CASTER"
        "TargetUnit"  "wall_seeing"
        "LumberCost"  "5000"
        "GoldCost"    "1"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "wall_seeing"
        "Scale"     "1"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Cancel"
      }
    }
  }

  //=================================================================================/
  // Wall of Seeing Truesight
  //=================================================================================/
  "wall_of_seeing_truesight"
  {
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"      "rubick_empty1"
    "MaxLevel"            "1"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_AURA"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL"

    "Modifiers"
    {
      "modifier_wall_seeing_truesight"
      {
        "Passive"     "1"
        "IsHidden"      "0"
        "IsDebuff"      "0"
        "Aura"            "modifier_wall_seeing_aura"
        "Aura_Radius"     "800"
        "Aura_Teams"      "DOTA_UNIT_TARGET_TEAM_ENEMY"
        "Aura_Types"      "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
        "Aura_Flags"      "DOTA_UNIT_TARGET_FLAG_NONE"
        "Aura_ApplyToCaster" "0"
      }

      "modifier_wall_seeing_aura"
      {
        "OnCreated"
        {
          "ApplyModifier"
          {
            "ModifierName"  "modifier_truesight"
            "Target"    "TARGET"
          }
        }

        "OnDestroy"
        {
          "RemoveModifier"
          {
            "ModifierName"  "modifier_truesight"
            "Target"    "TARGET"
          }
        }
      }
    }

  }

  //=================================================================================/
  // Tower of Frost - Slow
  //=================================================================================/
  "tower_frost_attack"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL"
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"      "lich_frost_nova"
    "MaxLevel"            "1"

    "precache"
    {
      "particle"  "particles/generic_gameplay/generic_slowed_cold.vpcf"
    }

    "AbilitySpecial"
    {
      "01"
      {
        "var_type"              "FIELD_INTEGER"
        "tower_frost_movespeed"       "-25"
      }
      "02"
      {
        "var_type"      "FIELD_FLOAT"
        "duration"      "5.0"
      }
    }

    "Modifiers"
    {
      "modifier_frost_slow"
      {
        "Passive"   "1"
        "IsHidden"    "1"

        "OnAttackLanded"
        {
          "ApplyModifier"
          {
            "ModifierName"  "modifier_tower_frost_slow"
            "Target"    "TARGET"
            "Duration"    "%duration"
          }
        }
      }
      "modifier_tower_frost_slow"
      {
        "IsHidden"  "0"
        "IsDebuff"  "1"

        "EffectName"          "particles/generic_gameplay/generic_slowed_cold.vpcf"

        "Properties"
        {
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE" "%tower_frost_movespeed"
        }
      }
    }
  }
  //=================================================================================/
  // Upgrade to Lesser Mana Energy Tower
  //=================================================================================/
  "upgrade_to_tower_manaburn_t1"
  {
    "AbilityBehavior"   "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass"       "ability_datadriven"
    "AbilityChannelTime"  "5"
    "AbilityTextureName"    "upgrade_to_tower_manaburn_t1"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"    "CASTER"
        "TargetUnit"  "tower_manaburn_t1"
        "LumberCost"  "2000"
        "GoldCost"    "0"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "tower_manaburn_t1"
        "Scale"     "0.7"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Cancel"
      }
    }
  }

  //=================================================================================/
  // Mana Energy Tower - Feedback
  //=================================================================================/
  // Ability taken from SpellLibrary. - https://github.com/Pizzalol/SpellLibrary
  // Author: Pizzalol
  // Date: 16.12.2014.
  "tower_manaburn_t2_feedback"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_PHYSICAL"    
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "AbilityTextureName"      "antimage_mana_break"
    "MaxLevel"            "1"
  
    // Precache 
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "particle"  "particles/generic_gameplay/generic_manaburn.vpcf"
      "soundfile" "soundevents/game_sounds_heroes/game_sounds_antimage.vsndevts"
    }
  
    // Special  
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_FLOAT"
        "damage_per_burn"   "1"
      }
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "mana_per_hit"      "100"
      }
    }
  
    "Modifiers"
    {
      "modifier_mana_break_orb_datadriven"
      {
        "Passive" "1"
        "IsHidden"  "1"
  
        "OnAttackLanded"
        {
          "RunScript"
          {
            "ScriptFile"  "scripts/vscripts/abilities/towers.lua"
            "Function"    "ManaBreak"
            "Target"    "TARGET"
          }
  
          "FireSound"
          {
            "EffectName"  "Hero_Antimage.ManaBreak"
            "Target"    "TARGET"
          }
  
          "AttachEffect"
          {
            "EffectName"    "particles/generic_gameplay/generic_manaburn.vpcf"
            "EffectAttachType"  "attach_hitloc"
            "Target"      "TARGET"
          }
        }
      }
    }
  }

  //=================================================================================/
  // Tower of Blood - Holy Blood
  //=================================================================================/
  "tower_blood_t1_holy_blood"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL"
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"      "dazzle_weave"
    "MaxLevel"            "1"

    "Modifiers"
    {
      "modifier_holy_blood_debuff"
      {
        "Passive"     "1"
        "IsHidden"      "0"
        "IsDebuff"      "1"
      
        "OnAttackLanded"
        {
          "ApplyModifier"
          {
            "ModifierName"  "modifier_name"
            "Target"    "TARGET"
            "Duration"    "5"
          }
        }
      }
    }
  }

  //=================================================================================/
  // Wall Tower T1 - Splash Attack
  //=================================================================================/
  "tower_wall_t1_splash"
  {
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_PHYSICAL"
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"        "rubick_empty1"
    "MaxLevel"                  "1"

    //From Davoness
    "OnAttackLanded"
    {
      "Damage"
      {
          "Target"
          {
              "Center"    "TARGET"
              "Radius"    "500"
              "Teams"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
              "Types"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
          }
          "Type"          "DAMAGE_TYPE_PHYSICAL"
          "Damage"        "%attack_damage"
      }
    }
  }



  // START OF BUILDING HELPER ABILITIES
  "move_to_point_70"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT"
    "BaseClass"           "ability_datadriven"
    "AbilityCastPoint"        "0"
    "AbilityCooldown"       "0"
    "AbilityCastRange"        "70"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    "MaxLevel"            "1"

    "AbilityManaCost"       "0"

    "OnSpellStart"
    {
      "RunScript"
      {
        "Target"    "POINT"
        "ScriptFile"  "scripts/vscripts/abilities.lua"
        "Function"    "create_building_entity"
      }
    }
  }

  "move_to_point_100"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT"
    "BaseClass"           "ability_datadriven"
    "AbilityCastPoint"        "0"
    "AbilityCooldown"       "0"
    "AbilityCastRange"        "100"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    "MaxLevel"            "1"

    "AbilityManaCost"       "0"

    "OnSpellStart"
    {
      "RunScript"
      {
        "Target"    "POINT"
        "ScriptFile"  "scripts/vscripts/abilities.lua"
        "Function"    "create_building_entity"
      }
    }
  }

  "move_to_point_150"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT"
    "BaseClass"           "ability_datadriven"
    "AbilityCastPoint"        "0"
    "AbilityCooldown"       "0"
    "AbilityCastRange"        "150"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    "MaxLevel"            "1"

    "AbilityManaCost"       "0"

    "OnSpellStart"
    {
      "RunScript"
      {
        "Target"    "POINT"
        "ScriptFile"  "scripts/vscripts/abilities.lua"
        "Function"    "create_building_entity"
      }
    }
  }

  "move_to_point_200"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT"
    "BaseClass"           "ability_datadriven"
    "AbilityCastPoint"        "0"
    "AbilityCooldown"       "0"
    "AbilityCastRange"        "200"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    "MaxLevel"            "1"

    "AbilityManaCost"       "0"

    "OnSpellStart"
    {
      "RunScript"
      {
        "Target"    "POINT"
        "ScriptFile"  "scripts/vscripts/abilities.lua"
        "Function"    "create_building_entity"
      }
    }
  }

  "move_to_point_250"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT"
    "BaseClass"           "ability_datadriven"
    "AbilityCastPoint"        "0"
    "AbilityCooldown"       "0"
    "AbilityCastRange"        "250"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    "MaxLevel"            "1"

    "AbilityManaCost"       "0"

    "OnSpellStart"
    {
      "RunScript"
      {
        "Target"    "POINT"
        "ScriptFile"  "scripts/vscripts/abilities.lua"
        "Function"    "create_building_entity"
      }
    }
  }

  "move_to_point_300"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT"
    "BaseClass"           "ability_datadriven"
    "AbilityCastPoint"        "0"
    "AbilityCooldown"       "0"
    "AbilityCastRange"        "300"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    "MaxLevel"            "1"

    "AbilityManaCost"       "0"

    "OnSpellStart"
    {
      "RunScript"
      {
        "Target"    "POINT"
        "ScriptFile"  "scripts/vscripts/abilities.lua"
        "Function"    "create_building_entity"
      }
    }
  }

  "bh_dummy"
  {
    "AbilityBehavior"     "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"            "rubick_empty1"
    "MaxLevel"                      "1"

    "OnUpgrade"
    {
      "ApplyModifier"
      {
        "ModifierName"  "dummy_unit"
        "Target"    "CASTER"
      }
    }

    "Modifiers"
    {
      "dummy_unit"
      {
        "Passive"                        "1"
        "IsHidden"                       "1"    
        "States"
        {
          "MODIFIER_STATE_UNSELECTABLE"     "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NO_HEALTH_BAR"    "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NOT_ON_MINIMAP"   "MODIFIER_STATE_VALUE_ENABLED"
        }
      }

      "building_canceled"
      {
        "Passive"                        "0"
        "IsHidden"                       "1"
        "OnOrder"
        // Triggers on Move/Casting/Hold/Stop
        {
          "RunScript"
          {
            "ScriptFile"  "scripts/vscripts/abilities.lua"
            "Function"    "building_canceled"
          }
        }

      } 
    }
  }

  // END OF BUILDING HELPER ABILITIES

  //================================================================================= 
  // Build House
  //=================================================================================
  "build_house1"
  {
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"        "house_t1"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"                  "1"
    "BuildingSize"              "2"
    "BuildTime"                 "3"
    "AbilityCastRange"          "200"
    "UpdateHealth"              "1"
    "Scale"                     "1"
    "MaxScale"                  ".5"
    "CasterCanControl"          "1"

    "AbilityCooldown"           "0.05"
    "LumberCost"                "10"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    "UnitName"                  "house_t1"
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"          "0.05"
    "MaxLevel"                  "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"           "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"            "scripts/vscripts/abilities.lua"
        "Function"              "build"
      }
    }
  }

  "build_tent_t1"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "tent_t1"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"            "1"
    "BuildingSize"          "3"
    "BuildTime"           "1"
    "AbilityCastRange"        "200"
    "UpdateHealth"          "1"
    "Scale"             "0.1"
    "MaxScale"            "0.2"
    "CasterCanControl"        "1"

    "AbilityCooldown"       "0"
    "GoldCost"       "0"
    "LumberCost"       "20"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    "UnitName"            "tent_t1"
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.0"
    "MaxLevel"            "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"      "scripts/vscripts/abilities.lua"
        "Function"        "build"
      }
    }
  }

  "build_slayer_tavern"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "slayer_tavern"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"            "1"
    "BuildingSize"          "4"
    "BuildTime"           "2"
    "AbilityCastRange"        "200"
    "UpdateHealth"          "1"
    "Scale"             "1"
    "MaxScale"            "0.8"
    "CasterCanControl"        "1"

    "AbilityCooldown"       "2.0"
    "GoldCost"       "0"
    "LumberCost"       "400"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    "UnitName"            "slayer_tavern"
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.0"
    "MaxLevel"            "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"      "scripts/vscripts/abilities.lua"
        "Function"        "build"
      }
    }
  }

  "build_human_surplus"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "human_surplus"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"            "1"
    "BuildingSize"          "4"
    "BuildTime"           "15"
    "AbilityCastRange"        "200"
    "UpdateHealth"          "1"
    "Scale"             "1"
    "MaxScale"            "1"
    "CasterCanControl"        "1"

    "AbilityCooldown"       "2.0"
    "GoldCost"       "3"
    "LumberCost"       "1000"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    "UnitName"            "human_surplus"
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.0"
    "MaxLevel"            "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"      "scripts/vscripts/abilities.lua"
        "Function"        "build"
      }
    }
  }

  "build_tower_pearls"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "tower_pearls"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"            "1"
    "BuildingSize"          "2"
    "BuildTime"           "1"
    "AbilityCastRange"        "200"
    "UpdateHealth"          "1"
    "Scale"             "1"
    "MaxScale"            ".5"
    "CasterCanControl"        "1"

    "AbilityCooldown"       "2.0"
    "GoldCost"       "0"
    "LumberCost"       "50"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    "UnitName"            "tower_pearls"
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.0"
    "MaxLevel"            "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"      "scripts/vscripts/abilities.lua"
        "Function"        "build"
      }
    }
  }

  "build_wall_t1"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "wall_1"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"            "1"
    "BuildingSize"          "2"
    "BuildTime"           "5"
    "AbilityCastRange"        "200"
    "UpdateHealth"          "1"
    "Scale"             ".5"
    "MaxScale"            "1"
    "CasterCanControl"        "1"

    "AbilityCooldown"       "2.0"
    "GoldCost"       "0"
    "LumberCost"       "50"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    "UnitName"            "wall_t1"
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.0"
    "MaxLevel"            "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"      "scripts/vscripts/abilities.lua"
        "Function"        "build"
      }
    }
  }

  "build_human_flag"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "flag"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"            "1"
    "BuildingSize"          "2"
    "BuildTime"           "1"
    "AbilityCastRange"        "200"
    "UpdateHealth"          "1"
    "Scale"             "1"
    "MaxScale"            ".5"
    "CasterCanControl"        "1"

    "AbilityCooldown"       "2.0"
    "GoldCost"       "0"
    "LumberCost"       "0"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    "UnitName"            "human_flag"
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.0"
    "MaxLevel"            "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"      "scripts/vscripts/abilities.lua"
        "Function"        "build"
      }
    }
  }

  "build_research_center_t1"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "research_center"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"            "1"
    "BuildingSize"          "4"
    "BuildTime"           "1"
    "AbilityCastRange"        "200"
    "UpdateHealth"          "1"
    "Scale"                 "1"
    "MaxScale"              "1.2"
    "CasterCanControl"        "1"

    "AbilityCooldown"       "2.0"
    "GoldCost"       "0"
    "LumberCost"       "150"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    "UnitName"            "research_center_t1"
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.0"
    "MaxLevel"            "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"      "scripts/vscripts/abilities.lua"
        "Function"        "build"
      }
    }
  }

  "build_heal_wall_t1"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "heal_wall_1"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"            "1"
    "BuildingSize"          "2"
    "BuildTime"           "5"
    "AbilityCastRange"        "200"
    "UpdateHealth"          "1"
    "Scale"             "1"
    "MaxScale"            "2"
    "CasterCanControl"        "1"

    "AbilityCooldown"       "2.0"
    "GoldCost"       "0"
    "LumberCost"       "2000"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    "UnitName"            "heal_wall_t1"
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.0"
    "MaxLevel"            "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"      "scripts/vscripts/abilities.lua"
        "Function"        "build"
      }
    }
  }

  //====================================================
  // Build Super Wall of Healing
  //====================================================
  "build_heal_wall_t2"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "heal_wall_1"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"            "1"
    "BuildingSize"          "2"
    "BuildTime"           "5"
    "AbilityCastRange"        "200"
    "UpdateHealth"          "1"
    "Scale"             "1"
    "MaxScale"            "2"
    "CasterCanControl"        "1"

    "AbilityCooldown"       "2.0"
    "GoldCost"       "0"
    "LumberCost"       "2000"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    "UnitName"            "heal_wall_t2"
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.0"
    "MaxLevel"            "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"      "scripts/vscripts/abilities.lua"
        "Function"        "build"
      }
    }
  }


  //====================================================
  // Heal Tower: Healing Beam
  //====================================================
  "heal_tower_heal_beam"
  {
    "BaseClass"         "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_DONT_RESUME_ATTACK"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "SpellImmunityType"       "SPELL_IMMUNITY_ALLIES_YES"
    "AbilityTextureName"      "dazzle_shadow_wave"
    "MaxLevel"            "1"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"     "soundevents/game_sounds_heroes/game_sounds_dazzle.vsndevts"
      "particle"      "particles/vampire/dazzle_shadow_wave.vpcf"
    }

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "500"
    "AbilityCastPoint"        "0.5"
    
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "10"
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"      "FIELD_INTEGER"
        "bounce_radius"   "2000"
      }
      "02"
      { 
        "var_type"      "FIELD_INTEGER"
        "max_targets"   "4"
      }
      "03"
      {
        "var_type"      "FIELD_INTEGER"
        "heal"        "200"
      }
    }

    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"  "Hero_Dazzle.Shadow_Wave"
        "Target"    "CASTER"
      }

      "FireEffect"
      {
        "EffectName"        "particles/vampire/dazzle_shadow_wave.vpcf"
        "EffectAttachType"  "start_at_customorigin"
        
        "ControlPointEntities"
        {
          "CASTER"  "attach_attack1"
          "TARGET"  "follow_origin"
        }
      }

      "RunScript"
      {
        "ScriptFile"  "abilities/vampire.lua"
        "Function"    "HealthBeam"
        "shadow_wave_particle"  "particles/vampire/dazzle_shadow_wave.vpcf"
      }
    }
  }
  //=========================================================
  // Healing Tower: Healing Aura
  //=========================================================
  "heal_tower_heal_aura"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_AOE | DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "BaseClass" "ability_datadriven"
    "AbilityTextureName"  "juggernaut_healing_ward"
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"  "FIELD_INTEGER"
        "health_radius" "450 450"
      }

      "02"
      {
        "var_type"  "FIELD_FLOAT"
        "health_regen_amount" "2 2"
      }

      "03"
      {
        "var_type"  "FIELD_FLOAT"
        "mana_regen_amount" "0 2"
      }
    }


    "OnSpellStart"
    {
      "ApplyModifier"
      {
        "ModifierName"  "health_regen"
        "Target"
        {
          "Center"  "CASTER"
          "Radius"  "%health_radius"
          "Teams" "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
          "Types" "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_CREEP | DOTA_UNIT_TARGET_MECHANICAL | DOTA_UNIT_TARGET_OTHER"
        }

      }

    }

    "Modifiers"
    {
      "fx_heal_aura"
      {
        "Passive" "1"
        "IsHidden"  "1"
        "OnCreated"
        {
          "AttachEffect"
          {
            "Target"  "TARGET"
            "EffectName"  "particles/generic_gameplay/radiant_fountain_regen_mist.vpcf"
            "EffectAttatchType" "follow_origin"
            "ControlPoints"
            {
              "00"  "0 0 0"
              "01"  "%health_radius 0 0"
              "02"  "0 0 -200"
            }
          }
        }
      }

      "aura_health_regen"
      {
        "IsHidden"  "0"
        "Passive" "1"
        "Aura"  "health_regen"
        "Aura_Radius" "%health_radius"
        "Aura_Teams"  "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
        "Aura_Types"  "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_CREEP | DOTA_UNIT_TARGET_MECHANICAL"
        "Aura_ApplyToCaster"  "0"
      }

      "health_regen"
      {
        "Properties"
        {
          "MODIFIER_PROPERTY_HEALTH_REGEN_PERCENTAGE" "%health_regen_amount"
          "MODIFIER_PROPERTY_MANA_REGEN_TOTAL_PERCENTAGE" "%mana_regen_amount"
        }

      }
    }
  }

  //=========================================================
  // Super Healing Tower: Healing Aura
  //=========================================================
  "super_heal_tower_heal_aura"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_AOE | DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "BaseClass" "ability_datadriven"
    "AbilityTextureName"  "juggernaut_healing_ward"
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"  "FIELD_INTEGER"
        "health_radius" "450 450"
      }

      "02"
      {
        "var_type"  "FIELD_FLOAT"
        "health_regen_amount" "5 5"
      }

      "03"
      {
        "var_type"  "FIELD_FLOAT"
        "mana_regen_amount" "0 2"
      }
    }


    "OnSpellStart"
    {
      "ApplyModifier"
      {
        "ModifierName"  "health_regen"
        "Target"
        {
          "Center"  "CASTER"
          "Radius"  "%health_radius"
          "Teams" "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
          "Types" "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_CREEP | DOTA_UNIT_TARGET_MECHANICAL | DOTA_UNIT_TARGET_OTHER"
        }

      }

    }

    "Modifiers"
    {
      "fx_heal_aura"
      {
        "Passive" "1"
        "IsHidden"  "1"
        "OnCreated"
        {
          "AttachEffect"
          {
            "Target"  "TARGET"
            "EffectName"  "particles/generic_gameplay/radiant_fountain_regen_mist.vpcf"
            "EffectAttatchType" "follow_origin"
            "ControlPoints"
            {
              "00"  "0 0 0"
              "01"  "%health_radius 0 0"
              "02"  "0 0 -200"
            }
          }
        }
      }

      "aura_health_regen"
      {
        "IsHidden"  "0"
        "Passive" "1"
        "Aura"  "health_regen"
        "Aura_Radius" "%health_radius"
        "Aura_Teams"  "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
        "Aura_Types"  "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_CREEP | DOTA_UNIT_TARGET_MECHANICAL"
        "Aura_ApplyToCaster"  "0"
      }

      "health_regen"
      {
        "Properties"
        {
          "MODIFIER_PROPERTY_HEALTH_REGEN_PERCENTAGE" "%health_regen_amount"
          "MODIFIER_PROPERTY_MANA_REGEN_TOTAL_PERCENTAGE" "%mana_regen_amount"
        }

      }
    }
  }

  //================================================================================= /
  // Research Mana Regeneration
  //================================================================================= /
  "research_mana_regeneration"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"  
    "AbilityChannelTime"  "30"
    "AbilityTextureName"  "buildings/research_mana_regeneration"
    "LumberCost"   "2000"
    "GoldCost"     "0"
    "BaseClass"         "ability_datadriven"
    //when this completes, this is the modifier(ability) we need to add.
    "GiveModifier"      "tech_mana_regeneration"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"        "scripts/vscripts/buildings/research.lua"
        "Function"          "TechUpgrade" //potentially a generic function that will handle all future techs.
        "TARGET"            "CASTER"
        "Level"             "10"
      }
    }
  }

  //================================================================================= /
  // Healing Vitality passive (what gets applied to newly spawned buildings)
  //================================================================================= /
  "tech_mana_regeneration"
  {
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "BaseClass"                 "ability_datadriven"
    "MaxLevel"                  "1"

    "OnUpgrade"
    {
      "ApplyModifier"
      {
        "ModifierName"  "modifier_mana_regeneration"
        "Target"        "CASTER"
      }
    }

    "Modifiers"
    {
      "modifier_mana_regeneration"
      {
        "Passive"       "1"
        "IsHidden"      "1"

        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"        "scripts/vscripts/buildings/research.lua"
            "Function"          "ManaRegeneration" //adds a flat health bonus.
            "TARGET"            "CASTER"
          }
        }
      }
    }
  }

  "build_gold_mine_t1"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "gold_mine_1"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"            "1"
    "BuildingSize"          "2"
    "BuildTime"           "1"
    "AbilityCastRange"        "200"
    "UpdateHealth"          "1"
    "Scale"             "1"
    "MaxScale"            ".5"
    "CasterCanControl"        "1"

    "AbilityCooldown"       "2.0"
    "GoldCost"       "0"
    "LumberCost"       "20000"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    "UnitName"            "gold_mine_t1"
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.0"
    "MaxLevel"            "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"      "scripts/vscripts/abilities.lua"
        "Function"        "build"
      }
    }
  }

  "build_human_vault"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "human_vault"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"            "1"
    "BuildingSize"          "4"
    "BuildTime"           "2"
    "AbilityCastRange"        "200"
    "UpdateHealth"          "1"
    "Scale"             "1"
    "MaxScale"            "1.3"
    "CasterCanControl"        "1"

    "AbilityCooldown"       "2.0"
    "GoldCost"       "1"
    "LumberCost"       "150"

    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    "UnitName"            "human_vault"
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.0"
    "MaxLevel"            "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"      "scripts/vscripts/abilities.lua"
        "Function"        "build"
      }
    }
  }

  //=================================================================================/
  // Build Mana Energy Tower
  //=================================================================================/
  "build_tower_manaburn_t2"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
    "BaseClass"             "ability_datadriven"
    "AbilityTextureName"    "tower_manaburn_t2"
    "AbilityCastAnimation"  "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"              "1"
    "BuildingSize"          "2"
    "BuildTime"             "20"
    "AbilityCastRange"      "200"
    "UpdateHealth"          "1"
    "Scale"                 "1"
    "MaxScale"              "1.3"
    "CasterCanControl"      "1"
  
    "AbilityCooldown"       "2.0"
    "GoldCost"              "1"
    "LumberCost"            "3500"

    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    "UnitName"              "tower_manaburn_t2"
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"       "0.0"
    "MaxLevel"               "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"      "scripts/vscripts/abilities.lua"
        "Function"        "build"
      }
    }
  }

  //================================================================================= /
  // Upgrade to Super Wall of Healing
  //================================================================================= /
  "upgrade_to_heal_wall_t2"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass" "ability_datadriven"
    "AbilityChannelTime"  "5"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"      "CASTER"
        "TargetUnit"  "heal_wall_t2"
        "LumberCost"  "10000"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "heal_wall_t2"
        "Scale"       "1"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Cancel"
      }
    }
  }

  //================================================================================= /
  // Upgrade to Ultra Research Center
  //================================================================================= /
  "upgrade_to_research_center_t2"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass" "ability_datadriven"
    "AbilityChannelTime"  "1"
    "NeedTech"      "house_t2 gold_mine_t1"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"      "CASTER"
        "TargetUnit"  "research_center_t2"
        "LumberCost"  "3000"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "research_center_t2"
        "Scale"       "1"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Cancel"
      }
    }
  }

  //================================================================================= 
  // Build Ultra Research Center
  //=================================================================================
  "build_research_center_t2"
  {
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"        "house_t1"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"                  "1"
    "BuildingSize"              "4"
    "BuildTime"                 "2"
    "AbilityCastRange"          "200"
    "UpdateHealth"              "1"
    "Scale"                     "1"
    "MaxScale"                  "1"
    "CasterCanControl"          "1"

    "AbilityCooldown"           "0.05"
    "LumberCost"                "5000"
    "GoldCost"                  "10"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    "UnitName"                  "research_center_t2"
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"          "0.05"
    "MaxLevel"                  "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"           "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"            "scripts/vscripts/abilities.lua"
        "Function"              "build"
      }
    }
  }

  //================================================================================= /
  // Upgrade to Super Gold Mine
  //================================================================================= /
  "upgrade_to_gold_mine_t2"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass" "ability_datadriven"
    "AbilityChannelTime"  "1"
    "AbilityTextureName"    "upgrade_to_gold_mine_t2"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"      "CASTER"
        "TargetUnit"  "gold_mine_t2"
        "LumberCost"  "50000"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "gold_mine_t2"
        "Scale"       "1"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Cancel"
      }
    }
  }

  //================================================================================= 
  // Build Super Gold Mine
  //=================================================================================
  "build_gold_mine_t2"
  {
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"        "house_t1"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"                  "1"
    "BuildingSize"              "2"
    "BuildTime"                 "1"
    "AbilityCastRange"          "200"
    "UpdateHealth"              "1"
    "Scale"                     "1"
    "MaxScale"                  "1"
    "CasterCanControl"          "1"

    "AbilityCooldown"           "0.05"
    "LumberCost"                "50000"
    "GoldCost"                  "0"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    "UnitName"                  "gold_mine_t2"
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"          "0.05"
    "MaxLevel"                  "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"           "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"            "scripts/vscripts/abilities.lua"
        "Function"              "build"
      }
    }
  }


  //================================================================================= 
  // Build Opal Tower
  //=================================================================================
  "build_tower_opal"
  {
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"        "house_t1"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"                  "1"
    "BuildingSize"              "2"
    "BuildTime"                 "5"
    "AbilityCastRange"          "200"
    "UpdateHealth"              "1"
    "Scale"                     "1"
    "MaxScale"                  ".5"
    "CasterCanControl"          "1"

    "AbilityCooldown"           "0"
    "LumberCost"                "800"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    "UnitName"                  "tower_opal"
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"          "0.05"
    "MaxLevel"                  "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"           "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"            "scripts/vscripts/abilities.lua"
        "Function"              "build"
      }
    }
  }

  //================================================================================= 
  // Build Wall Tower
  //=================================================================================
  "build_tower_wall_t1"
  {
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"        "house_t1"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"                  "1"
    "BuildingSize"              "2"
    "BuildTime"                 "10"
    "AbilityCastRange"          "200"
    "UpdateHealth"              "1"
    "Scale"                     "4"
    "MaxScale"                  "2"
    "CasterCanControl"          "1"

    "AbilityCooldown"           "0"
    "LumberCost"                "2000"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    "UnitName"                  "tower_wall_t1"
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"          "0.05"
    "MaxLevel"                  "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"           "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"            "scripts/vscripts/abilities.lua"
        "Function"              "build"
      }
    }
  }

  //================================================================================= 
  // Build Frost Tower
  //=================================================================================
  "build_tower_frost"
  {
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"        "house_t1"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"                  "1"
    "BuildingSize"              "2"
    "BuildTime"                 "30"
    "AbilityCastRange"          "200"
    "UpdateHealth"              "1"
    "Scale"                     "1"
    "MaxScale"                  "0.7"
    "CasterCanControl"          "1"

    "AbilityCooldown"           "0"
    "LumberCost"                "15000"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    "UnitName"                  "tower_frost"
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"          "0.05"
    "MaxLevel"                  "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"           "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"            "scripts/vscripts/abilities.lua"
        "Function"              "build"
      }
    }
  }

  //================================================================================= 
  // Build Amethyst Wall
  //=================================================================================
  "build_wall_t3"
  {
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"        "house_t1"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"                  "1"
    "BuildingSize"              "2"
    "BuildTime"                 "10"
    "AbilityCastRange"          "200"
    "UpdateHealth"              "1"
    "Scale"                     "1"
    "MaxScale"                  "0.8"
    "CasterCanControl"          "1"

    "AbilityCooldown"           "0"
    "LumberCost"                "1000"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    "UnitName"                  "wall_t3"
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"          "0.05"
    "MaxLevel"                  "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"           "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"            "scripts/vscripts/abilities.lua"
        "Function"              "build"
      }
    }
  }

  //================================================================================= 
  // Build Cripple Tower
  //=================================================================================
  "build_tower_cripple_t1"
  {
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"        "house_t1"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"                  "1"
    "BuildingSize"              "2"
    "BuildTime"                 "30"
    "AbilityCastRange"          "200"
    "UpdateHealth"              "1"
    "Scale"                     "1"
    "MaxScale"                  "0.7"
    "CasterCanControl"          "1"

    "AbilityCooldown"           "0"
    "LumberCost"                "15000"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    "UnitName"                  "tower_cripple_t1"
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"          "0.05"
    "MaxLevel"                  "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"           "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"            "scripts/vscripts/abilities.lua"
        "Function"              "build"
      }
    }
  }

  //================================================================================= 
  // Build Comet Tower
  //=================================================================================
  "build_tower_cripple_t2"
  {
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"        "house_t1"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"                  "1"
    "BuildingSize"              "2"
    "BuildTime"                 "45"
    "AbilityCastRange"          "200"
    "UpdateHealth"              "1"
    "Scale"                     "1"
    "MaxScale"                  "1"
    "CasterCanControl"          "1"

    "AbilityCooldown"           "0"
    "LumberCost"                "150000"
    "GoldCost"                  "350"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    "UnitName"                  "tower_cripple_t2"
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"          "0.05"
    "MaxLevel"                  "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"           "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"            "scripts/vscripts/abilities.lua"
        "Function"              "build"
      }
    }
  }

  //================================================================================= 
  // Build Armageddon Tower
  //=================================================================================
  "build_tower_cripple_t3"
  {
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"        "house_t1"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"                  "1"
    "BuildingSize"              "2"
    "BuildTime"                 "30"
    "AbilityCastRange"          "200"
    "UpdateHealth"              "1"
    "Scale"                     "1"
    "MaxScale"                  "1"
    "CasterCanControl"          "1"

    "AbilityCooldown"           "0"
    "LumberCost"                "200000"
    "GoldCost"                  "1000"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    "UnitName"                  "tower_cripple_t3"
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"          "0.05"
    "MaxLevel"                  "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"           "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"            "scripts/vscripts/abilities.lua"
        "Function"              "build"
      }
    }
  }

  //================================================================================= 
  // Build Ruby Wall
  //=================================================================================
  "build_wall_t8"
  {
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"        "house_t1"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"                  "1"
    "BuildingSize"              "2"
    "BuildTime"                 "60"
    "AbilityCastRange"          "200"
    "UpdateHealth"              "1"
    "Scale"                     "1"
    "MaxScale"                  "0.7"
    "CasterCanControl"          "1"

    "AbilityCooldown"           "0"
    "LumberCost"                "150000"
    "GoldCost"                  "100"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    "UnitName"                  "wall_t8"
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"          "0.05"
    "MaxLevel"                  "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"           "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"            "scripts/vscripts/abilities.lua"
        "Function"              "build"
      }
    }
  }

  //================================================================================= 
  // Build Diamond Wall
  //=================================================================================
  "build_wall_t9"
  {
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"        "house_t1"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"

    // BuildingHelper info
    "Building"                  "1"
    "BuildingSize"              "2"
    "BuildTime"                 "70"
    "AbilityCastRange"          "200"
    "UpdateHealth"              "1"
    "Scale"                     "1"
    "MaxScale"                  "0.7"
    "CasterCanControl"          "1"

    "AbilityCooldown"           "0"
    "LumberCost"                "250000"
    "GoldCost"                  "200"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    "UnitName"                  "wall_t9"
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"          "0.05"
    "MaxLevel"                  "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"           "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"            "scripts/vscripts/abilities.lua"
        "Function"              "build"
      }
    }
  }

  //================================================================================= 
  // Build Lightning Oracle
  //=================================================================================
  "build_tower_lightning_t1"
  {
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"        "house_t1"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"                  "1"
    "BuildingSize"              "2"
    "BuildTime"                 "60"
    "AbilityCastRange"          "200"
    "UpdateHealth"              "1"
    "Scale"                     "1"
    "MaxScale"                  "0.7"
    "CasterCanControl"          "1"

    "AbilityCooldown"           "0"
    "LumberCost"                "750000"
    "GoldCost"                  "250"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    "UnitName"                  "tower_lightning_t1"
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"          "0.05"
    "MaxLevel"                  "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"           "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"            "scripts/vscripts/abilities.lua"
        "Function"              "build"
      }
    }
  }

  //================================================================================= 
  // Build Ultra Lightning Oracle
  //=================================================================================
  "build_tower_lightning_t2"
  {
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"        "house_t1"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"                  "1"
    "BuildingSize"              "2"
    "BuildTime"                 "20"
    "AbilityCastRange"          "200"
    "UpdateHealth"              "1"
    "Scale"                     "1"
    "MaxScale"                  "1"
    "CasterCanControl"          "1"

    "AbilityCooldown"           "0"
    "LumberCost"                "1000000"
    "GoldCost"                  "1600"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    "UnitName"                  "tower_lightning_t2"
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"          "0.05"
    "MaxLevel"                  "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"           "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"            "scripts/vscripts/abilities.lua"
        "Function"              "build"
      }
    }
  }

  //================================================================================= 
  // Build Vampire Spire Tower
  //=================================================================================
  "build_tower_spire_t1"
  {
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"        "house_t1"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"                  "1"
    "BuildingSize"              "2"
    "BuildTime"                 "30"
    "AbilityCastRange"          "200"
    "UpdateHealth"              "1"
    "Scale"                     "1"
    "MaxScale"                  "0.7"
    "CasterCanControl"          "1"

    "AbilityCooldown"           "0"
    "LumberCost"                "75000"
    "GoldCost"                  "30"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    "UnitName"                  "tower_spire_t1"
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"          "0.05"
    "MaxLevel"                  "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"           "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"            "scripts/vscripts/abilities.lua"
        "Function"              "build"
      }
    }
  }

  //================================================================================= 
  // Build Ultra Vampire Spire Tower
  //=================================================================================
  "build_tower_spire_t2"
  {
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"        "house_t1"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"                  "1"
    "BuildingSize"              "2"
    "BuildTime"                 "45"
    "AbilityCastRange"          "200"
    "UpdateHealth"              "1"
    "Scale"                     "1"
    "MaxScale"                  "0.7"
    "CasterCanControl"          "1"

    "AbilityCooldown"           "0"
    "LumberCost"                "10000"
    "GoldCost"                  "100"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    "UnitName"                  "tower_spire_t2"
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"          "0.05"
    "MaxLevel"                  "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"           "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"            "scripts/vscripts/abilities.lua"
        "Function"              "build"
      }
    }
  }

  //================================================================================= 
  // Build Venom Spire
  //=================================================================================
  "build_tower_venom_t1"
  {
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"        "house_t1"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"                  "1"
    "BuildingSize"              "2"
    "BuildTime"                 "30"
    "AbilityCastRange"          "200"
    "UpdateHealth"              "1"
    "Scale"                     "1"
    "MaxScale"                  "1.5"
    "CasterCanControl"          "1"

    "AbilityCooldown"           "0"
    "LumberCost"                "0"
    "GoldCost"                  "0"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    "UnitName"                  "tower_venom_t1"
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"          "0.05"
    "MaxLevel"                  "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"           "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"            "scripts/vscripts/abilities.lua"
        "Function"              "build"
        "ItemBuilding"          "item_venom_orb"
      }
    }
  }

  //================================================================================= 
  // Venomous Leak
  //=================================================================================
  "venom_spire_passive"
  {
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"        "venomancer_poison_sting"
    "MaxLevel"                  "1"

    "AbilityType"             "DOTA_ABILITY_TYPE_BASIC"
    "AbilityBehavior"         "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityUnitDamageType"   "DAMAGE_TYPE_MAGICAL"
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"

    "precache"
    {
      "particle"              "particles/units/heroes/hero_venomancer/venomancer_gale_poison_debuff.vpcf"
    }

    "Modifiers"
    {
      "modifier_spire_poison"
      {
        "Passive"       "1"
        "IsHidden"      "0"

        "OnAttackLanded"
        {
          "ApplyModifier"
          {
            "ModifierName"  "modifier_spire_poison_debuff"
            "Target"    "TARGET"
          }
        }
      }

      "modifier_spire_poison_debuff"
      {
        "IsDebuff"      "1"
        "Duration"      "2"

        "AttachEffect"
        {
          "EffectName"          "particles/units/heroes/hero_venomancer/venomancer_gale_poison_debuff.vpcf"
          "EffectAttachType"    "attach_hitloc"
          "Target"              "TARGET"
        }
        "Properties"
        {
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"  "-20"
          "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"  "-20"
        }
      }
    }
  }

  //======================================================
  // Cripple tower active
  //======================================================
  "tower_cripple_active"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    "AbilityUnitTargetType" "DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_HERO"
    "AbilityUnitTargetTeam" "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "BaseClass" "ability_datadriven"
    "AbilityCastPoint"  "0"
    "AbilityCastRange"        "1000"
    "AbilityTextureName"    "skywrath_mage_concussive_shot"
    "AbilityManaCost"       "250"
    "AbilityCooldown"       "60"

    "OnSpellStart"
    {
      "ApplyModifier"
      {
        "ModifierName"  "modifier_cripple"
        "Target"     "TARGET"
        "Duration"    "10"
      }
    }

    "Modifiers"
    {
      "modifier_cripple"
      {
        "Passive"       "0"
        "IsHidden"      "0"
        "IsDebuff"      "1"
    
        "EffectName"        "particles/items2_fx/rod_of_atos.vpcf"
        "EffectAttachType"  "follow_origin"
    
        "Properties"
        {
          "MODIFIER_PROPERTY_DAMAGEOUTGOING_PERCENTAGE" "-25"
          "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"  "-100"
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE" "-25" 
        }
      }
    }
  }

  //================================================================================= 
  // Build Command Center
  //=================================================================================
  "build_command_center"
  {
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"        "house_t1"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"                  "1"
    "BuildingSize"              "4"
    "BuildTime"                 "1"
    "AbilityCastRange"          "200"
    "UpdateHealth"              "1"
    "Scale"                     "1"
    "MaxScale"                  "0.7"
    "CasterCanControl"          "1"

    "AbilityCooldown"           "0"
    "LumberCost"                "100000"
    "GoldCost"                  "400"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    "UnitName"                  "command_center"
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"          "0.05"
    "MaxLevel"                  "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"           "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"            "scripts/vscripts/abilities.lua"
        "Function"              "build"
      }
    }
  }

  //================================================================================= 
  // Build Base of Operations
  //=================================================================================
  "build_base_operations"
  {
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"        "house_t1"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"                  "1"
    "BuildingSize"              "4"
    "BuildTime"                 "1"
    "AbilityCastRange"          "200"
    "UpdateHealth"              "1"
    "Scale"                     "1"
    "MaxScale"                  "0.5"
    "CasterCanControl"          "1"

    "AbilityCooldown"           "0"
    "LumberCost"                "0"
    "GoldCost"                  "1000"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    "UnitName"                  "base_operations"
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"          "0.05"
    "MaxLevel"                  "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"           "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"            "scripts/vscripts/abilities.lua"
        "Function"              "build"
      }
    }
  }

  //=================================================================================/
  // Upgrade to Command Center
  //=================================================================================/
  "upgrade_to_command_center"
  {
    "AbilityBehavior"   "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass"        "ability_datadriven"
    "AbilityChannelTime"  "1"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"   "scripts/vscripts/buildings/building.lua"
        "Function"     "Upgrade"
        "TARGET"       "CASTER"
        "TargetUnit"   "command_center"
        "LumberCost"   "100000"
        "GoldCost"     "400"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "command_center"
        "Scale"       "0.7"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Cancel"
      }
    }
  }

  //=================================================================================/
  // Upgrade to Base of Operations
  //=================================================================================/
  "upgrade_to_base_operations"
  {
    "AbilityBehavior"   "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass"        "ability_datadriven"
    "AbilityChannelTime"  "1"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"   "scripts/vscripts/buildings/building.lua"
        "Function"     "Upgrade"
        "TARGET"       "CASTER"
        "TargetUnit"   "base_operations"
        "LumberCost"   "0"
        "GoldCost"     "1000"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "base_operations"
        "Scale"       "0.5"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Cancel"
      }
    }
  }

  //=================================================================================/
  // Upgrade to Ultra Lightning Oracle
  //=================================================================================/
  "upgrade_to_lightning_tower_t2"
  {
    "AbilityBehavior"   "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass"        "ability_datadriven"
    "AbilityChannelTime"  "20"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"   "scripts/vscripts/buildings/building.lua"
        "Function"     "Upgrade"
        "TARGET"       "CASTER"
        "TargetUnit"   "lightning_tower_t2"
        "LumberCost"   "1000000"
        "GoldCost"     "1600"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "lightning_tower_t2"
        "Scale"       "1"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Cancel"
      }
    }
  }

  //=================================================================================/
  // Upgrade to Ultra Lightning Oracle
  //=================================================================================/
  "upgrade_to_tower_spire_t2"
  {
    "AbilityBehavior"   "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass"        "ability_datadriven"
    "AbilityChannelTime"  "45"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"   "scripts/vscripts/buildings/building.lua"
        "Function"     "Upgrade"
        "TARGET"       "CASTER"
        "TargetUnit"   "tower_spire_t2"
        "LumberCost"   "100000"
        "GoldCost"     "100"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "tower_spire_t2"
        "Scale"       "1"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Cancel"
      }
    }
  }

  //================================================================================= 
  // Build Ultra Gold Mine
  //=================================================================================
  "build_gold_mine_t3"
  {
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"        "house_t1"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"                  "1"
    "BuildingSize"              "2"
    "BuildTime"                 "1"
    "AbilityCastRange"          "200"
    "UpdateHealth"              "1"
    "Scale"                     "1"
    "MaxScale"                  ".5"
    "CasterCanControl"          "1"

    "AbilityCooldown"           "0.05"
    "LumberCost"                "50000"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    "UnitName"                  "gold_mine_t3"
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"          "0.05"
    "MaxLevel"                  "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"           "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"            "scripts/vscripts/abilities.lua"
        "Function"              "build"
      }
    }
  }


  //=================================================================================/
  // Upgrade to Ultra Gold Mine
  //=================================================================================/
  "upgrade_to_gold_mine_t3"
  {
    "AbilityBehavior"   "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass"       "ability_datadriven"
    "AbilityChannelTime"  "1"
    "AbilityTextureName"    "upgrade_to_gold_mine_t3"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"    "CASTER"
        "TargetUnit"  "gold_mine_t3"
        "LumberCost"  "60000"
        "GoldCost"    "0"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "gold_mine_t3"
        "Scale"       "1"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Cancel"
      }
    }
  }

  //=================================================================================/
  // Upgrade to Elite Gold Mine
  //=================================================================================/
  "upgrade_to_gold_mine_t4"
  {
    "AbilityBehavior"   "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass"       "ability_datadriven"
    "AbilityChannelTime"  "1"
    "AbilityTextureName"    "upgrade_to_gold_mine_t4"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"    "CASTER"
        "TargetUnit"  "gold_mine_t4"
        "LumberCost"  "80000"
        "GoldCost"    "0"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "gold_mine_t4"
        "Scale"       "1"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Cancel"
      }
    }
  }

  //================================================================================= 
  // Build Elite Gold Mine
  //=================================================================================
  "build_gold_mine_t4"
  {
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"        "house_t1"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"                  "1"
    "BuildingSize"              "2"
    "BuildTime"                 "1"
    "AbilityCastRange"          "200"
    "UpdateHealth"              "1"
    "Scale"                     "1"
    "MaxScale"                  ".5"
    "CasterCanControl"          "1"

    "AbilityCooldown"           "0.05"
    "LumberCost"                "80000"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    "UnitName"                  "gold_mine_t4"
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"          "0.05"
    "MaxLevel"                  "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"           "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"            "scripts/vscripts/abilities.lua"
        "Function"              "build"
      }
    }
  }

  //=================================================================================/
  // Upgrade to Super Gold Mine
  //=================================================================================/
  "upgrade_to_gold_mine_t2"
  {
    "AbilityBehavior"   "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass"       "ability_datadriven"
    "AbilityChannelTime"  "1"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"    "CASTER"
        "TargetUnit"  "gold_mine_t2"
        "LumberCost"  "50000"
        "GoldCost"    "0"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "gold_mine_t2"
        "Scale"       "1"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Cancel"
      }
    }
  }

  //================================================================================= /
  // Super Wall Tower
  //================================================================================= /
  "upgrade_to_tower_wall_t2"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass" "ability_datadriven"
    "AbilityChannelTime"  "35"
    "AbilityTextureName"  "upgrade_to_tower_wall_t2"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"      "CASTER"
        "TargetUnit"  "tower_wall_t2"
        "LumberCost"  "50000"
        "GoldCost"    "10"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Cancel"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "tower_wall_t2"
        "Scale"       "0.5"
      }
    }
  }

  //================================================================================= /
  // Build Super Wall Tower
  //================================================================================= /
  "build_tower_wall_t2"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "wall_1"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"            "1"
    "BuildingSize"          "2"
    "BuildTime"           "35"
    "AbilityCastRange"        "200"
    "UpdateHealth"          "1"
    "Scale"             ".5"
    "MaxScale"            "1"
    "CasterCanControl"        "1"

    "AbilityCooldown"       "2.0"
    "GoldCost"       "10"
    "LumberCost"       "50000"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    "UnitName"            "tower_wall_t2"
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.0"
    "MaxLevel"            "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"      "scripts/vscripts/abilities.lua"
        "Function"        "build"
      }
    }
  }

  //================================================================================= /
  // Build vampiric research center
  //================================================================================= /
  "build_research_center_vampire"
  {
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"        "house_t1"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"                  "1"
    "BuildingSize"              "2"
    "BuildTime"                 "1"
    "AbilityCastRange"          "200"
    "UpdateHealth"              "1"
    "Scale"                     "1"
    "MaxScale"                  ".5"
    "CasterCanControl"          "1"

    "AbilityCooldown"           "0.05"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    "UnitName"                  "research_center_vampire"
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"          "0.05"
    "MaxLevel"                  "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"           "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"            "scripts/vscripts/abilities.lua"
        "Function"              "build"
        "ItemBuilding"          "item_vampiric_research_center"
      }
    }
  }

  //================================================================================= /
  // Mini vamp Toughness aura
  //================================================================================= /
  "mini_toughness_aura"
  {
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"        "life_stealer_infest"
    "MaxLevel"                  "10"
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_AURA"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL"

    "AbilitySpecial"
    {
      "01"
      {
        "var_type"      "FIELD_INTEGER"
        "armor_bonus"   "1 2 3 4 5 6 7 8 9 10"
      }
    }

    "Modifiers"
    {
      "modifier_mini_toughness"
      {
        "Passive"       "1"
        "IsHidden"      "0"
        "IsDebuff"      "0"

        "Aura"            "modifier_mini_toughness_aura"
        "Aura_Radius"     "900"
        "Aura_Teams"      "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
        "Aura_Types"      "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
        "Aura_Flags"      "DOTA_UNIT_TARGET_FLAG_NONE"
        "Aura_ApplyToCaster" "1"
      }

      "modifier_mini_toughness_aura"
      {
        "Properties"
        {
          "MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS" "%armor_bonus"
        }
      }
    }
  }

  "build_cancel"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "cancel"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "AbilityCooldown"       "0"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.0"
    "MaxLevel"            "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"      "scripts/vscripts/abilities.lua"
        "Function"        "BuildCancel"
      }
    }
  }

  "build_empty"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "cancel"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"            "1"
    "BuildingSize"          "3"
    "BuildTime"           "4.0"
    "AbilityCastRange"        "200"
    "UpdateHealth"          "1"
    "Scale"             "1"
    "MaxScale"            ".5"
    "CasterCanControl"        "1"

    "AbilityCooldown"       "2.0"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.0"
    "MaxLevel"            "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"      "scripts/vscripts/abilities.lua"
        "Function"        "build"
      }
    }
  }

  "build_blocked"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE | DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityType"         "DOTA_ABILITY_TYPE_HIDDEN"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "cancel"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"            "1"
    "BuildingSize"          "3"
    "BuildTime"           "4.0"
    "AbilityCastRange"        "200"
    "UpdateHealth"          "1"
    "Scale"             "1"
    "MaxScale"            ".5"
    "CasterCanControl"        "1"

    "AbilityCooldown"       "2.0"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.0"
    "MaxLevel"            "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0"
  }

  "build_blocked2"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE | DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityType"         "DOTA_ABILITY_TYPE_HIDDEN"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "cancel"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"            "1"
    "BuildingSize"          "3"
    "BuildTime"           "4.0"
    "AbilityCastRange"        "200"
    "UpdateHealth"          "1"
    "Scale"             "1"
    "MaxScale"            ".5"
    "CasterCanControl"        "1"

    "AbilityCooldown"       "2.0"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.0"
    "MaxLevel"            "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0"
  }

  "build_blocked3"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE | DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityType"         "DOTA_ABILITY_TYPE_HIDDEN"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "cancel"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"            "1"
    "BuildingSize"          "3"
    "BuildTime"           "4.0"
    "AbilityCastRange"        "200"
    "UpdateHealth"          "1"
    "Scale"             "1"
    "MaxScale"            ".5"
    "CasterCanControl"        "1"

    "AbilityCooldown"       "2.0"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.0"
    "MaxLevel"            "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0"
  }

  "build_blocked4"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE | DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityType"         "DOTA_ABILITY_TYPE_HIDDEN"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "cancel"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"            "1"
    "BuildingSize"          "3"
    "BuildTime"           "4.0"
    "AbilityCastRange"        "200"
    "UpdateHealth"          "1"
    "Scale"             "1"
    "MaxScale"            ".5"
    "CasterCanControl"        "1"

    "AbilityCooldown"       "2.0"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.0"
    "MaxLevel"            "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0"
  }

  "build_blocked5"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE | DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityType"         "DOTA_ABILITY_TYPE_HIDDEN"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "cancel"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"            "1"
    "BuildingSize"          "3"
    "BuildTime"           "4.0"
    "AbilityCastRange"        "200"
    "UpdateHealth"          "1"
    "Scale"             "1"
    "MaxScale"            ".5"
    "CasterCanControl"        "1"

    "AbilityCooldown"       "2.0"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.0"
    "MaxLevel"            "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0"
  }

  //================================================================================= 
  // Tower Ambient Particles
  //=================================================================================
  "ambient_tower_particles"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "cancel"

    "Modifiers"
    {
      "modifier_tower_ambient"
      {
        "Passive"       "1"
        "IsHidden"      "1"
        "IsDebuff"      "0"
    
        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"  "abilities.lua"
            "Function"    "AmbientParticles"
          }
        }
      }
    }
  }

  //================================================================================= 
  // Ghost phasing
  //=================================================================================
  "ghost_phasing"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityType"         "DOTA_ABILITY_TYPE_HIDDEN"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "cancel"

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.0"
    "MaxLevel"            "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0"

    "Modifiers"
    {      
      "modifier_ghost_phasing"
      {     
        "States"
        {
          "MODIFIER_STATE_INVULNERABLE"   "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NO_HEALTH_BAR"    "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NO_UNIT_COLLISION"  "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NOT_ON_MINIMAP"   "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_UNSELECTABLE"   "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_FLYING"       "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_DISARMED"     "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }

    "OnUpgrade"
    {
      "ApplyModifier"
      {
        "ModifierName"  "modifier_ghost_phasing"
        "Target"  "CASTER"
      }
    }
  }

  //================================================================================= 
  // Avernal - Vampiric Constitution (some functionality in vampirism.lua:487)
  //=================================================================================
  "avernal_hp_growth"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "warlock_golem_permanent_immolation"

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.0"
    "MaxLevel"            "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0"

    "OnUpgrade"
    {
      "ApplyModifier"
      {
        "ModifierName"  "modifier_avernal_constitution"
        "Target"        "CASTER"
      }
    }

    "Modifiers"
    {
      "modifier_avernal_constitution"
      {
        "Passive"       "1"
        "IsHidden"      "1"
        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"  "scripts/vscripts/units/avernal.lua"
            "Function"    "AddAvernal"
          }
        }
        "OnDestroy"
        {
          "RunScript"
          {
            "ScriptFile"  "scripts/vscripts/units/avernal.lua"
            "Function"    "RemoveAvernal"
          }
        }
      }
    }
  }

  //================================================================================= 
  // Avernal - Vampiric Strength
  //=================================================================================
  "avernal_dmg_growth"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "BaseClass"             "ability_datadriven"
    "AbilityTextureName"    "warlock_golem_flaming_fists"

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.0"
    "MaxLevel"                "1"
  }

  //================================================================================= /
  // Avernal - Upgrade to Invisible Avernal
  //================================================================================= /
  "upgrade_to_invisible_avernal"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass"       "ability_datadriven"
    "AbilityTextureName"    "clinkz_wind_walk"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/units/avernal.lua"
        "Function"    "UpgradeAvernal"
        "TARGET"      "CASTER"
        "UpgradeTo"   "merc_avernal_invisible"
        "GoldCost"    "10"
        "WoodCost"    "0"
        "FoodCost"    "0"
      }
    }
  }

  //================================================================================= /
  // Invisible Avernal invisibility
  //================================================================================= /
  "avernal_invisibility"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass"       "ability_datadriven"
    "AbilityTextureName"    "clinkz_wind_walk"
    
    "Modifiers"
    {
      "modifier_avernal_invis"
      {
        "Passive"       "1"
        "IsHidden"      "1"
        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"  "scripts/vscripts/units/avernal.lua"
            "Function"    "AvernalInvis"
          }
        }
        "OnAttackLanded"
        {
          "ApplyModifier"
          {
            "ModifierName"  "modifier_avernal_invis_fade"
            "Target"        "CASTER"
            "Duration"      "2"
          }
        }
      }

      "modifier_avernal_invis_fade"
      {
        "Passive"     "1"
        "IsHidden"    "1"
        "OnDestroy"
        {
          "RunScript"
          {
            "ScriptFile"  "scripts/vscripts/units/avernal.lua"
            "Function"    "AvernalInvis"
          }
        }
      }
    }
  }

  //================================================================================= /
  // Avernal - Upgrade to Ranged Avernal
  //================================================================================= /
  "upgrade_to_ranged_avernal"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass"       "ability_datadriven"
    "AbilityTextureName"    "brewmaster_earth_hurl_boulder"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/units/avernal.lua"
        "Function"    "UpgradeAvernal"
        "TARGET"      "CASTER"
        "UpgradeTo"   "merc_avernal_ranged"
        "GoldCost"    "10"
        "WoodCost"    "0"
        "FoodCost"    "0"
      }
    }
  }

  //================================================================================= /
  // Ranged Avernal Attack (stops from attacking non-buildings)
  //================================================================================= /
  "avernal_ranged_attack"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass"       "ability_datadriven"
    
    "Modifiers"
    {
      "modifier_avernal_ranged_attack"
      {
        "Passive"       "1"
        "IsHidden"      "1"
        "OnAttackStart"
        {
          "RunScript"
          {
            "ScriptFile"  "units/avernal.lua"
            "Function"    "AvernalRangedAttack"
            "Target"      "CASTER"
          }
        }
      }
    }
  }

  //================================================================================= /
  // Avernal Meteor Attack (attacks only harvesters)
  //================================================================================= /
  "avernal_meteor_attack"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass"       "ability_datadriven"
    
    "Modifiers"
    {
      "modifier_avernal_meteor_attack"
      {
        "Passive"       "1"
        "IsHidden"      "0"
        "OnAttackStart"
        {
          "RunScript"
          {
            "ScriptFile"  "units/avernal.lua"
            "Function"    "AvernalMeteorAttack"
            "Target"      "CASTER"
          }
        }
      }
    }
  }

  //================================================================================= /
  // Avernal Meteor Destruction
  //================================================================================= /
  "avernal_meteor_destruction"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    "BaseClass"       "ability_datadriven"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityCastRange"        "50"
    "AbilityTextureName"      "techies_suicide"

    "precache"
    {
      "particle"  "particles/units/heroes/hero_techies/techies_suicide.vpcf"
    }
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/units/avernal.lua"
        "Function"    "MeteorDestruction"
        "Target"      "CASTER"
      }
      "FireEffect"
      {
        "EffectName"        "particles/units/heroes/hero_techies/techies_suicide.vpcf"
        "EffectAttachType"  "attach_origin"
        "Target"            "TARGET"
      }
    }
  }
  

  //================================================================================= /
  // Ranged Avernal - Upgrade to Corrupted Avernal
  //================================================================================= /
  "upgrade_to_corrupted_avernal"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass"       "ability_datadriven"
    "AbilityTextureName"    "viper_viper_strike"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/units/avernal.lua"
        "Function"    "UpgradeAvernal"
        "TARGET"      "CASTER"
        "UpgradeTo"   "merc_avernal_corrupted"
        "GoldCost"    "20"
        "WoodCost"    "0"
        "FoodCost"    "0"
      }
    }
  }

  //================================================================================= /
  // Ranged Avernal - Upgrade to Frozen Avernal
  //================================================================================= /
  "upgrade_to_frozen_avernal"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass"       "ability_datadriven"
    "AbilityTextureName"  "upgrade_to_frozen_avernal"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/units/avernal.lua"
        "Function"    "UpgradeAvernal"
        "TARGET"      "CASTER"
        "UpgradeTo"   "merc_avernal_frozen"
        "GoldCost"    "40"
        "WoodCost"    "0"
        "FoodCost"    "0"
      }
    }
  }

  //================================================================================= /
  // Corrupting Breath
  //================================================================================= /
  "avernal_corrupting_breath"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "BaseClass"       "ability_datadriven"
    "AbilityTextureName"    "viper_viper_strike"
    
    "Modifiers"
    {
      "modifier_avernal_corrupting_breath"
      {
        "Passive"       "1"
        "IsHidden"      "1"
        "OnAttackLanded"
        {
          "RunScript"
          {
            "ScriptFile"  "scripts/vscripts/units/avernal.lua"
            "Function"    "CorruptingBreath"
          }
        }
      }
      "modifier_corrupting_effect"
      {
        "IsBuff"    "0"
        "Duration"  "5"
        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"  "scripts/vscripts/units/avernal.lua"
            "Function"    "ApplyCorrupting"
          }
        }
        "OnDestroy"
        {
          "RunScript"
          {
            "ScriptFile"  "scripts/vscripts/units/avernal.lua"
            "Function"    "RemoveCorrupting"
          }
        }
      }
    }
  }

  //================================================================================= /
  // Freezing Breath
  //================================================================================= /
  "avernal_freezing_breath"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "BaseClass"       "ability_datadriven"
    "AbilityTextureName"    "upgrade_to_frozen_avernal"

    "precache"
    {
      "particle"  "particles/units/heroes/hero_crystalmaiden/maiden_frostbite_buff.vpcf"
    }
    
    "Modifiers"
    {
      "modifier_avernal_freezing_breath"
      {
        "Passive"       "1"
        "IsHidden"      "1"
        "OnAttackLanded"
        {
          "RunScript"
          {
            "ScriptFile"  "scripts/vscripts/units/avernal.lua"
            "Function"    "FreezingBreath"
            "Target"      "CASTER"
          }
        }
      }
      "modifier_freezing_breath_effect"
      {
        "Passive"       "1"
        "IsHidden"      "0"
        "EffectName"        "particles/units/heroes/hero_crystalmaiden/maiden_frostbite_buff.vpcf"
        "EffectAttatchType" "follow_origin"
      }
    }
  }

  //================================================================================= /
  // Avernal Particles
  //================================================================================= /
  "avernal_particles"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "BaseClass"       "ability_datadriven"
    
    "Modifiers"
    {
      "modifier_avernal_particles"
      {
        "Passive"       "1"
        "IsHidden"      "1"
        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"  "scripts/vscripts/units/avernal.lua"
            "Function"    "AvernalParticles"
          }
        }
      }
    }
  }

  //================================================================================= /
  // Assassin Blink
  //================================================================================= /
  "assassin_blink"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_POINT"
    "BaseClass"       "ability_datadriven"
    "AbilityManaCost"       "30"
    "AbilityCastPoint"        "0.3"
    "AbilityCastAnimation"      "ACT_DOTA_CAST_ABILITY_1"
    "AbilityTextureName"        "antimage_blink"

    "OnSpellStart"
    { 
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/items.lua"
        "Function"    "SphereDoom"
        "Target"      "POINT"
        "MaxBlink"    "200"
      }
    }
  }

  //================================================================================= /
  // Assassin Passives - Mana gain on kill worker, spell immunity, attack targetting.
  //================================================================================= /
  "assassin_passives"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass"       "ability_datadriven"
    
    "Modifiers"
    {

      "modifier_assassin_spell_immune"
      {
        "Passive"   "1"
        "IsHidden"  "1"
        "States"
        {
          "MODIFIER_STATE_MAGIC_IMMUNE"   "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
      "modifier_assassin_mana_gain"
      {
        "Passive"   "1"
        "IsHidden"  "1"
        "OnKill"
        {
          "ApplyModifier"
          {
            "ModifierName"  "modifier_assassin_mana_bonus"
            "Target"      "CASTER"
          }
        }
      }
      "modifier_assassin_mana_bonus"
      {
        "Passive"     "0"
        "IsHidden"    "1"
        "Properties"
        {
          "MODIFIER_PROPERTY_MANA_BONUS"  "10"
        }
      }
    }
  }

  //================================================================================= /
  // Ranged Avernal Attack (stops from attacking non-buildings)
  //================================================================================= /
  "fel_hound_attack_filter"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass"       "ability_datadriven"
    
    "Modifiers"
    {
      "modifier_fel_hound_attack_filter"
      {
        "Passive"       "1"
        "IsHidden"      "0"
        "OnAttackStart"
        {
          "RunScript"
          {
            "ScriptFile"  "scripts/vscripts/items.lua"
            "Function"    "FelHoundAttack"
            "Target"      "CASTER"
          }
        }
      }
    }
  }

  //================================================================================= 
  // Build Massive Grave
  //=================================================================================
  "build_massive_grave"
  {
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"        "house_t1"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"                  "1"
    "BuildingSize"              "2"
    "BuildTime"                 "20"
    "AbilityCastRange"          "200"
    "UpdateHealth"              "1"
    "Scale"                     "0.5"
    "MaxScale"                  "0.6"
    "CasterCanControl"          "1"

    "AbilityCooldown"           "0"
    "LumberCost"                "0"
    "GoldCost"                  "0"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    "UnitName"                  "massive_grave"
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"          "0.05"
    "MaxLevel"                  "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"           "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"            "scripts/vscripts/abilities.lua"
        "Function"              "build"
        "ItemBuilding"          "item_massive_grave"
      }
    }
  }

  //================================================================================= /
  // Grave Damage Aura (applies when grave complete)
  //================================================================================= /
  "grave_aura"
  {
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"        "rubick_empty1"
    "MaxLevel"                  "1"
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_AURA | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL"

    "precache"
    {
      "particle"  "particles/units/heroes/hero_night_stalker/nightstalker_void.vpcf"
    }

    "OnUpgrade"
    {
      "ApplyModifier"
      {
        "ModifierName"      "modifier_grave_damage"
        "Target"            "CASTER"
      }
    }
   
    "Modifiers"
    {
      "modifier_grave_damage"
      {
        "Passive"       "1"
        "IsHidden"      "1"
        "IsDebuff"      "0"

        "Aura"            "modifier_grave_damage_aura"
        "Aura_Radius"     "1200"
        "Aura_Teams"      "DOTA_UNIT_TARGET_TEAM_ENEMY"
        "Aura_Types"      "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
        "Aura_Flags"      "DOTA_UNIT_TARGET_FLAG_NONE"
        "Aura_ApplyToCaster" "0"
      }

      "modifier_grave_damage_aura"
      {
        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"  "items.lua"
            "Function"    "GraveDamage"
            "Target"      "TARGET"
          }
        }
      }
      "modifier_grave_apply_damage"
      {
        "Passive"       "0"
        "IsHidden"      "0"
        "IsDebuff"      "1"
        "Duration"      "1"
        "OnCreated"
        {
          "AttachEffect"
          {
            "EffectName"  "particles/units/heroes/hero_night_stalker/nightstalker_void.vpcf"
            "Target" "TARGET"
            "EffectAttachType" "follow_origin"
          }
        }
        "OnDestroy"
        {
          "RunScript"
          {
            "ScriptFile"  "items.lua"
            "Function"    "ReApplyGraveDamage"
            "Target"      "TARGET"
          }
        }
      }
    }
  }



  //================================================================================= 
  // Vampire: Particle Effects
  //=================================================================================
  "vampire_particles"
  {
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"      "rubick_empty1"
    "MaxLevel"            "1"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_BOTH"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"

    "AbilityCooldown"       "0"
    "AbilityManaCost"       "0"
    
    "AbilityCastPoint"        "0"


    "precache"
    {
      "particle" "particles/vampire/courier_greevil_black_ambient_3.vpcf"
      "particle"  "particles/vampire/nevermore_trail.vpcf"
      "particle"  "particles/vampire/nevermore_trail_ground_cracks.vpcf"
    }

    "OnUpgrade"
    {
      "FireEffect"
      {
        "EffectName"        "particles/vampire/courier_greevil_black_ambient_3.vpcf"
        "EffectAttachType"  "follow_origin"
        "Target"            "CASTER"
      }
      "FireEffect"
      {
        "EffectName"        "particles/vampire/nevermore_trail.vpcf"
        "EffectAttachType"  "follow_origin"
        "Target"            "CASTER"
      }
      "FireEffect"
      {
        "EffectName"        "particles/vampire/nevermore_trail_ground_cracks.vpcf"
        "EffectAttachType"  "follow_origin"
        "Target"            "CASTER"
      }
    }
  }

  //================================================================================= 
  // Vampire: Vampire's Venom 
  //=================================================================================
  "vampire_poison"
  {
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"      "venomancer_poison_sting"
    "MaxLevel"            "1"

    "AbilityType"         "DOTA_ABILITY_TYPE_BASIC"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL"
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"

    "Modifiers"
    {
      "modifier_vampire_poison"
      {
        "Passive"     "1"
        "IsHidden"      "1"

        "OnAttackLanded"
        {
          "ApplyModifier"
          {
            "ModifierName"  "modifier_vampire_poison_debuff"
            "Target"    "TARGET"
          }
        }
      }

      "modifier_vampire_poison_debuff"
      {
        "IsDebuff"      "1"

        "Duration"      "2"

        "Properties"
        {
            "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"  "-40"
        }
      }
    }
  }

  //================================================================================= 
  // Vampire: Critical Strike
  //=================================================================================
  "vampire_critical_strike"
  {
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"      "phantom_assassin_coup_de_grace"
    "MaxLevel"            "6"

    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL | DOTA_UNIT_TARGET_BUILDING"
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_YES"


    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"     "soundevents/game_sounds_heroes/game_sounds_phantom_assassin.vsndevts"
    }

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_INTEGER"
        "crit_bonus"        "200 275 350 425 500 575"
      }
      "02"
      {
        "var_type"          "FIELD_FLOAT"
        "crit_chance"       "2.5 3 3.5 4 4 4"
      }
    }

    "Modifiers"
    {
      "modifier_vampire_critical_strike"
      {
        "Passive"     "1"
        "IsHidden"      "1"

        "OnAttackStart"
        {
          "RemoveModifier"
          {
            "ModifierName"  "modifier_vampire_critical_strike"
            "Target"    "CASTER"
          }

          "Random"
          {
            "Chance"      "%crit_chance"
            "PseudoRandom"    "DOTA_PSEUDO_RANDOM_PHANTOMASSASSIN_CRIT"

            "OnSuccess"
            {
              "ApplyModifier"
              {
                "ModifierName"  "modifier_vampire_critical_strike_hit"
                "Target"    "CASTER"
              }
            }
          }
        }
      }

      "modifier_vampire_critical_strike_hit"
      {
        "IsHidden"    "1"

        "Properties"
        {
          "MODIFIER_PROPERTY_PREATTACK_CRITICALSTRIKE" "%crit_bonus"
        }

        "OnAttackLanded"
        {
          "RemoveModifier"
          {
            "ModifierName"  "modifier_vampire_critical_strike_hit"
            "Target"    "TARGET"
          }

          "FireSound"
          {
            "EffectName"  "Hero_PhantomAssassin.CoupDeGrace"
            "Target"    "TARGET"
          }
        }
      }
    }
  }

  //================================================================================= 
  // Vampire: Shadow Sight
  //=================================================================================
  "vampire_shadow_sight"
  {
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"      "keeper_of_the_light_blinding_light"
    "MaxLevel"            "2"

    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT"
    "AbilityCastRange"        "100000"
    "AbilityCastPoint"        "0.3"
    "AbilityCastAnimation"      "ACT_DOTA_CAST_ABILITY_1"

    "AbilityCooldown"       "30 20"
    "AbilityManaCost"       "200 250"

    "AbilitySpecial"
    {
      "01"
      {
        "var_type"      "FIELD_INTEGER"
        "radius"      "2500 3000"
      }
    }
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/vampire.lua"
        "Function"    "ShadowSight"
        "Target"    "POINT"
      }
    }
  }


  //================================================================================= 
  // Vampire: Vision Dummy
  //=================================================================================
  "vampire_vision_dummy_lock"
  {
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"      "rubick_empty1"
    "MaxLevel"            "1"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"

    "precache"
    {
      "particle"  "particles/vampire/dust_of_appearance.vpcf"
      //"soundfile" "add a sound file later mang"
    }

    "Modifiers"
    {
      "modifier_dummy_lock"
      {
        "Passive"     "1"
        "IsHidden"      "1"
        
        "States"
        {
          "MODIFIER_STATE_UNSELECTABLE"   "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NOT_ON_MINIMAP"   "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NO_HEALTH_BAR"    "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_ATTACK_IMMUNE"    "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }

    "OnUpgrade"
    {
      "ApplyModifier"
      {
        "ModifierName"  "modifier_dummy_lock"
        "Target"    "CASTER"
      }

      "FireEffect"
      {
        "EffectName"        "particles/vampire/dust_of_appearance.vpcf"
        "EffectAttachType"  "follow_origin"
        "Target"            "CASTER"
      }
    }
  }

  //================================================================================= 
  // Vampire: Vision Dummy - no particles
  //=================================================================================
  "vampire_vision_dummy_lock2"
  {
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"      "rubick_empty1"
    "MaxLevel"            "1"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"

    "Modifiers"
    {
      "modifier_dummy_lock2"
      {
        "Passive"     "1"
        "IsHidden"      "1"
        
        "States"
        {
          "MODIFIER_STATE_UNSELECTABLE"   "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NOT_ON_MINIMAP"   "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NO_HEALTH_BAR"    "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_ATTACK_IMMUNE"    "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }

    "OnUpgrade"
    {
      "ApplyModifier"
      {
        "ModifierName"  "modifier_dummy_lock2"
        "Target"    "CASTER"
      }
    }
  }
  //================================================================================= 
  // Vampire: Health Beam - Credits to Pizzalol and Noya (SpellLibrary)
  //=================================================================================
  "vampire_health_beam"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_DONT_RESUME_ATTACK | DOTA_ABILITY_BEHAVIOR_DONT_RESUME_MOVEMENT"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "SpellImmunityType"       "SPELL_IMMUNITY_ALLIES_YES"
    "AbilityTextureName"      "dazzle_shadow_wave"
    "MaxLevel"            "10"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"     "soundevents/game_sounds_heroes/game_sounds_dazzle.vsndevts"
      "particle"      "particles/vampire/dazzle_shadow_wave.vpcf"
    }

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "500"
    "AbilityCastPoint"        "0.5"
    
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "10"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "175 200 225 500 750 2000 3500 5250 7000 7500"
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"      "FIELD_INTEGER"
        "bounce_radius"   "2000"
      }
      "02"
      { 
        "var_type"      "FIELD_INTEGER"
        "max_targets"   "3 4 5 5 5 5 5 5 5 5"
      }
      "03"
      {
        "var_type"      "FIELD_INTEGER"
        "heal"        "1000 1500 2000 3000 4500 6000 7500 9000 11500 15000"
      }
    }

    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"  "Hero_Dazzle.Shadow_Wave"
        "Target"    "CASTER"
      }

      "FireEffect"
      {
        "EffectName"        "particles/vampire/dazzle_shadow_wave.vpcf"
        "EffectAttachType"  "start_at_customorigin"
        
        "ControlPointEntities"
        {
          "CASTER"  "attach_attack1"
          "TARGET"  "follow_origin"
        }
      }

      "RunScript"
      {
        "ScriptFile"  "abilities/vampire.lua"
        "Function"    "HealthBeam"
        "shadow_wave_particle"  "particles/vampire/dazzle_shadow_wave.vpcf"
      }
    }
  }

  //================================================================================= 
  // Vampire: Chain of Death - Credits to Pizzalol and Noya (SpellLibrary)
  //=================================================================================
  "vampire_chain_of_death"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityTextureName"      "lion_finger_of_death"
    "MaxLevel"            "15"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      //"soundfile"         "soundevents/game_sounds_heroes/game_sounds_dazzle.vsndevts"
      "particle"          "particles/vampire/zuus_arc_lightning.vpcf"
    }

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "600"
    "AbilityCastPoint"        "0.5"
    
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "10"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "250 275 300 325 350 375 400 425 450 475 500 550 600 700 800"
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_INTEGER"
        "bounce_radius"       "500"
      }
      "02"
      { 
        "var_type"          "FIELD_INTEGER"
        "max_targets"       "4 5 6 7 8 9 10 10 10 10 10 10 10 10 10"
      }
      "03"
      {
        "var_type"          "FIELD_INTEGER"
        "damage"          "125 150 175 200 225 250 275 300 325 350 375 400 425 450 475"
      }
    }

    "OnSpellStart"
    {
      //"FireSound"
      //{
      //  "EffectName"  "Hero_Dazzle.Shadow_Wave"
      //  "Target"    "CASTER"
      //}

      "FireEffect"
      {
        "EffectName"        "particles/vampire/zuus_arc_lightning.vpcf"
        "EffectAttachType"  "start_at_customorigin"
        
        "ControlPointEntities"
        {
          "CASTER"  "attach_attack1"
          "TARGET"  "follow_origin"
        }
      }

      "RunScript"
      {
        "ScriptFile"        "abilities/vampire.lua"
        "Function"          "ChainOfDeath"
        "chain_of_death_particle" "particles/vampire/zuus_arc_lightning.vpcf"
        //"damage_particle"   "particles/units/heroes/hero_dazzle/dazzle_shadow_wave_impact_damage.vpcf"
      }
    }
  }

  //================================================================================= 
  // Vampire: Veil of Darkness
  //=================================================================================
  "vampire_veil_of_darkness"
  {
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"      "night_stalker_hunter_in_the_night"
    "MaxLevel"            "3"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"

    "AbilityCooldown"       "150 100 50"
    "AbilityManaCost"       "0"
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_INTEGER"
        "duration"          "60 80 100"
      }
      "02"
      { 
        "var_type"          "FIELD_INTEGER"
        "speed"             "20 30 50"
      }
    }


    "OnSpellStart"
    {
      "ApplyModifier"
      {
        "ModifierName"  "modifier_veil_of_darkness"
        "Target"        "CASTER"
        "Duration"      "%duration"
      }

      "RunScript"
      {
        "ScriptFile"  "abilities/vampire.lua"
        "Function"    "CykaSpeed"
      }
    }

    "Modifiers"
    {
      "modifier_veil_of_darkness"
      {
        "Passive"     "0"
        "IsHidden"      "0"
        "isBuff"      "1"
        "IsDebuff"      "0"
        "States"
        {
          "MODIFIER_STATE_INVISIBLE"    "MODIFIER_STATE_VALUE_ENABLED"
        }
        "Properties"
        {
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE" "%speed" 
        }
        "OnAttackLanded"
        {
          "RunScript"
          {
            "ScriptFile"  "abilities/vampire.lua"
            "Function"    "RemoveSpeed"
          }
        }
      }
    }
  }

  //================================================================================= /
  // Research: Vampiric Skills
  //================================================================================= /
  "research_vampiric_skills"
  {
    "AbilityBehavior"     "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"  
    "AbilityChannelTime"  "5"
    "AbilityTextureName"  "spectre_dispersion"
    "GoldCost"            "5"
    "BaseClass"           "ability_datadriven"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "VampiricSkills"
        "Level"       "1"
        "TARGET"      "CASTER"
      }
    }
  }

  //================================================================================= /
  // Research: Vampiric Damage
  //================================================================================= /
  "research_vampiric_damage"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"  
    "AbilityChannelTime"  "30"
    "AbilityTextureName"    "chaos_knight_reality_rift"
    "GoldCost"          "50"
    "BaseClass" "ability_datadriven"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "VampiricDamage"
        "Level"       "1"
        "TARGET"      "CASTER"
      }
    }
  }

  //================================================================================= /
  // Research: Vampiric Stats
  //================================================================================= /
  "research_vampiric_stats"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"  
    "AbilityChannelTime"  "30"
    "AbilityTextureName"  "attribute_bonus"
    "GoldCost"          "500"
    "BaseClass" "ability_datadriven"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "VampiricStats"
        "Level"       "1"
        "TARGET"      "CASTER"
      }
    }
  }

  //================================================================================= /
  // Research: Power of the Underworld
  //================================================================================= /
  "research_power_underworld"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"  
    "AbilityChannelTime"  "30"
    "AbilityTextureName"    "night_stalker_crippling_fear"
    "GoldCost"          "2000"
    "BaseClass" "ability_datadriven"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "PowerUnderworld"
        "Level"       "1"
        "TARGET"      "CASTER"
      }
    }
  }

  //================================================================================= /
  // Research: Vampiric Strength
  //================================================================================= /
  "research_vampiric_strength"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"  
    "AbilityChannelTime"  "30"
    "AbilityTextureName"  "troll_warlord_fervor"
    "GoldCost"          "250"
    "BaseClass" "ability_datadriven"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "VampiricStrength"
        "Level"       "1"
        "TARGET"      "CASTER"
      }
    }
  }

  //================================================================================= /
  // Research: Vampiric Agility
  //================================================================================= /
  "research_vampiric_agility"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"  
    "AbilityChannelTime"  "30"
    "AbilityTextureName"    "axe_battle_hunger"
    "GoldCost"          "300"
    "BaseClass" "ability_datadriven"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "VampiricAgility"
        "Level"       "1"
        "TARGET"      "CASTER"
      }
    }
  }

  //================================================================================= /
  // Research: Vampiric Intellect
  //================================================================================= /
  "research_vampiric_intellect"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"  
    "AbilityChannelTime"  "30"
    "AbilityTextureName"  "rubick_spell_steal"
    "GoldCost"          "90"
    "BaseClass" "ability_datadriven"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "VampiricIntellect"
        "Level"       "1"
        "TARGET"      "CASTER"
      }
    }
  }

  //================================================================================= /
  // Vampire Sell item
  //================================================================================= /
  "vampire_sell_item"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_NO_TARGET"  
    "BaseClass" "ability_datadriven"
    "AbilityTextureName"    "alchemist_goblins_greed"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "items.lua"
        "Function"    "VampireSell"
      }
    }
  }

  //================================================================================= 
  // Vampire: Summoning particle dummy
  //=================================================================================
  "vampire_particle_call"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                 "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "MaxLevel"            "1"

    "precache"
    {
      "particle" "particles/vampire/doom_bringer_f2p_death.vpcf"
    }

    "OnUpgrade"
    {
      "ApplyModifier"
      {
        "ModifierName"  "modifier_sigil"
        "Target"    "CASTER"
      }

      "FireEffect"
      {
        "EffectName"        "particles/vampire/doom_bringer_f2p_death.vpcf"
        "EffectAttachType"  "follow_origin"
        "Target"            "CASTER"
      }
    }

    "Modifiers"
    {
      "modifier_sigil"
      {
        "Passive" "1"
        "IsHidden"  "0"
        "States"
        {
          "MODIFIER_STATE_UNSELECTABLE" "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NO_HEALTH_BAR"  "MODIFIER_STATE_VALUE_ENABLED"
          //"MODIFIER_STATE_INVULNERABLE" "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NOT_ON_MINIMAP" "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }

  //================================================================================= 
  // Vampire: Spawning hider
  //=================================================================================
  "vampire_init_hider"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                 "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "MaxLevel"            "1"

    "OnUpgrade"
    {
      "ApplyModifier"
      {
        "ModifierName"  "modifier_init_hider"
        "Target"    "CASTER"
        "Duration"    "55"
      }
    }

    "Modifiers"
    {
      "modifier_init_hider"
      {
        "Passive" "1"
        "IsHidden"  "0"
        "States"
        {
          "MODIFIER_STATE_UNSELECTABLE" "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NO_HEALTH_BAR"  "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NOT_ON_MINIMAP" "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_SILENCED"   "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }

  //================================================================================= 
  // Util: Is Shop
  //=================================================================================
  "util_is_shop"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                 "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "MaxLevel"            "1"

    "OnCreated"
    {
      "ApplyModifier"
      {
        "ModifierName"  "modifier_is_shop"
        "Target"        "CASTER"
      }
    }

    "Modifiers"
    {
      "modifier_is_shop"
      {
        "Passive" "1"
        "IsHidden"  "1"
      }
    }
  }

  //================================================================================= 
  // Vampire: Spawning hider
  //=================================================================================
  "worker_debug"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass" "ability_datadriven"
    "MaxLevel"  "1"
    "AbilityCastPoint"  "0.3"
    "AbilityCastAnimation"  "ACT_DOTA_CAST_ABILITY_1"
    "AbilityManaCost" "1"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/abilities.lua"
        "Target"  "POINT"
        "Function"  "worker_debug"
      }

    }
  }

  //================================================================================= 
  // self destruct
  //=================================================================================
  "util_self_destruct"
  {
    "AbilityBehavior"        "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass"                 "ability_datadriven"

    "OnUpgrade"
    {
      "ApplyModifier"
      {
        "ModifierName"  "modifier_self_destruct"
        "Target"     "CASTER"
      }
    }

    "Modifiers"
    {
      "modifier_self_destruct"
      {
        "Passive"      "1"
        "IsHidden"      "1"
        "IsDebuff"      "0"
        
        "OnCreated"
        {
          "RemoveUnit"
          {
            "Target"  "CASTER"   
          }
        }
      }
    }
  }

  //================================================================================= 
  // Util - prevents coin drops on death
  //=================================================================================
  "no_coin_drops"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass" "ability_datadriven"
    "MaxLevel"  "1"
    "AbilityCastPoint"  "0.3"
    "AbilityCastAnimation"  "ACT_DOTA_CAST_ABILITY_1"
    "AbilityManaCost" "1"
  }

  
  //================================================================================= 
  // Util - prevents exp gain
  //=================================================================================
  "no_exp_gain"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass" "ability_datadriven"
    "MaxLevel"  "1"
    "AbilityCastPoint"  "0.3"
    "AbilityCastAnimation"  "ACT_DOTA_CAST_ABILITY_1"
    "AbilityManaCost" "1"
  }

  "operations_particles"
  {
    "AbilityBehavior"        "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "AbilityUnitTargetType"      "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "BaseClass"                 "ability_datadriven"

    "precache"
    {
      "particle"  "particles/radiant_fx2/good_ancient001_ambient.vpcf"
    }

    "Modifiers"
    {
      "modifier_operations_particles"
      {
        "Passive"      "1"
        "IsHidden"      "1"
    
        "OnCreated"
        {
          "AttachEffect"
          {
            "EffectName"        "particles/radiant_fx2/good_ancient001_ambient.vpcf"
            "EffectAttachType"  "start_at_customorigin"
            "Target"            "CASTER"
            "ControlPointEntities"
            {
              "CASTER"  "attach_fx"
            }
          }
        }
      }
    }
  }
}