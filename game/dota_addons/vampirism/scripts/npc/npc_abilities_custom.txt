//This script generated by WorldSmith, the Open Source Dota 2 addon editor.
//Get WorldSmith at http://www.worldsmith.net

"DOTAAbilities"
{
  "vamp_fountain_heal"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_AOE | DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "BaseClass" "ability_datadriven"
    "AbilityTextureName"  ""
    "OnSpellStart"
    {
      "ApplyModifier"
      {
        "ModifierName"  "health_regen"
        "Target"
        {
          "Center"  "CASTER"
          "Radius"  "%health_radius"
          "Teams" "DOTA_UNIT_TARGET_TEAM_BOTH"
          "Types" "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_CREEP | DOTA_UNIT_TARGET_MECHANICAL | DOTA_UNIT_TARGET_OTHER"
        }

      }

    }

    "Modifiers"
    {
      "fx_heal_aura"
      {
        "Passive" "1"
        "IsHidden"  "1"
        "OnCreated"
        {
          "AttachEffect"
          {
            "Target"  "TARGET"
            "EffectName"  "particles/generic_gameplay/radiant_fountain_regen_mist.vpcf"
            "EffectAttatchType" "follow_origin"
            "ControlPoints"
            {
              "00"  "0 0 0"
              "01"  "%health_radius 0 0"
              "02"  "0 0 -200"
            }

          }

        }

      }

      "aura_health_regen"
      {
        "IsHidden"  "0"
        "Passive" "1"
        "Aura"  "health_regen"
        "Aura_Radius" "%health_radius"
        "Aura_Teams"  "DOTA_UNIT_TARGET_TEAM_BOTH"
        "Aura_Types"  "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_CREEP | DOTA_UNIT_TARGET_MECHANICAL"
        "Aura_ApplyToCaster"  "0"
      }

      "health_regen"
      {
        "Properties"
        {
          "MODIFIER_PROPERTY_HEALTH_REGEN_PERCENTAGE" "%health_regen_amount"
          "MODIFIER_PROPERTY_MANA_REGEN_TOTAL_PERCENTAGE" "%mana_regen_amount"
        }

      }

    }

    "AbilitySpecial"
    {
      "01"
      {
        "var_type"  "FIELD_INTEGER"
        "health_radius" "450"
      }

      "02"
      {
        "var_type"  "FIELD_FLOAT"
        "health_regen_amount" "22.0"
      }

      "03"
      {
        "var_type"  "FIELD_FLOAT"
        "mana_regen_amount" "8.0"
      }

    }

  }

  "vamp_farsight"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_AOE"
    "BaseClass" "ability_datadriven"
    "AbilityTextureName"  "reveal"
    "MaxLevel"  "3"
    "AbilityCooldown" "30"
    "OnSpellStart"
    {
      "SpawnUnit"
      {
        "UnitName"  "vision_dummy_passive"
        "Target"  "POINT"
        "Duration"  "30"
        "UnitCount" "1"
      }
    }
  }
  //================================================================================= /
  // Buff: Is a building is applied on building spawn to make the building deniable
  //================================================================================= /
  "is_a_building"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass" "ability_datadriven"

    
    "Modifiers"
    {
      "modifier_building_deniable"
      {
        "Passive" "1"
        "IsHidden" "1"
        "States"
        {
           "MODIFIER_STATE_SPECIALLY_DENIABLE" "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }

  //Set rally point for workers created by this building
  "set_rally_point"
  {
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_TREE"
    "BaseClass" "ability_datadriven"
    "MaxLevel"            "1"
    "AbilityCastPoint"        "0.3"
    "AbilityCooldown"       "0"
    "AbilityCastRange"      "5000"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Target"      "POINT"
        "Function"    "SetRallyPoint"
      }
    }
  }

  //===================================================================
  // Worker Detonate
  //===================================================================
  "worker_det"
  {
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"      "rubick_empty1"
    "MaxLevel"             "1"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_AOE"
    "AbilityCastPoint"    "0.3"
    "OnSpellStart"
    {
      "RunScript"
      {
        "script"    "scripts/vscripts/abilities.lua"
        "Function"  "WorkerDet"
      }
    }
  }

  "spawn_worker_t1"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass" "ability_datadriven"
    "AbilityTextureName"  "basher"
    "AbilityModifierSupportValue" "0.5"
    "MaxLevel"  "1"
    "AbilityManaCost" "0"
    "AbilityGoldCost" "0"
    "OnSpellStart"
    {
      "ApplyModifier"
      {
        "ModifierName"  "t1_worker_training"
        "Target"    "CASTER"
      }
    }
    "Modifiers"
    {
      "t1_worker_training"
      {
        "IsPurgable"  "false"
        "IsStunDebuff" "false"
        "IsHidden"  "false"
        "Attributes" "MODIFIER_ATTRIBUTE_MULTIPLE"
        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"  "scripts/vscripts/buildings/building.lua"
            "Function"    "TrainUnit"
            "AddToQueue"  "t1_worker_training"
            "SpawnUnit"   "worker_t1"
          }
        }
      }
    }
  }
  
  "t1_worker_training"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass" "ability_datadriven"
    "AbilityCastPoint"  "0"
    "AbilityChannelTime" "1.0"
  }

  //==============================================================
  // T2 Worker Spawning
  //==============================================================
  "spawn_worker_t2"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass" "ability_datadriven"
    "AbilityTextureName"  "basher"
    "AbilityModifierSupportValue" "0.5"
    "MaxLevel"  "1"
    "AbilityManaCost" "0"
    "AbilityGoldCost" "0"
    "OnSpellStart"
    {
      "ApplyModifier"
      {
        "ModifierName"  "t2_worker_training"
        "Target"    "CASTER"
      }
    }

    "Modifiers"
    {
      "t2_worker_training"
      {
        "IsPurgable"  "false"
        "IsStunDebuff" "false"
        "IsHidden"  "false"
        "Attributes" "MODIFIER_ATTRIBUTE_MULTIPLE"
        "OnCreated"
        {
          "RunScript"
          {
            "ScriptFile"  "scripts/vscripts/buildings/building.lua"
            "Function"    "TrainUnit"
            "AddToQueue"  "t2_worker_training"
            "SpawnUnit"   "worker_t2"
          }
        }
      }
    }
  }
  //======================================================
  // T2 worker channel time
  //======================================================
  "t2_worker_training"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass" "ability_datadriven"
    "AbilityCastPoint"  "0"
    "AbilityChannelTime" "1.0"
  }

  "cancel_training"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass" "ability_datadriven"
    "AbilityTextureName"  "rubick_empty1"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Cancel"
      }
    }
  }

  "harvest_t1"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    "AbilityUnitTargetType" "DOTA_UNIT_TARGET_TREE"
    "BaseClass" "ability_datadriven"
    "MaxLevel"  "1"
    "AbilityManaCost" "0"
    "OnSpellStart"
    {
      "RunScript"
      {
        "Target"  "UNIT"
        "ScriptFile"  "scripts/vscripts/abilities.lua"
        "Function"  "harvest_t1"
      }

    }

  }

  "harvest_channel"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    "AbilityUnitTargetType" "DOTA_UNIT_TARGET_TREE"
    "BaseClass" "ability_datadriven"
    "AbilityCastPoint"  "0"
    "AbilityCastRange"        "150"
    "AbilityChannelTime" "0.5"
    "AbilityCastAnimation" "ACT_DOTA_ATTACK"
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/units/worker.lua"
        "Function"    "ChoppedLumber"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/units/worker.lua"
        "Function"    "Interrupted"
      }
    }
  }

  "carrying_lumber"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass" "ability_datadriven"
    "AbilityCastPoint"  "0"
    "Modifiers"
    {
      "modifier_carrying_lumber"
      {
        "Passive" "1"
        "Attributes"  "MODIFIER_ATTRIBUTE_MULTIPLE | MODIFIER_ATTRIBUTE_PERMANENT"
      }
    }
  }

  "drop_lumber"
  {
    "BaseClass" "ability_datadriven"
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_BASIC"
    "AbilityCastPoint"  "0"
    "AbilityCastRange"        "120"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/units/worker.lua"
        "Function"    "DropLumber"
      }
    }
  }

  "bh_dummy_unit"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "BaseClass" "ability_datadriven"
    "AbilityTextureName"  "rubick_empty1"
    "MaxLevel"  "1"
    "OnSpellStart"
    {
      "ApplyModifier"
      {
        "Target"  "CASTER"
        "ModifierName"  "bh_dummy"
      }

    }

    "Modifiers"
    {
      "bh_dummy"
      {
        "Passive" "1"
        "IsHidden"  "1"
        "States"
        {
          "MODIFIER_STATE_UNSELECTABLE" "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NO_HEALTH_BAR"  "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_INVULNERABLE" "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NOT_ON_MINIMAP" "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }

  }

  "call_buildui"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_DONT_RESUME_ATTACK | DOTA_ABILITY_BEHAVIOR_IGNORE_CHANNEL" 
    "BaseClass" "ability_datadriven"
    "AbilityTextureName"  "call_build"
    "MaxLevel"  "1"
    "AbilityCooldown"       "0"

    "OnSpellStart"
    {
      "RunScript"
      {
        "Target"  "CASTER"
        "ScriptFile"  "scripts/vscripts/buildui.lua"
        "Function"  "CallMenu"
      }
    }
  }

  "human_blink"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_POINT"
    "BaseClass" "ability_datadriven"
    "AbilityTextureName"  "antimage_blink"
    "MaxLevel"  "1"
    "AbilityCastRange"  "1000000"
    "AbilityCastPoint"  "0.3"
    "AbilityCastAnimation"  "ACT_DOTA_CAST_ABILITY_1"
    "AbilityManaCost" "1"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/abilities.lua"
        "Target"  "POINT"
        "Function"  "human_blink"
      }

    }

  }

  "human_manaburn"
  {
    "BaseClass" "satyr_soulstealer_mana_burn"
    "MaxLevel"  "1"
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    "Modelscale"  ".85"
    "AbilityUnitDamageType" "DAMAGE_TYPE_MAGICAL"
    "AbilityUnitTargetTeam" "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType" "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityCastRange"  "450"
    "AbilityCastPoint"  "0.5"
    "AbilityCooldown" "30"
    "AbilityManaCost" "9"
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"  "FIELD_INTEGER"
        "burn_amount" "500"
      }

    }

  }


  //================================================================================= /
  // Summon: Spawns a Male Slayer
  //================================================================================= /
  "summon_slayer_m"
  {
    "BaseClass"           "ability_datadriven"
    "MaxLevel"            "1"
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "AbilityChannelTime"  "60"
    "AbilityLumberCost" "400"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/abilities/slayer.lua"
        "Function"    "SummonSlayer"
        "TARGET"  "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/abilities/slayer.lua"
        "Function"    "Refund"
        "TARGET"  "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/abilities/slayer.lua"
        "Function"    "SpawnSlayer"
        "Gender"        "male"
        "TARGET"  "CASTER"
      }
    }
  }

  "slayer_attribute_bonus"
  {
    "BaseClass" "ability_datadriven"
    "MaxLevel"  "20"
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "LevelsBetweenUpgrades" "1"
    "OnUpgrade"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/abilities.lua"
        "Function"  "slayer_attribute_bonus"
        "Target"  "CASTER"
      }

    }
  }

  //================================================================================= /
  // Slayer blink
  //================================================================================= /
  "slayer_blink"
  {
    "BaseClass"               "ability_datadriven"
    "AbilityTextureName"      "ability_name"
    "AbilityBehavior"         "DOTA_ABILITY_BEHAVIOR_POINT"
    "MaxLevel"                "1"
    "AbilityManaCost"         "500"
    "AbilityCastRange"        "150000"
    "AbilityCastPoint"        "0.3"
    "AbilityCastAnimation"      "ACT_DOTA_CAST_ABILITY_6"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/abilities/slayer.lua"
        "Target"  "POINT"
        "Function"  "SlayerBlink"
      }
    }
  }

  //================================================================================= /
  // Slayer Summon Tracker
  //================================================================================= /
  "slayer_summon_tracker"
  {
    "BaseClass"               "ability_datadriven"
    "AbilityTextureName"      "ability_name"
    "AbilityBehavior"         "DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                "1"
    "AbilityManaCost"         "500"
    "AbilityCastPoint"        "0.3"
    "AbilityCooldown"        "180"
    "AbilityCastAnimation"    "ACT_DOTA_CAST_ABILITY_6"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/abilities/slayer.lua"
        "Target"  "POINT"
        "Function"  "SlayerSummonTracker"
      }
    }
  }

  //================================================================================= /
  // Slayer Tracker True Sight
  //================================================================================= /
  "slayer_tracker_truesight"
  {
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"      "rubick_empty1"
    "MaxLevel"            "1"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_AURA"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL"
    
    "precache"
    {
      "particle"  "particles/items_fx/necronomicon_true_sight.vpcf"
    }

    "Modifiers"
    {
      "modifier_tracker_truesight"
      {
        "Passive"     "1"
        "IsHidden"      "0"
        "IsDebuff"      "0"

        "EffectName"    "particles/items_fx/necronomicon_true_sight.vpcf"
        "EffectAttachType"  "attach_head" 

        "Aura"            "modifier_tracker_aura"
        "Aura_Radius"     "800"
        "Aura_Teams"      "DOTA_UNIT_TARGET_TEAM_ENEMY"
        "Aura_Types"      "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
        "Aura_Flags"      "DOTA_UNIT_TARGET_FLAG_NONE"
        "Aura_ApplyToCaster" "0"
      }

      "modifier_tracker_aura"
      {
        "OnCreated"
        {
          "ApplyModifier"
          {
            "ModifierName"  "modifier_truesight"
            "Target"    "TARGET"
          }
        }

        "OnDestroy"
        {
          "RemoveModifier"
          {
            "ModifierName"  "modifier_truesight"
            "Target"    "TARGET"
          }
        }
      }
    }
  }

  //================================================================================= /
  // Slayer Tracker Summon Time
  //================================================================================= /
  "slayer_tracker_debuffs"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass" "ability_datadriven"
    
    "Modifiers"
    {
      "modifier_duration"
      {
        "Passive" "1"
        "Duration"  "120"
        "OnDestroy"
        {
          "RunScript"
          {
            "ScriptFile"  "scripts/vscripts/abilities/slayer.lua"
            "Function"    "SlayerRemoveTracker"
          }
        }
      }
    }
  }

  //================================================================================= /
  // Slayer Building Protection
  //================================================================================= /
  "slayer_building_protection"
  {
    "BaseClass"                  "ability_datadriven"
    "MaxLevel"                   "2"
    "AbilityBehavior"            "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_CHANNELLED"
    "AbilityUnitTargetTeam"      "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "AbilityUnitTargetType"      "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitDamageType"      "DAMAGE_TYPE_MAGICAL"

    
    "AbilityManaCost"            "1000"
    "AbilityCooldown"            "5"
    "AbilityChannelTime"         "4.0 20.0"
    
    
    "precache"
    {
      "particle"  "particles/items_fx/black_king_bar_avatar.vpcf"
    }

    "AbilitySpecial"
    {
      "01"
      {
        "var_type"      "FIELD_INTEGER"
        "area"      "400 1000" 
      }
      "02"
      {
        "var_type"      "FIELD_FLOAT"
        "duration"    "4.0 20.0"
      }
    }

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"    "scripts/vscripts/abilities/slayer.lua"
        "Function"      "SlayerBuildingProtection"
        "InvulRadius"          "%area"
      }
    }

    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"    "scripts/vscripts/abilities/slayer.lua"
        "Function"      "SlayerBuildingProtectionEnd"
        "InvulRadius"          "%area"
      }
    }

    "Modifiers"
    {
      "modifier_building_invulnerable"
      {
        "Passive"      "0"
        "IsHidden"      "0"
        "IsDebuff"      "0"
        "Duration"      "%duration"
    
        "EffectName"    "particles/items_fx/black_king_bar_avatar.vpcf"
        "EffectAttachType"  "follow_origin"

        "States"
        {
          "MODIFIER_STATE_INVULNERABLE"    "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }

  //================================================================================= /
  // Slayer Avatar
  //================================================================================= /
  "slayer_avatar"
  {
    "BaseClass"                  "ability_datadriven"
    "MaxLevel"                   "1"
    "AbilityBehavior"            "DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "AbilityUnitTargetTeam"      "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "AbilityUnitTargetType"      "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitDamageType"      "DAMAGE_TYPE_MAGICAL"

    
    "AbilityManaCost"            "1000"
    "AbilityCooldown"            "5"    
    
    "precache"
    {
      "particle"  "particles/items_fx/black_king_bar_avatar.vpcf"
    }

    "AbilitySpecial"
    {
      "01"
      {
        "var_type"      "FIELD_FLOAT"
        "bonus_hp"    "500" 
      }
      "02"
      {
        "var_type"      "FIELD_FLOAT"
        "duration"    "20"
      }
      "03"
      {
        "var_type"      "FIELD_FLOAT"     
        "modelscale"    "25"
      }
      "04"
      {
        "var_type"      "FIELD_INTEGER"
        "bonus_damage"      "20"
      }
    }

    "OnSpellStart"
    {
        "ApplyModifier"
        {
          "Target"          "CASTER"
          "ModifierName"    "modifier_slayer_avatar"
        }
        "RunScript"
        {
          "ScriptFile"  "scripts/vscripts/abilities/slayer.lua"
          "Function"    "SlayerAvatarStart"
          "Modelscale"  "%modelscale"
        }
    }

    "Modifiers"
    {
      "modifier_slayer_avatar"
      {
        "Passive"       "0"
        "IsHidden"      "0"
        "IsDebuff"      "0"
        "Duration"      "%duration"
    
        "EffectName"    "particles/items_fx/black_king_bar_avatar.vpcf"
        "EffectAttachType"  "follow_origin"

        "States"
        {
          "MODIFIER_STATE_MAGIC_IMMUNE"    "MODIFIER_STATE_VALUE_ENABLED"
        }
        "Properties"
        {
          "MODIFIER_PROPERTY_BASEATTACK_BONUSDAMAGE"    "%bonus_damage"
          "MODIFIER_PROPERTY_HEALTH_BONUS"              "%bonus_hp"
        }

        "OnDestroy"
        {
          "RunScript"
          {
          "ScriptFile"  "scripts/vscripts/abilities.lua"
          "Function"    "SlayerAvatarEnd"
          "Modelscale"  "%modelscale"
          }
        }
      }
    }
  }


  //================================================================================= /
  // Slayer Esnare
  //================================================================================= /
  "slayer_ensnare"
  {
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"      "ability_name"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO"
    "MaxLevel"                  "1"
    "AbilityManaCost"           "1000"
    "AbilityCooldown"        "120"
    "AbilityCastRange"        "500"
    "AbilityCastPoint"        "0.3"
    "AbilityCastAnimation"      "ACT_DOTA_CAST_ABILITY_1"

    "precache"
    {
      "soundfile"         "soundevents/game_sounds_heroes/game_sounds_naga_siren.vsndevts"
      "particle"          "particles/units/heroes/hero_siren/siren_net.vpcf"
      "particle"          "particles/units/heroes/hero_siren/siren_net_projectile.vpcf"
    }

    "OnSpellStart"
    {
      "TrackingProjectile"
      {
        "Target"        "TARGET"
        "EffectName"      "particles/units/heroes/hero_siren/siren_net_projectile.vpcf"
        "Dodgeable"       "1"
        "ProvidesVision"    "1"
        "VisionRadius"      "0"
        "MoveSpeed"       "1500"
        "SourceAttachment"    "DOTA_PROJECTILE_ATTACHMENT_ATTACK_1"
      }
  
      "FireSound"
      {
        "EffectName"      "Hero_NagaSiren.Ensnare.Cast"
        "Target"        "CASTER"
      }
    }
  
    "OnProjectileHitUnit"
    {
      "DeleteOnHit" "1"
  
      "FireSound"
      {
        "EffectName"      "Hero_NagaSiren.Ensnare.Target"
        "Target"        "TARGET"
      }
  
      "ApplyModifier"
      {
        "Target"        "TARGET"
        "ModifierName"      "modifier_ensnare_datadriven"
      }
    }
  
    "Modifiers"
    {
      "modifier_ensnare_datadriven"
      {
        "IsHidden"    "0"
        "IsDebuff"    "1"
        "IsPurgable"  "0"
  
        "Duration"    "3.0"
  
        "States"
        {
          "MODIFIER_STATE_ROOTED"   "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_INVISIBLE"  "MODIFIER_STATE_VALUE_DISABLED"
        }
  
        "EffectName"      "particles/units/heroes/hero_siren/siren_net.vpcf"
        "EffectAttachType"    "follow_origin"
      }
  
      "modifier_ensnare_fake_datadriven"
      {
        "IsHidden"      "1"
        "OverrideAnimation" "ACT_DOTA_CAST_ABILITY_1"
      }
    }
  }

  //================================================================================= /
  // Slayer Revive
  //================================================================================= /
  "slayer_respawn"
  {
    "BaseClass"                  "ability_datadriven"
    "MaxLevel"                   "200"
    "AbilityBehavior"            "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_CHANNELLED"

    // I really wish it didn't have to be this way... #thanksgabe
    "AbilityChannelTime"         "60.0  70.0  80.0  90.0  100.0 110.0 120.0 130.0 140.0 150.0 160.0 170.0 180.0 190.0 200.0 210.0 220.0 230.0 240.0 250.0 260.0 270.0 280.0 290.0 300.0 310.0 320.0 330.0 340.0 350.0 360.0 370.0 380.0 390.0 400.0 410.0 420.0 430.0 440.0 450.0 460.0 470.0 480.0 490.0 500.0 510.0 520.0 530.0 540.0 550.0 560.0 570.0 580.0 590.0 600.0 610.0 620.0 630.0 640.0 650.0 660.0 670.0 680.0 690.0 700.0 710.0 720.0 730.0 740.0 750.0 760.0 770.0 780.0 790.0 800.0 810.0 820.0 830.0 840.0 850.0 860.0 870.0 880.0 890.0 900.0 910.0 920.0 930.0 940.0 950.0 960.0 970.0 980.0 990.0 1000.0  1010.0  1020.0  1030.0  1040.0  1050.0  1060.0  1070.0  1080.0  1090.0  1100.0  1110.0  1120.0  1130.0  1140.0  1150.0  1160.0  1170.0  1180.0  1190.0  1200.0  1210.0  1220.0  1230.0  1240.0  1250.0  1260.0  1270.0  1280.0  1290.0  1300.0  1310.0  1320.0  1330.0  1340.0  1350.0  1360.0  1370.0  1380.0  1390.0  1400.0  1410.0  1420.0  1430.0  1440.0  1450.0  1460.0  1470.0  1480.0  1490.0  1500.0  1510.0  1520.0  1530.0  1540.0  1550.0  1560.0  1570.0  1580.0  1590.0  1600.0  1610.0  1620.0  1630.0  1640.0  1650.0  1660.0  1670.0  1680.0  1690.0  1700.0  1710.0  1720.0  1730.0  1740.0  1750.0  1760.0  1770.0  1780.0  1790.0  1800.0  1810.0  1820.0  1830.0  1840.0  1850.0  1860.0  1870.0  1880.0  1890.0  1900.0  1910.0  1920.0  1930.0  1940.0  1950.0  1960.0  1970.0  1980.0  1990.0  2000.0  2010.0  2020.0  2030.0  2040.0  2050.0"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"    "scripts/vscripts/abilities/slayer.lua"
        "Function"      "SlayerRespawnStart"
      }
    }

    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"    "scripts/vscripts/abilities/slayer.lua"
        "Function"      "SlayerRespawnInterrupted"
      }
    }

    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"    "scripts/vscripts/abilities/slayer.lua"
        "Function"      "SlayerRespawn"
      }
    }
  }

  //================================================================================= /
  // Research: Improved Lumber Havesting (1)
  //================================================================================= /
  "research_improved_lumber_harvesting"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"  
    "AbilityChannelTime"  "35"
    "AbilityLumberCost" "250"
    "BaseClass" "ability_datadriven"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "ImproveLumber"
        "Level"       "1"
        "TARGET"  "CASTER"
      }
    }
  }

  //================================================================================= /
  // Research: Improved Lumber Havesting (2)
  //================================================================================= /
  "research_advanced_lumber_harvesting"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"  
    "AbilityChannelTime"  "35"
    "AbilityLumberCost" "500"
    "BaseClass" "ability_datadriven"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"  "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "ImproveLumber"
        "Level"       "2"
        "TARGET"  "CASTER"
      }
    }
  }

  //================================================================================= /
  // Research: Improved Lumber Havesting (3)
  //================================================================================= /
  "research_insane_lumber_harvesting"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"  
    "AbilityChannelTime"  "35"
    "AbilityLumberCost" "750"
    "BaseClass" "ability_datadriven"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"  "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "ImproveLumber"
        "Level"       "3"
        "TARGET"  "CASTER"
      }
    }
  }

  //================================================================================= /
  // Research: Sharpened Hatchets
  //================================================================================= /
  "research_sharpened_hatchets"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"  
    "AbilityChannelTime"  "40"
    "AbilityLumberCost" "1000"
    "BaseClass" "ability_datadriven"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"  "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "SharpenedHatchets"
        "TARGET"  "CASTER"
      }
    }
  }

  //================================================================================= /
  // Research: Rifles
  //================================================================================= /
  "research_rifles"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"  
    "AbilityChannelTime"  "30"
    "AbilityLumberCost" "1000"
    "BaseClass" "ability_datadriven"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"  "CASTER"
      }
    }

    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Rifles"
        "TARGET"  "CASTER"
      }
    }
    "Modifiers"
    {
      "rifle_attack_range"
      {
        "Properties"
        {
          "MODIFIER_PROPERTY_ATTACK_RANGE_BONUS" "300"
        }
        
      }
    }
  }

  //================================================================================= /
  // Research: Improved Worker Motivation
  //================================================================================= /
  "research_improved_worker_motivation"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"  
    "AbilityChannelTime"  "2"
    "AbilityLumberCost" "2000"
    "BaseClass" "ability_datadriven"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"  "CASTER"
      }
    }

    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "ImprovedWorkerMotivation"
        "TARGET"  "CASTER"
      }
    }
  }

  //================================================================================= /
  // Research: Improved Gem Quality
  //================================================================================= /
  "research_improved_gem_quality"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"  
    "AbilityChannelTime"  "2"
    "AbilityLumberCost" "2000"
    "BaseClass" "ability_datadriven"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"  "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "GemQuality"
        "TARGET"  "CASTER"
        "Level" "1"
      }
    }
  }

  //================================================================================= /
  // Research: Advanced Gem Quality
  //================================================================================= /
  "research_advanced_gem_quality"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"  
    "AbilityChannelTime"  "2"
    "AbilityLumberCost" "2000"
    "BaseClass" "ability_datadriven"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"  "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "GemQuality"
        "TARGET"  "CASTER"
        "Level" "2"
      }
    }
  }

  //================================================================================= /
  // Research: Unbeatable Gem Quality
  //================================================================================= /
  "research_unbeatable_gem_quality"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"  
    "AbilityChannelTime"  "2"
    "AbilityLumberCost" "2000"
    "BaseClass" "ability_datadriven"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"  "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "GemQuality"
        "TARGET"  "CASTER"
        "Level" "3"
      }
    }
  }

  //================================================================================= /
  // Research: Upgrade Healing Tower
  //================================================================================= /
  "research_upgrade_healing_tower"
  {
    "BaseClass"       "ability_datadriven"
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "AbilityChannelTime"  "30"
    "AbilityLumberCost" "1000"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"  "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "HealingTower"
        "TARGET"  "CASTER"
      }
    }
  }

  //================================================================================= /
  // Upgrade Human Damage (1)
  //================================================================================= /
  "research_human_damage_1"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"  
    "AbilityChannelTime"  "15"
    "AbilityLumberCost" "1000"
    "BaseClass"         "ability_datadriven"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"  "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "HumanDamage"
        "TARGET"  "CASTER"
        "Level" "1"
      }
    }
  }

  //================================================================================= /
  // Upgrade Human Damage (2)
  //================================================================================= /
  "research_human_damage_2"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"  
    "AbilityChannelTime"  "15"
    "AbilityLumberCost"   "6000"
    "AbilityGoldCost"     "5"
    "BaseClass"         "ability_datadriven"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"  "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "HumanDamage"
        "TARGET"  "CASTER"
        "Level" "2"
      }
    }
  }

  //================================================================================= /
  // Upgrade Human Damage (3)
  //================================================================================= /
  "research_human_damage_3"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"  
    "AbilityChannelTime"  "15"
    "AbilityLumberCost"   "11000"
    "AbilityGoldCost"     "10"
    "BaseClass"         "ability_datadriven"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"  "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "HumanDamage"
        "TARGET"  "CASTER"
        "Level" "3"
      }
    }
  }

  //================================================================================= /
  // Upgrade Human Damage (4)
  //================================================================================= /
  "research_human_damage_4"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"  
    "AbilityChannelTime"  "15"
    "AbilityLumberCost"   "16000"
    "AbilityGoldCost"     "15"
    "BaseClass"         "ability_datadriven"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"  "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "HumanDamage"
        "TARGET"  "CASTER"
        "Level" "4"
      }
    }
  }

  //================================================================================= /
  // Upgrade Human Damage (5)
  //================================================================================= /
  "research_human_damage_5"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"  
    "AbilityChannelTime"  "15"
    "AbilityLumberCost"   "21000"
    "AbilityGoldCost"     "20"
    "BaseClass"         "ability_datadriven"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"  "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "HumanDamage"
        "TARGET"  "CASTER"
        "Level" "5"
      }
    }
  }

  //================================================================================= /
  // Upgrade Human Damage (6)
  //================================================================================= /
  "research_human_damage_6"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"  
    "AbilityChannelTime"  "15"
    "AbilityLumberCost"   "26000"
    "AbilityGoldCost"     "25"
    "BaseClass"         "ability_datadriven"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"  "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "HumanDamage"
        "TARGET"  "CASTER"
        "Level" "6"
      }
    }
  }
  //================================================================================= /
  // Upgrade Human Damage (7)
  //================================================================================= /
  "research_human_damage_7"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"  
    "AbilityChannelTime"  "15"
    "AbilityLumberCost"   "31000"
    "AbilityGoldCost"     "30"
    "BaseClass"         "ability_datadriven"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"  "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "HumanDamage"
        "TARGET"  "CASTER"
        "Level" "7"
      }
    }
  }
  //================================================================================= /
  // Upgrade Human Damage (8)
  //================================================================================= /
  "research_human_damage_8"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"  
    "AbilityChannelTime"  "15"
    "AbilityLumberCost"   "36000"
    "AbilityGoldCost"     "35"
    "BaseClass"         "ability_datadriven"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"  "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "HumanDamage"
        "TARGET"  "CASTER"
        "Level" "8"
      }
    }
  }
  //================================================================================= /
  // Upgrade Human Damage (9)
  //================================================================================= /
  "research_human_damage_9"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"  
    "AbilityChannelTime"  "15"
    "AbilityLumberCost"   "41000"
    "AbilityGoldCost"     "40"
    "BaseClass"         "ability_datadriven"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"  "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "HumanDamage"
        "TARGET"  "CASTER"
        "Level" "9"
      }
    }
  }
  //================================================================================= /
  // Upgrade Human Damage (10)
  //================================================================================= /
  "research_human_damage_10"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"  
    "AbilityChannelTime"  "15"
    "AbilityLumberCost"   "46000"
    "AbilityGoldCost"     "45"
    "BaseClass"         "ability_datadriven"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Research"
        "TARGET"  "CASTER"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Cancelled"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "Finished"
        "TARGET"      "CASTER"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/research.lua"
        "Function"    "HumanDamage"
        "TARGET"  "CASTER"
        "Level" "10"
      }
    }
  }
  //================================================================================= /
  // Debugging: Draw building boxes
  //================================================================================= /
  "debug_draw_building_boxes"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"  
    "AbilityChannelTime"  "20"
    "BaseClass" "ability_datadriven"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/buildinghelper.lua"
        "Function"    "DrawDebugLines"
        "TARGET"  "CASTER"
      }
    }
  }


  //================================================================================= /
  // Human: Building Repair
  //================================================================================= /
  "human_repair"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_AUTOCAST | DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_DONT_RESUME_ATTACK"  
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL | DOTA_UNIT_TARGET_BUILDING"
    "AbilityCastAnimation"  "ACT_DOTA_ATTACK"
    "AbilityTextureName"  "tinker_rearm"
    "AbilityChannelTime"  "200"
    "AbilityCastRange"  "150"
    "MaxLevel"      "1"
    "BaseClass" "ability_datadriven"
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Repair"
        "RepairTimeRatio" "1.5"
      }
      "ApplyModifier"
      {
        "ModifierName"  "modifier_channeling"
        "Target"    "TARGET"
      }
    }
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "RepairStop"
      }
      "RemoveModifier"
      {
          "ModifierName" "modifier_channeling"
          "Target" "TARGET"
      }
    }
    "OnChannelFinish"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "RepairStop"
      }
      "RemoveModifier"
      {
          "ModifierName" "modifier_channeling"
          "Target" "TARGET"
      }
    }

    "Modifiers"
    {
      "modifier_autocast_aura"
      {
        "Passive"     "1"
        "IsHidden"      "1"
    
        "Aura"        "modifier_autocast_attacked"
        "Aura_Radius"     "900"
        "Aura_Teams"    "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
        "Aura_Types"    "DOTA_UNIT_TARGET_BASIC"
      }
      "modifier_autocast_attacked"
      {
        "IsHidden"  "1"
        "OnAttacked"
        {
          "RunScript"
          {
            "ScriptFile"  "scripts/vscripts/buildings/building.lua"
            "Function"    "RepairAutocast"
            "RepairTimeRatio" "1.5"
          }
        }
      }
      "modifier_channeling"
      {
        "ThinkInterval" "1.3"
        "IsHidden"  "1"
        "OnIntervalThink"
        {
          "ApplyModifier"
          {
              "ModifierName"  "channelling_animation"
              "Target"        "CASTER"
          }
        }
      }
      "channelling_animation"
      {
        "IsHidden" "1"
        "Duration" "1"
        "OverrideAnimation" "ACT_DOTA_ATTACK"
      }
    }
  }


  "upgrade_to_t2_tent"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass" "ability_datadriven"
    "AbilityChannelTime"  "5.0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"  "CASTER"
        "TargetUnit"  "tent_t2"
        "LumberCost"  "10"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "tent_t2"
        "Scale"       "1"
      }
    }
  }

  //================================================================================= /
  // Upgrade to T2 House
  //================================================================================= /
  "upgrade_to_t2_house"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass" "ability_datadriven"
    "AbilityChannelTime"  "5.0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"  "CASTER"
        "TargetUnit"  "house_t2"
        "LumberCost"  "3000"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "house_t2"
        "Scale"       "1"
      }
    }
  }

  //================================================================================= /
  // Upgrade unit to Topaz Wall
  //================================================================================= /
  "upgrade_to_topaz_wall"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass" "ability_datadriven"
    "AbilityChannelTime"  "1" // #DEBUG, true value is 5
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"  "CASTER"
        "TargetUnit"  "npc_wall_topaz"
        "LumberCost"  "1" // #DEBUG, true value is 250
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "npc_wall_topaz"
        "Scale"       ".5"
      }
    }
  }

  //================================================================================= /
  // Upgrade unit to Amethyst Wall
  //================================================================================= /
  "upgrade_to_amethyst_wall"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass" "ability_datadriven"
    "AbilityChannelTime"  "1" // #DEBUG, true value is 10
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"  "CASTER"
        "TargetUnit"  "npc_wall_amethyst"
        "LumberCost"  "1" // #DEBUG, true value is 1000
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "npc_wall_amethyst"
      }
    }
  }

  //================================================================================= /
  // Upgrade unit to Sapphire Wall
  //================================================================================= /
  "upgrade_to_sapphire_wall"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass" "ability_datadriven"
    "AbilityChannelTime"  "1" // #DEBUG, true value is 20
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"  "CASTER"
        "TargetUnit"  "npc_wall_sapphire"
        "LumberCost"  "1" // #DEBUG, true value is 5000
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "npc_wall_sapphire"
      }
    }
  }

  //================================================================================= /
  // Upgrade unit to Emerald Wall
  //================================================================================= /
  "upgrade_to_emerald_wall"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass" "ability_datadriven"
    "AbilityChannelTime"  "1" // #DEBUG, true value is 30
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"  "CASTER"
        "TargetUnit"  "npc_wall_emerald"
        "LumberCost"  "1" // #DEBUG, true value is 10000
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "npc_wall_emerald"
      }
    }
  }
  //================================================================================= /
  // Upgrade unit to Chrysoprase Wall
  //================================================================================= /
  "upgrade_to_chrysoprase_wall"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass" "ability_datadriven"
    "AbilityChannelTime"  "1" // #DEBUG, true value is 40
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"  "CASTER"
        "TargetUnit"  "npc_wall_chrysoprase"
        "LumberCost"  "1" // #DEBUG, true value is 30000
        "GoldCost"  "1" // #DEBUG, true value is 10
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "npc_wall_chrysoprase"
      }
    }
  }

  //================================================================================= /
  // Upgrade unit to Garnet Wall
  //================================================================================= /
  "upgrade_to_garnet_wall"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass" "ability_datadriven"
    "AbilityChannelTime"  "1" // #DEBUG, true value is 50
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"  "CASTER"
        "TargetUnit"  "npc_wall_garnet"
        "LumberCost"  "1" // #DEBUG, true value is 80000
        "GoldCost"  "1" // #DEBUG, true value is 35
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "npc_wall_garnet"
      }
    }
  }

  //================================================================================= /
  // Upgrade unit to Ruby Wall
  //================================================================================= /
  "upgrade_to_ruby_wall"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass" "ability_datadriven"
    "AbilityChannelTime"  "1" // #DEBUG, true value is 60
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"  "CASTER"
        "TargetUnit"  "npc_wall_ruby"
        "LumberCost"  "1" // #DEBUG, true value is 150000
        "GoldCost"  "1" // #DEBUG, true value is 100
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "npc_wall_ruby"
      }
    }
  }

  //================================================================================= /
  // Upgrade unit to Diamond Wall
  //================================================================================= /
  "upgrade_to_diamond_wall"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass" "ability_datadriven"
    "AbilityChannelTime"  "1" // #DEBUG, true value is 70
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"  "CASTER"
        "TargetUnit"  "npc_wall_diamond"
        "LumberCost"  "1" // #DEBUG, true value is 250000
        "GoldCost"  "1" // #DEBUG, true value is 200
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "npc_wall_diamond"
      }
    }
  }

  //================================================================================= /
  // Upgrade unit to Onyx Wall
  //================================================================================= /
  "upgrade_to_onyx_wall"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass" "ability_datadriven"
    "AbilityChannelTime"  "1" // #DEBUG, true value is 100
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"  "CASTER"
        "TargetUnit"  "npc_wall_onyx"
        "LumberCost"  "1" // #DEBUG, true value is 450000
        "GoldCost"  "1" // #DEBUG, true value is 1200
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "npc_wall_onyx"
      }
    }
  }


  //================================================================================= /
  // Upgrade to Opal Tower
  //================================================================================= /
  "upgrade_to_tower_opal"
  {
    "AbilityBehavior"   "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass"       "ability_datadriven"
    "AbilityChannelTime"  "5"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"    "CASTER"
        "TargetUnit"  "tower_opal"
        "LumberCost"  "800"
        "GoldCost"    "0"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "tower_opal"
        "Scale"     "1"
      }
    }
  }

  //=================================================================================/
  // Upgrade to Lesser Mana Energy Tower
  //=================================================================================/
  "upgrade_to_tower_manaburn_t1"
  {
    "AbilityBehavior"   "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass"       "ability_datadriven"
    "AbilityChannelTime"  "5"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"    "CASTER"
        "TargetUnit"  "tower_manaburn_t1"
        "LumberCost"  "2000"
        "GoldCost"    "0"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "tower_manaburn_t1"
        "Scale"     "0.7"
      }
    }
  }

  //=================================================================================/
  // Lesser Mana Energy Tower - Feedback
  //=================================================================================/
  // Ability taken from SpellLibrary. - https://github.com/Pizzalol/SpellLibrary
  // Author: Pizzalol
  // Date: 16.12.2014.
  "tower_manaburn_t1_feedback"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_PHYSICAL"    
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "AbilityTextureName"      "antimage_mana_break"
    "MaxLevel"            "1"
  
    // Precache 
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "particle"  "particles/generic_gameplay/generic_manaburn.vpcf"
      "soundfile" "soundevents/game_sounds_heroes/game_sounds_antimage.vsndevts"
    }
  
    // Special  
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_FLOAT"
        "damage_per_burn"   "1"
      }
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "mana_per_hit"      "50"
      }
    }
  
    "Modifiers"
    {
      "modifier_mana_break_orb_datadriven"
      {
        "Passive" "1"
        "IsHidden"  "1"
  
        "OnAttackLanded"
        {
          "RunScript"
          {
            "ScriptFile"  "scripts/vscripts/abilities/towers.lua"
            "Function"    "ManaBreak"
            "Target"    "TARGET"
          }
  
          "FireSound"
          {
            "EffectName"  "Hero_Antimage.ManaBreak"
            "Target"    "TARGET"
          }
  
          "AttachEffect"
          {
            "EffectName"    "particles/generic_gameplay/generic_manaburn.vpcf"
            "EffectAttachType"  "attach_hitloc"
            "Target"      "TARGET"
          }
        }
      }
    }
  }
  //=================================================================================/
  // Upgrade to Tower of Flame
  //=================================================================================/
  "upgrade_to_tower_flame_t1"
  {
    "AbilityBehavior"   "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass"       "ability_datadriven"
    "AbilityChannelTime"  "25"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"    "CASTER"
        "TargetUnit"  "tower_flame_t1"
        "LumberCost"  "4000"
        "GoldCost"    "0"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "tower_flame_t1"
        "Scale"     "1"
      }
    }
  }

  //=================================================================================/
  // Upgrade to Tower of Blood
  //=================================================================================/
  "upgrade_to_tower_blood_t1"
  {
    "AbilityBehavior"   "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass"       "ability_datadriven"
    "AbilityChannelTime"  "25"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"    "CASTER"
        "TargetUnit"  "tower_blood_t1"
        "LumberCost"  "15000"
        "GoldCost"    "1"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "tower_blood_t1"
        "Scale"     "2.5"
      }
    }
  }

  //=================================================================================/
  // Tower of Blood - Holy Blood
  //=================================================================================/
  "tower_blood_t1_holy_blood"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL"
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"      "dazzle_weave"
    "MaxLevel"            "1"

    "Modifiers"
    {
      "modifier_holy_blood_debuff"
      {
        "Passive"     "1"
        "IsHidden"      "0"
        "IsDebuff"      "1"
      
        "OnAttackLanded"
        {
          "ApplyModifier"
          {
            "ModifierName"  "modifier_blood_armor_1"
            "Target"    "TARGET"
            "Duration"    "5"
          }

          "RunScript"
          {
            "ScriptFile"  "scripts/vscripts/abilities/towers.lua"
            "Function"    "bloodArmor"
          }
        }     
      }

      "modifier_blood_armor_1"
      {
        "Passive" "1"
        "IsHidden"  "0"
        "IsDebuff"  "1"

        "Properties"
        {
          "MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS" "-1"
        }
      }
    }
  }

  //=================================================================================/
  // Upgrade to Tower of Blood
  //=================================================================================/
  "upgrade_to_tower_calcite_t1"
  {
    "AbilityBehavior"   "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass"       "ability_datadriven"
    "AbilityChannelTime"  "10"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"    "CASTER"
        "TargetUnit"  "tower_calcite_t1"
        "LumberCost"  "3500"
        "GoldCost"    "0"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "tower_calcite_t1"
        "Scale"     "1"
      }
    }
  }

  //=================================================================================/
  // Calcite T1 Attack speed buff
  //=================================================================================/
  "tower_calcite_t1_attack"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL"
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"      "ogre_magi_bloodlust"
    "MaxLevel"            "1"

    "AbilitySpecial"
    {
      "01"
      {
        "var_type"              "FIELD_INTEGER"
        "tower_calcite_t1_speed_gain"   "20"
      }
      "02"
      {       
        "var_type"              "FIELD_FLOAT"
        "duration"              "5.0"
      }
      "03"
      {
        "var_type"              "FIELD_INTEGER"
        "max_stacks"            "10"
      }
    }

    "Modifiers"
    {
      "modifier_calcite_attack_gain"
      {
        "Passive"   "1"
        "IsHidden"    "0"

        "OnAttackLanded"
        {
          "RunScript"
          {
            "ScriptFile"  "scripts/vscripts/abilities/towers.lua"
            "Function"    "calciteBuff"
          }

          "ApplyModifier"
          {
            "ModifierName"  "modifier_calcite_stack"
            "Target"    "CASTER"
            "Duration"    "%duration"
          }
        }
      }

      "modifier_calcite_stack"
      {
        "Passive" "1"
        "IsHidden"  "0"

        "Properties"
        {
          "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT" "%tower_calcite_t1_speed_gain"
        }
      }
    }
  }

  //=================================================================================/
  // Upgrade to Frost Tower
  //=================================================================================/
  "upgrade_to_tower_frost"
  {
    "AbilityBehavior"   "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass"       "ability_datadriven"
    "AbilityChannelTime"  "30"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"    "CASTER"
        "TargetUnit"  "tower_frost"
        "LumberCost"  "15000"
        "GoldCost"    "0"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "tower_frost"
        "Scale"     "0.7"
      }
    }
  }

  //=================================================================================/
  // Upgrade to Wall of Seeing
  //=================================================================================/
  "upgrade_to_wall_seeing"
  {
    "AbilityBehavior"   "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass"       "ability_datadriven"
    "AbilityChannelTime"  "30"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"    "CASTER"
        "TargetUnit"  "wall_seeing"
        "LumberCost"  "5000"
        "GoldCost"    "1"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "wall_seeing"
        "Scale"     "1"
      }
    }
  }

  //=================================================================================/
  // Wall of Seeing Truesight
  //=================================================================================/
  "wall_of_seeing_truesight"
  {
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"      "rubick_empty1"
    "MaxLevel"            "1"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_AURA"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL"

    "Modifiers"
    {
      "modifier_wall_seeing_truesight"
      {
        "Passive"     "1"
        "IsHidden"      "0"
        "IsDebuff"      "0"
        "Aura"            "modifier_wall_seeing_aura"
        "Aura_Radius"     "800"
        "Aura_Teams"      "DOTA_UNIT_TARGET_TEAM_ENEMY"
        "Aura_Types"      "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
        "Aura_Flags"      "DOTA_UNIT_TARGET_FLAG_NONE"
        "Aura_ApplyToCaster" "0"
      }

      "modifier_wall_seeing_aura"
      {
        "OnCreated"
        {
          "ApplyModifier"
          {
            "ModifierName"  "modifier_truesight"
            "Target"    "TARGET"
          }
        }

        "OnDestroy"
        {
          "RemoveModifier"
          {
            "ModifierName"  "modifier_truesight"
            "Target"    "TARGET"
          }
        }
      }
    }

  }

  //=================================================================================/
  // Tower of Frost - Slow
  //=================================================================================/
  "tower_frost_attack"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL"
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"      "lich_frost_nova"
    "MaxLevel"            "1"

    "precache"
    {
      "particle"  "particles/generic_gameplay/generic_slowed_cold.vpcf"
    }

    "AbilitySpecial"
    {
      "01"
      {
        "var_type"              "FIELD_INTEGER"
        "tower_frost_movespeed"       "-25"
      }
      "02"
      {
        "var_type"      "FIELD_FLOAT"
        "duration"      "5.0"
      }
    }

    "Modifiers"
    {
      "modifier_frost_slow"
      {
        "Passive"   "1"
        "IsHidden"    "1"

        "OnAttackLanded"
        {
          "ApplyModifier"
          {
            "ModifierName"  "modifier_tower_frost_slow"
            "Target"    "TARGET"
            "Duration"    "%duration"
          }
        }
      }
      "modifier_tower_frost_slow"
      {
        "IsHidden"  "0"
        "IsDebuff"  "1"

        "EffectName"          "particles/generic_gameplay/generic_slowed_cold.vpcf"

        "Properties"
        {
          "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE" "%tower_frost_movespeed"
        }
      }
    }
  }
  //=================================================================================/
  // Upgrade to Lesser Mana Energy Tower
  //=================================================================================/
  "upgrade_to_tower_manaburn_t1"
  {
    "AbilityBehavior"   "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass"       "ability_datadriven"
    "AbilityChannelTime"  "5"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"    "CASTER"
        "TargetUnit"  "tower_manaburn_t1"
        "LumberCost"  "2000"
        "GoldCost"    "0"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "tower_manaburn_t1"
        "Scale"     "0.7"
      }
    }
  }

  //=================================================================================/
  // Lesser Mana Energy Tower - Feedback
  //=================================================================================/
  // Ability taken from SpellLibrary. - https://github.com/Pizzalol/SpellLibrary
  // Author: Pizzalol
  // Date: 16.12.2014.
  "tower_manaburn_t1_feedback"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_PHYSICAL"    
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"
    "AbilityTextureName"      "antimage_mana_break"
    "MaxLevel"            "1"
  
    // Precache 
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "particle"  "particles/generic_gameplay/generic_manaburn.vpcf"
      "soundfile" "soundevents/game_sounds_heroes/game_sounds_antimage.vsndevts"
    }
  
    // Special  
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"        "FIELD_FLOAT"
        "damage_per_burn"   "1"
      }
      "02"
      {
        "var_type"        "FIELD_INTEGER"
        "mana_per_hit"      "50"
      }
    }
  
    "Modifiers"
    {
      "modifier_mana_break_orb_datadriven"
      {
        "Passive" "1"
        "IsHidden"  "1"
  
        "OnAttackLanded"
        {
          "RunScript"
          {
            "ScriptFile"  "scripts/vscripts/abilities/towers.lua"
            "Function"    "ManaBreak"
            "Target"    "TARGET"
          }
  
          "FireSound"
          {
            "EffectName"  "Hero_Antimage.ManaBreak"
            "Target"    "TARGET"
          }
  
          "AttachEffect"
          {
            "EffectName"    "particles/generic_gameplay/generic_manaburn.vpcf"
            "EffectAttachType"  "attach_hitloc"
            "Target"      "TARGET"
          }
        }
      }
    }
  }
  //=================================================================================/
  // Upgrade to Tower of Flame
  //=================================================================================/
  "upgrade_to_tower_flame_t1"
  {
    "AbilityBehavior"   "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass"       "ability_datadriven"
    "AbilityChannelTime"  "25"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"    "CASTER"
        "TargetUnit"  "tower_flame_t1"
        "LumberCost"  "4000"
        "GoldCost"    "0"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "tower_flame_t1"
        "Scale"     "1"
      }
    }
  }

  //=================================================================================/
  // Upgrade to Tower of Blood
  //=================================================================================/
  "upgrade_to_tower_blood_t1"
  {
    "AbilityBehavior"   "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "BaseClass"       "ability_datadriven"
    "AbilityChannelTime"  "25"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "Upgrade"
        "TARGET"    "CASTER"
        "TargetUnit"  "tower_blood_t1"
        "LumberCost"  "15000"
        "GoldCost"    "1"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "scripts/vscripts/buildings/building.lua"
        "Function"    "FinishUpgrade"
        "TargetUnit"  "tower_blood_t1"
        "Scale"     "1"
      }
    }
  }

  //=================================================================================/
  // Tower of Blood - Holy Blood
  //=================================================================================/
  "tower_blood_t1_holy_blood"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL"
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"      "dazzle_weave"
    "MaxLevel"            "1"

    "Modifiers"
    {
      "modifier_holy_blood_debuff"
      {
        "Passive"     "1"
        "IsHidden"      "0"
        "IsDebuff"      "1"
      
        "OnAttackLanded"
        {
          "ApplyModifier"
          {
            "ModifierName"  "modifier_name"
            "Target"    "TARGET"
            "Duration"    "5"
          }
        }
      }
    }
  }

  //=================================================================================/
  // Wall Tower T1 - Splash Attack
  //=================================================================================/
  "tower_wall_t1_splash"
  {
    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_PHYSICAL"
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"        "rubick_empty1"
    "MaxLevel"                  "1"

    //From Davoness
    "OnAttackLanded"
    {
      "Damage"
      {
          "Target"
          {
              "Center"    "TARGET"
              "Radius"    "500"
              "Teams"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
              "Types"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
          }
          "Type"          "DAMAGE_TYPE_PHYSICAL"
          "Damage"        "%attack_damage"
      }
    }
  }



  // START OF BUILDING HELPER ABILITIES
  "move_to_point_70"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT"
    "BaseClass"           "ability_datadriven"
    "AbilityCastPoint"        "0"
    "AbilityCooldown"       "0"
    "AbilityCastRange"        "70"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    "MaxLevel"            "1"

    "AbilityManaCost"       "0"

    "OnSpellStart"
    {
      "RunScript"
      {
        "Target"    "POINT"
        "ScriptFile"  "scripts/vscripts/abilities.lua"
        "Function"    "create_building_entity"
      }
    }
  }

  "move_to_point_100"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT"
    "BaseClass"           "ability_datadriven"
    "AbilityCastPoint"        "0"
    "AbilityCooldown"       "0"
    "AbilityCastRange"        "100"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    "MaxLevel"            "1"

    "AbilityManaCost"       "0"

    "OnSpellStart"
    {
      "RunScript"
      {
        "Target"    "POINT"
        "ScriptFile"  "scripts/vscripts/abilities.lua"
        "Function"    "create_building_entity"
      }
    }
  }

  "move_to_point_150"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT"
    "BaseClass"           "ability_datadriven"
    "AbilityCastPoint"        "0"
    "AbilityCooldown"       "0"
    "AbilityCastRange"        "150"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    "MaxLevel"            "1"

    "AbilityManaCost"       "0"

    "OnSpellStart"
    {
      "RunScript"
      {
        "Target"    "POINT"
        "ScriptFile"  "scripts/vscripts/abilities.lua"
        "Function"    "create_building_entity"
      }
    }
  }

  "move_to_point_200"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT"
    "BaseClass"           "ability_datadriven"
    "AbilityCastPoint"        "0"
    "AbilityCooldown"       "0"
    "AbilityCastRange"        "200"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    "MaxLevel"            "1"

    "AbilityManaCost"       "0"

    "OnSpellStart"
    {
      "RunScript"
      {
        "Target"    "POINT"
        "ScriptFile"  "scripts/vscripts/abilities.lua"
        "Function"    "create_building_entity"
      }
    }
  }

  "move_to_point_250"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT"
    "BaseClass"           "ability_datadriven"
    "AbilityCastPoint"        "0"
    "AbilityCooldown"       "0"
    "AbilityCastRange"        "250"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    "MaxLevel"            "1"

    "AbilityManaCost"       "0"

    "OnSpellStart"
    {
      "RunScript"
      {
        "Target"    "POINT"
        "ScriptFile"  "scripts/vscripts/abilities.lua"
        "Function"    "create_building_entity"
      }
    }
  }

  "move_to_point_300"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT"
    "BaseClass"           "ability_datadriven"
    "AbilityCastPoint"        "0"
    "AbilityCooldown"       "0"
    "AbilityCastRange"        "300"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    "MaxLevel"            "1"

    "AbilityManaCost"       "0"

    "OnSpellStart"
    {
      "RunScript"
      {
        "Target"    "POINT"
        "ScriptFile"  "scripts/vscripts/abilities.lua"
        "Function"    "create_building_entity"
      }
    }
  }

  "bh_dummy"
  {
    "AbilityBehavior"     "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"            "rubick_empty1"
    "MaxLevel"                      "1"

    "OnUpgrade"
    {
      "ApplyModifier"
      {
        "ModifierName"  "dummy_unit"
        "Target"    "CASTER"
      }
    }

    "Modifiers"
    {
      "dummy_unit"
      {
        "Passive"                        "1"
        "IsHidden"                       "1"    
        "States"
        {
          "MODIFIER_STATE_UNSELECTABLE"   "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NO_HEALTH_BAR"    "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NOT_ON_MINIMAP"   "MODIFIER_STATE_VALUE_ENABLED"
        }
      }

      "building_canceled"
      {
        "Passive"                        "0"
        "IsHidden"                       "1"
        "OnOrder"
        // Triggers on Move/Casting/Hold/Stop
        {
          "RunScript"
          {
            "ScriptFile"  "scripts/vscripts/abilities.lua"
            "Function"    "building_canceled"
          }
        }

      } 
    }
  }

  // END OF BUILDING HELPER ABILITIES

  //================================================================================= 
  // HUMAN BUILDINGS
  //=================================================================================

  "build_house1"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "house_t1"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"            "1"
    "BuildingSize"          "2"
    "BuildTime"           "3"
    "AbilityCastRange"        "200"
    "UpdateHealth"          "1"
    "Scale"             "1"
    "MaxScale"            ".5"
    "CasterCanControl"        "1"

    "AbilityCooldown"       "0.05"
    "AbilityGoldCost"       "0"
    "AbilityLumberCost"       "10"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    "UnitName"            "house_t1"
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.05"
    "MaxLevel"            "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"      "scripts/vscripts/abilities.lua"
        "Function"        "build"
      }
    }
  }

  "build_tent_t1"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "tent_t1"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"            "1"
    "BuildingSize"          "3"
    "BuildTime"           "1"
    "AbilityCastRange"        "200"
    "UpdateHealth"          "1"
    "Scale"             "0.1"
    "MaxScale"            "0.2"
    "CasterCanControl"        "1"

    "AbilityCooldown"       "0"
    "AbilityGoldCost"       "0"
    "AbilityLumberCost"       "20"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    "UnitName"            "tent_t1"
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.0"
    "MaxLevel"            "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"      "scripts/vscripts/abilities.lua"
        "Function"        "build"
      }
    }
  }

  "build_slayer_tavern"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "slayer_tavern"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"            "1"
    "BuildingSize"          "4"
    "BuildTime"           "2"
    "AbilityCastRange"        "200"
    "UpdateHealth"          "1"
    "Scale"             "1"
    "MaxScale"            ".5"
    "CasterCanControl"        "1"

    "AbilityCooldown"       "2.0"
    "AbilityGoldCost"       "0"
    "AbilityLumberCost"       "400"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    "UnitName"            "slayer_tavern"
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.0"
    "MaxLevel"            "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"      "scripts/vscripts/abilities.lua"
        "Function"        "build"
      }
    }
  }

  "build_human_surplus"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "human_surplus"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"            "1"
    "BuildingSize"          "4"
    "BuildTime"           "15"
    "AbilityCastRange"        "200"
    "UpdateHealth"          "1"
    "Scale"             "1"
    "MaxScale"            ".5"
    "CasterCanControl"        "1"

    "AbilityCooldown"       "2.0"
    "AbilityGoldCost"       "3"
    "AbilityLumberCost"       "1000"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    "UnitName"            "human_surplus"
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.0"
    "MaxLevel"            "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"      "scripts/vscripts/abilities.lua"
        "Function"        "build"
      }
    }
  }

  "build_tower_pearls"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "tower_pearls"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"            "1"
    "BuildingSize"          "2"
    "BuildTime"           "1"
    "AbilityCastRange"        "200"
    "UpdateHealth"          "1"
    "Scale"             "1"
    "MaxScale"            ".5"
    "CasterCanControl"        "1"

    "AbilityCooldown"       "2.0"
    "AbilityGoldCost"       "0"
    "AbilityLumberCost"       "50"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    "UnitName"            "tower_pearls"
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.0"
    "MaxLevel"            "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"      "scripts/vscripts/abilities.lua"
        "Function"        "build"
      }
    }
  }

  "build_wall_t1"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "wall_1"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"            "1"
    "BuildingSize"          "2"
    "BuildTime"           "5"
    "AbilityCastRange"        "200"
    "UpdateHealth"          "1"
    "Scale"             ".5"
    "MaxScale"            "1"
    "CasterCanControl"        "1"

    "AbilityCooldown"       "2.0"
    "AbilityGoldCost"       "0"
    "AbilityLumberCost"       "50"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    "UnitName"            "npc_wall_carnelian"
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.0"
    "MaxLevel"            "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"      "scripts/vscripts/abilities.lua"
        "Function"        "build"
      }
    }
  }

  "build_flag"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "flag"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"            "1"
    "BuildingSize"          "2"
    "BuildTime"           "1"
    "AbilityCastRange"        "200"
    "UpdateHealth"          "1"
    "Scale"             "1"
    "MaxScale"            ".5"
    "CasterCanControl"        "1"

    "AbilityCooldown"       "2.0"
    "AbilityGoldCost"       "0"
    "AbilityLumberCost"       "0"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    "UnitName"            "human_flag"
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.0"
    "MaxLevel"            "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"      "scripts/vscripts/abilities.lua"
        "Function"        "build"
      }
    }
  }

  "build_research_center_t1"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "research_center"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"            "1"
    "BuildingSize"          "4"
    "BuildTime"           "1"
    "AbilityCastRange"        "200"
    "UpdateHealth"          "1"
    "Scale"             "1"
    "MaxScale"            ".5"
    "CasterCanControl"        "1"

    "AbilityCooldown"       "2.0"
    "AbilityGoldCost"       "0"
    "AbilityLumberCost"       "150"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    "UnitName"            "research_center_t1"
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.0"
    "MaxLevel"            "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"      "scripts/vscripts/abilities.lua"
        "Function"        "build"
      }
    }
  }

  "build_heal_wall_t1"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "heal_wall_1"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"            "1"
    "BuildingSize"          "2"
    "BuildTime"           "5"
    "AbilityCastRange"        "200"
    "UpdateHealth"          "1"
    "Scale"             "1"
    "MaxScale"            ".5"
    "CasterCanControl"        "1"

    "AbilityCooldown"       "2.0"
    "AbilityGoldCost"       "0"
    "AbilityLumberCost"       "2000"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    "UnitName"            "heal_wall_t1"
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.0"
    "MaxLevel"            "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"      "scripts/vscripts/abilities.lua"
        "Function"        "build"
      }
    }
  }

  //====================================================
  // Heal Tower: Healing Beam
  //====================================================
  "heal_tower_heal_beam"
  {
    "BaseClass"         "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_DONT_RESUME_ATTACK"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "SpellImmunityType"       "SPELL_IMMUNITY_ALLIES_YES"
    "AbilityTextureName"      "dazzle_shadow_wave"
    "MaxLevel"            "1"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"     "soundevents/game_sounds_heroes/game_sounds_dazzle.vsndevts"
      "particle"      "particles/vampire/dazzle_shadow_wave.vpcf"
    }

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "500"
    "AbilityCastPoint"        "0.5"
    
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "10"
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"      "FIELD_INTEGER"
        "bounce_radius"   "2000"
      }
      "02"
      { 
        "var_type"      "FIELD_INTEGER"
        "max_targets"   "4"
      }
      "03"
      {
        "var_type"      "FIELD_INTEGER"
        "heal"        "200"
      }
    }

    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"  "Hero_Dazzle.Shadow_Wave"
        "Target"    "CASTER"
      }

      "FireEffect"
      {
        "EffectName"        "particles/vampire/dazzle_shadow_wave.vpcf"
        "EffectAttachType"  "start_at_customorigin"
        
        "ControlPointEntities"
        {
          "CASTER"  "attach_attack1"
          "TARGET"  "follow_origin"
        }
      }

      "RunScript"
      {
        "ScriptFile"  "abilities/vampire.lua"
        "Function"    "HealthBeam"
        "shadow_wave_particle"  "particles/vampire/dazzle_shadow_wave.vpcf"
      }
    }
  }
  //=========================================================
  // Healing Tower: Healing Aura
  //=========================================================
  "heal_tower_heal_aura"
  {
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_AOE | DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "BaseClass" "ability_datadriven"
    "AbilityTextureName"  "rubick_empty1"
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"  "FIELD_INTEGER"
        "health_radius" "450 450"
      }

      "02"
      {
        "var_type"  "FIELD_FLOAT"
        "health_regen_amount" "22.0 22.0"
      }

      "03"
      {
        "var_type"  "FIELD_FLOAT"
        "mana_regen_amount" "0 22.0"
      }
    }


    "OnSpellStart"
    {
      "ApplyModifier"
      {
        "ModifierName"  "health_regen"
        "Target"
        {
          "Center"  "CASTER"
          "Radius"  "%health_radius"
          "Teams" "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
          "Types" "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_CREEP | DOTA_UNIT_TARGET_MECHANICAL | DOTA_UNIT_TARGET_OTHER"
        }

      }

    }

    "Modifiers"
    {
      "fx_heal_aura"
      {
        "Passive" "1"
        "IsHidden"  "1"
        "OnCreated"
        {
          "AttachEffect"
          {
            "Target"  "TARGET"
            "EffectName"  "particles/generic_gameplay/radiant_fountain_regen_mist.vpcf"
            "EffectAttatchType" "follow_origin"
            "ControlPoints"
            {
              "00"  "0 0 0"
              "01"  "%health_radius 0 0"
              "02"  "0 0 -200"
            }

          }

        }

      }

      "aura_health_regen"
      {
        "IsHidden"  "0"
        "Passive" "1"
        "Aura"  "health_regen"
        "Aura_Radius" "%health_radius"
        "Aura_Teams"  "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
        "Aura_Types"  "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_CREEP | DOTA_UNIT_TARGET_MECHANICAL"
        "Aura_ApplyToCaster"  "0"
      }

      "health_regen"
      {
        "Properties"
        {
          "MODIFIER_PROPERTY_HEALTH_REGEN_PERCENTAGE" "%health_regen_amount"
          "MODIFIER_PROPERTY_MANA_REGEN_TOTAL_PERCENTAGE" "%mana_regen_amount"
        }

      }
    }
  }


  "build_gold_mine_t1"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "gold_mine_1"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"            "1"
    "BuildingSize"          "2"
    "BuildTime"           "1"
    "AbilityCastRange"        "200"
    "UpdateHealth"          "1"
    "Scale"             "1"
    "MaxScale"            ".5"
    "CasterCanControl"        "1"

    "AbilityCooldown"       "2.0"
    "AbilityGoldCost"       "0"
    "AbilityLumberCost"       "20000"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    "UnitName"            "gold_mine_t1"
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.0"
    "MaxLevel"            "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"      "scripts/vscripts/abilities.lua"
        "Function"        "build"
      }
    }
  }

  "build_human_vault"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "human_vault"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"            "1"
    "BuildingSize"          "4"
    "BuildTime"           "2"
    "AbilityCastRange"        "200"
    "UpdateHealth"          "1"
    "Scale"             "1"
    "MaxScale"            ".5"
    "CasterCanControl"        "1"

    "AbilityCooldown"       "2.0"
    "AbilityGoldCost"       "1"
    "AbilityLumberCost"       "150"

    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    "UnitName"            "human_vault"
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.0"
    "MaxLevel"            "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"      "scripts/vscripts/abilities.lua"
        "Function"        "build"
      }
    }
  }

  "build_cancel"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "cancel"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"            "1"
    "BuildingSize"          "3"
    "BuildTime"           "4.0"
    "AbilityCastRange"        "200"
    "UpdateHealth"          "1"
    "Scale"             "1"
    "MaxScale"            ".5"
    "CasterCanControl"        "1"

    "AbilityCooldown"       "0"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.0"
    "MaxLevel"            "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"      "scripts/vscripts/abilities.lua"
        "Function"        "build"
      }
    }
  }

  "build_empty"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "cancel"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"            "1"
    "BuildingSize"          "3"
    "BuildTime"           "4.0"
    "AbilityCastRange"        "200"
    "UpdateHealth"          "1"
    "Scale"             "1"
    "MaxScale"            ".5"
    "CasterCanControl"        "1"

    "AbilityCooldown"       "2.0"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.0"
    "MaxLevel"            "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0"
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"      "scripts/vscripts/abilities.lua"
        "Function"        "build"
      }
    }
  }

  "build_blocked"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE | DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityType"         "DOTA_ABILITY_TYPE_HIDDEN"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "cancel"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"            "1"
    "BuildingSize"          "3"
    "BuildTime"           "4.0"
    "AbilityCastRange"        "200"
    "UpdateHealth"          "1"
    "Scale"             "1"
    "MaxScale"            ".5"
    "CasterCanControl"        "1"

    "AbilityCooldown"       "2.0"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.0"
    "MaxLevel"            "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0"
  }

  "build_blocked2"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE | DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityType"         "DOTA_ABILITY_TYPE_HIDDEN"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "cancel"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"            "1"
    "BuildingSize"          "3"
    "BuildTime"           "4.0"
    "AbilityCastRange"        "200"
    "UpdateHealth"          "1"
    "Scale"             "1"
    "MaxScale"            ".5"
    "CasterCanControl"        "1"

    "AbilityCooldown"       "2.0"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.0"
    "MaxLevel"            "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0"
  }

  "build_blocked3"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE | DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityType"         "DOTA_ABILITY_TYPE_HIDDEN"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "cancel"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"            "1"
    "BuildingSize"          "3"
    "BuildTime"           "4.0"
    "AbilityCastRange"        "200"
    "UpdateHealth"          "1"
    "Scale"             "1"
    "MaxScale"            ".5"
    "CasterCanControl"        "1"

    "AbilityCooldown"       "2.0"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.0"
    "MaxLevel"            "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0"
  }

  "build_blocked4"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE | DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityType"         "DOTA_ABILITY_TYPE_HIDDEN"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "cancel"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"            "1"
    "BuildingSize"          "3"
    "BuildTime"           "4.0"
    "AbilityCastRange"        "200"
    "UpdateHealth"          "1"
    "Scale"             "1"
    "MaxScale"            ".5"
    "CasterCanControl"        "1"

    "AbilityCooldown"       "2.0"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.0"
    "MaxLevel"            "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0"
  }

  "build_blocked5"
  {
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE | DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityType"         "DOTA_ABILITY_TYPE_HIDDEN"
    "BaseClass"           "ability_datadriven"
    "AbilityTextureName"      "cancel"
    "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
    // BuildingHelper info
    "Building"            "1"
    "BuildingSize"          "3"
    "BuildTime"           "4.0"
    "AbilityCastRange"        "200"
    "UpdateHealth"          "1"
    "Scale"             "1"
    "MaxScale"            ".5"
    "CasterCanControl"        "1"

    "AbilityCooldown"       "2.0"
    
    // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
    // End of BuildingHelper info

    // Stats
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastPoint"        "0.0"
    "MaxLevel"            "1"

    // Item Info
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "0"
  }




  //================================================================================= 
  // Vampire: Particle Effects
  //=================================================================================

  "vampire_particles"
  {
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"      "rubick_empty1"
    "MaxLevel"            "1"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_BOTH"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"

    "AbilityCooldown"       "0"
    "AbilityManaCost"       "0"
    
    "AbilityCastPoint"        "0"


    "precache"
    {
      "particle" "particles/vampire/courier_greevil_black_ambient_3.vpcf"
      "particle"  "particles/vampire/nevermore_trail.vpcf"
      "particle"  "particles/vampire/nevermore_trail_ground_cracks.vpcf"
    }

    "OnUpgrade"
    {
      "FireEffect"
      {
        "EffectName"        "particles/vampire/courier_greevil_black_ambient_3.vpcf"
        "EffectAttachType"  "follow_origin"
        "Target"            "CASTER"
      }
      "FireEffect"
      {
        "EffectName"        "particles/vampire/nevermore_trail.vpcf"
        "EffectAttachType"  "follow_origin"
        "Target"            "CASTER"
      }
      "FireEffect"
      {
        "EffectName"        "particles/vampire/nevermore_trail_ground_cracks.vpcf"
        "EffectAttachType"  "follow_origin"
        "Target"            "CASTER"
      }
    }
  }

  //================================================================================= 
  // Vampire: Vampire's Venom 
  //=================================================================================
  "vampire_poison"
  {
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"      "venomancer_poison_sting"
    "MaxLevel"            "1"

    "AbilityType"         "DOTA_ABILITY_TYPE_BASIC"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL"
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_NO"

    "Modifiers"
    {
      "modifier_vampire_poison"
      {
        "Passive"     "1"
        "IsHidden"      "1"

        "OnAttackLanded"
        {
          "ApplyModifier"
          {
            "ModifierName"  "modifier_vampire_poison_debuff"
            "Target"    "TARGET"
          }
        }
      }

      "modifier_vampire_poison_debuff"
      {
        "IsDebuff"      "1"

        "Duration"      "2"

        "Properties"
        {
            "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"  "-40"
        }
      }
    }
  }

  //================================================================================= 
  // Vampire: Critical Strike
  //=================================================================================
  "vampire_critical_strike"
  {
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"      "phantom_assassin_coup_de_grace"
    "MaxLevel"            "6"

    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL | DOTA_UNIT_TARGET_BUILDING"
    "SpellImmunityType"       "SPELL_IMMUNITY_ENEMIES_YES"


    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"     "soundevents/game_sounds_heroes/game_sounds_phantom_assassin.vsndevts"
    }

    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_INTEGER"
        "crit_bonus"        "200 275 350 425 500 575"
      }
      "02"
      {
        "var_type"          "FIELD_FLOAT"
        "crit_chance"       "2.5 3 3.5 4 4 4"
      }
    }

    "Modifiers"
    {
      "modifier_vampire_critical_strike"
      {
        "Passive"     "1"
        "IsHidden"      "1"

        "OnAttackStart"
        {
          "RemoveModifier"
          {
            "ModifierName"  "modifier_vampire_critical_strike"
            "Target"    "CASTER"
          }

          "Random"
          {
            "Chance"      "%crit_chance"
            "PseudoRandom"    "DOTA_PSEUDO_RANDOM_PHANTOMASSASSIN_CRIT"

            "OnSuccess"
            {
              "ApplyModifier"
              {
                "ModifierName"  "modifier_vampire_critical_strike_hit"
                "Target"    "CASTER"
              }

              "RunScript"
              {
                "ScriptFile"  "scripts/vscripts/abilities.lua"
                "Function"    "test"
              }
            }
          }
        }
      }

      "modifier_vampire_critical_strike_hit"
      {
        "IsHidden"    "1"

        "Properties"
        {
          "MODIFIER_PROPERTY_PREATTACK_CRITICALSTRIKE" "%crit_bonus"
        }

        "OnAttackLanded"
        {
          "RemoveModifier"
          {
            "ModifierName"  "modifier_vampire_critical_strike_hit"
            "Target"    "TARGET"
          }

          "FireSound"
          {
            "EffectName"  "Hero_PhantomAssassin.CoupDeGrace"
            "Target"    "TARGET"
          }
        }
      }
    }
  }

  //================================================================================= 
  // Vampire: Shadow Sight
  //=================================================================================
  "vampire_shadow_sight"
  {
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"      "keeper_of_the_light_blinding_light"
    "MaxLevel"            "2"

    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT"
    "AbilityCastRange"        "100000"
    "AbilityCastPoint"        "0.3"
    "AbilityCastAnimation"      "ACT_DOTA_CAST_ABILITY_1"

    "AbilityCooldown"       "30 20"
    "AbilityManaCost"       "200 250"

    "AbilitySpecial"
    {
      "01"
      {
        "var_type"      "FIELD_INTEGER"
        "radius"      "2500 3000"
      }
    }
    
    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/vampire.lua"
        "Function"    "ShadowSight"
        "Target"    "POINT"
      }
    }
  }


  //================================================================================= 
  // Vampire: Vision Dummy
  //=================================================================================
  "vampire_vision_dummy_lock"
  {
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"      "rubick_empty1"
    "MaxLevel"            "1"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"

    "precache"
    {
      "particle"  "particles/vampire/dust_of_appearance.vpcf"
      //"soundfile" "add a sound file later mang"
    }

    "Modifiers"
    {
      "modifier_dummy_lock"
      {
        "Passive"     "1"
        "IsHidden"      "1"
        
        "States"
        {
          "MODIFIER_STATE_UNSELECTABLE"   "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NOT_ON_MINIMAP"   "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NO_HEALTH_BAR"    "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_ATTACK_IMMUNE"    "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }

    "OnUpgrade"
    {
      "ApplyModifier"
      {
        "ModifierName"  "modifier_dummy_lock"
        "Target"    "CASTER"
      }

      "FireEffect"
      {
        "EffectName"        "particles/vampire/dust_of_appearance.vpcf"
        "EffectAttachType"  "follow_origin"
        "Target"            "CASTER"
      }
    }
  }

  //================================================================================= 
  // Vampire: Vision Dummy - no particles
  //=================================================================================
  "vampire_vision_dummy_lock2"
  {
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"      "rubick_empty1"
    "MaxLevel"            "1"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"

    "Modifiers"
    {
      "modifier_dummy_lock2"
      {
        "Passive"     "1"
        "IsHidden"      "1"
        
        "States"
        {
          "MODIFIER_STATE_UNSELECTABLE"   "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NOT_ON_MINIMAP"   "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NO_HEALTH_BAR"    "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_ATTACK_IMMUNE"    "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }

    "OnUpgrade"
    {
      "ApplyModifier"
      {
        "ModifierName"  "modifier_dummy_lock2"
        "Target"    "CASTER"
      }
    }
  }
  //================================================================================= 
  // Vampire: Health Beam - Credits to Pizzalol and Noya (SpellLibrary)
  //=================================================================================
  "vampire_health_beam"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_DONT_RESUME_ATTACK"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "SpellImmunityType"       "SPELL_IMMUNITY_ALLIES_YES"
    "AbilityTextureName"      "dazzle_shadow_wave"
    "MaxLevel"            "10"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      "soundfile"     "soundevents/game_sounds_heroes/game_sounds_dazzle.vsndevts"
      "particle"      "particles/vampire/dazzle_shadow_wave.vpcf"
    }

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "500"
    "AbilityCastPoint"        "0.5"
    
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "10"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "175 200 225 500 750 2000 3500 5250 7000 7500"
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"      "FIELD_INTEGER"
        "bounce_radius"   "2000"
      }
      "02"
      { 
        "var_type"      "FIELD_INTEGER"
        "max_targets"   "3 4 5 5 5 5 5 5 5 5"
      }
      "03"
      {
        "var_type"      "FIELD_INTEGER"
        "heal"        "1000 1500 2000 3000 4500 6000 7500 9000 11500 15000"
      }
    }

    "OnSpellStart"
    {
      "FireSound"
      {
        "EffectName"  "Hero_Dazzle.Shadow_Wave"
        "Target"    "CASTER"
      }

      "FireEffect"
      {
        "EffectName"        "particles/vampire/dazzle_shadow_wave.vpcf"
        "EffectAttachType"  "start_at_customorigin"
        
        "ControlPointEntities"
        {
          "CASTER"  "attach_attack1"
          "TARGET"  "follow_origin"
        }
      }

      "RunScript"
      {
        "ScriptFile"  "abilities/vampire.lua"
        "Function"    "HealthBeam"
        "shadow_wave_particle"  "particles/vampire/dazzle_shadow_wave.vpcf"
      }
    }
  }

  //================================================================================= 
  // Vampire: Chain of Death - Credits to Pizzalol and Noya (SpellLibrary)
  //=================================================================================
  "vampire_chain_of_death"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"           "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
    "AbilityTextureName"      "lion_finger_of_death"
    "MaxLevel"            "15"

    // Precache
    //-------------------------------------------------------------------------------------------------------------
    "precache"
    {
      //"soundfile"         "soundevents/game_sounds_heroes/game_sounds_dazzle.vsndevts"
      "particle"          "particles/vampire/zuus_arc_lightning.vpcf"
    }

    // Casting
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCastRange"        "600"
    "AbilityCastPoint"        "0.5"
    
    // Time   
    //-------------------------------------------------------------------------------------------------------------
    "AbilityCooldown"       "10"

    // Cost
    //-------------------------------------------------------------------------------------------------------------
    "AbilityManaCost"       "250 275 300 325 350 375 400 425 450 475 500 550 600 700 800"
    
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_INTEGER"
        "bounce_radius"       "500"
      }
      "02"
      { 
        "var_type"          "FIELD_INTEGER"
        "max_targets"       "4 5 6 7 8 9 10 10 10 10 10 10 10 10 10"
      }
      "03"
      {
        "var_type"          "FIELD_INTEGER"
        "damage"          "125 150 175 200 225 250 275 300 325 350 375 400 425 450 475"
      }
    }

    "OnSpellStart"
    {
      //"FireSound"
      //{
      //  "EffectName"  "Hero_Dazzle.Shadow_Wave"
      //  "Target"    "CASTER"
      //}

      "FireEffect"
      {
        "EffectName"        "particles/vampire/zuus_arc_lightning.vpcf"
        "EffectAttachType"  "start_at_customorigin"
        
        "ControlPointEntities"
        {
          "CASTER"  "attach_attack1"
          "TARGET"  "follow_origin"
        }
      }

      "RunScript"
      {
        "ScriptFile"        "abilities/vampire.lua"
        "Function"          "ChainOfDeath"
        "chain_of_death_particle" "particles/vampire/zuus_arc_lightning.vpcf"
        //"damage_particle"   "particles/units/heroes/hero_dazzle/dazzle_shadow_wave_impact_damage.vpcf"
      }
    }
  }

  //================================================================================= 
  // Vampire: Veil of Darkness
  //=================================================================================
  "vampire_veil_of_darkness"
  {
    "BaseClass"                 "ability_datadriven"
    "AbilityTextureName"      "night_stalker_hunter_in_the_night"
    "MaxLevel"            "3"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"

    "AbilityCooldown"       "150 100 50"
    "AbilityManaCost"       "0"
    // Special
    //-------------------------------------------------------------------------------------------------------------
    "AbilitySpecial"
    {
      "01"
      {
        "var_type"          "FIELD_INTEGER"
        "duration"          "60 80 100"
      }
      "02"
      { 
        "var_type"          "FIELD_INTEGER"
        "speed"         "20 30 50"
      }
    }


    "OnSpellStart"
    {
      "ApplyModifier"
      {
        "ModifierName"  "modifier_veil_of_darkness"
        "Target"    "CASTER"
        "Duration"    "%duration"
      }

      "RunScript"
      {
        "ScriptFile"  "abilities/vampire.lua"
        "Function"    "CykaSpeed"
      }
    }



    "Modifiers"
    {
      "modifier_veil_of_darkness"
      {
        "Passive"     "0"
        "IsHidden"      "0"
        "isBuff"      "1"
        "IsDebuff"      "0"
    
    
        "Properties"
        {
            "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE" "%speed" 
        }

        "States"
        {
          "MODIFIER_STATE_INVISIBLE"    "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }

  //================================================================================= 
  // Vampire: Summoning particle dummy
  //=================================================================================
  "vampire_particle_call"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                 "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
    "MaxLevel"            "1"

    "precache"
    {
      "particle" "particles/vampire/doom_bringer_f2p_death.vpcf"
    }

    "OnUpgrade"
    {
      "ApplyModifier"
      {
        "ModifierName"  "modifier_sigil"
        "Target"    "CASTER"
      }

      "FireEffect"
      {
        "EffectName"        "particles/vampire/doom_bringer_f2p_death.vpcf"
        "EffectAttachType"  "follow_origin"
        "Target"            "CASTER"
      }
    }

    "Modifiers"
    {
      "modifier_sigil"
      {
        "Passive" "1"
        "IsHidden"  "0"
        "States"
        {
          "MODIFIER_STATE_UNSELECTABLE" "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NO_HEALTH_BAR"  "MODIFIER_STATE_VALUE_ENABLED"
          //"MODIFIER_STATE_INVULNERABLE" "MODIFIER_STATE_VALUE_ENABLED" --invulnerable units cant have particles on them??
          "MODIFIER_STATE_NOT_ON_MINIMAP" "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }

  //================================================================================= 
  // Vampire: Spawning hider
  //=================================================================================
  "vampire_init_hider"
  {
    // General
    //-------------------------------------------------------------------------------------------------------------
    "BaseClass"                 "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "MaxLevel"            "1"

    "OnUpgrade"
    {
      "ApplyModifier"
      {
        "ModifierName"  "modifier_init_hider"
        "Target"    "CASTER"
        "Duration"    "55"
      }
    }

    "Modifiers"
    {
      "modifier_init_hider"
      {
        "Passive" "1"
        "IsHidden"  "0"
        "States"
        {
          "MODIFIER_STATE_UNSELECTABLE" "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NO_HEALTH_BAR"  "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_NOT_ON_MINIMAP" "MODIFIER_STATE_VALUE_ENABLED"
          "MODIFIER_STATE_SILENCED"   "MODIFIER_STATE_VALUE_ENABLED"
        }
      }
    }
  }
}